"use strict";(self.webpackChunkD2ArmorPicker=self.webpackChunkD2ArmorPicker||[]).push([[179],{4682:(it,G,_)=>{_.d(G,{F:()=>D});var v=_(5861),t=_(8751);function D(j){const z=new t.ZP("d2armorpicker-v2");return z.version(19).stores({manifestArmor:"id++, hash, isExotic",inventoryArmor:"id++, itemInstanceId, isExotic, hash, name, masterworked, clazz, slot"}).upgrade(function(){var I=(0,v.Z)(function*(m){yield j()});return function(m){return I.apply(this,arguments)}}()),z}},6471:(it,G,_)=>{_.d(G,{y:()=>v});var v=(()=>{return(t=v||(v={}))[t.ArmorSlotNone=0]="ArmorSlotNone",t[t.ArmorSlotHelmet=1]="ArmorSlotHelmet",t[t.ArmorSlotGauntlet=2]="ArmorSlotGauntlet",t[t.ArmorSlotChest=3]="ArmorSlotChest",t[t.ArmorSlotLegs=4]="ArmorSlotLegs",t[t.ArmorSlotClass=5]="ArmorSlotClass",v;var t})()},1043:(it,G,_)=>{_.d(G,{AR:()=>I,ID:()=>V,K9:()=>D,Mi:()=>j,Pn:()=>m,Sy:()=>bt,WB:()=>t,X9:()=>mt,cM:()=>lt,iV:()=>v,lp:()=>z,vr:()=>ft});var v=(()=>{return(g=v||(v={}))[g.NONE=0]="NONE",g[g.MINOR_MOBILITY=1]="MINOR_MOBILITY",g[g.MAJOR_MOBILITY=2]="MAJOR_MOBILITY",g[g.ARTIFICE_MOBILITY=3]="ARTIFICE_MOBILITY",g[g.MINOR_RESILIENCE=4]="MINOR_RESILIENCE",g[g.MAJOR_RESILIENCE=5]="MAJOR_RESILIENCE",g[g.ARTIFICE_RESILIENCE=6]="ARTIFICE_RESILIENCE",g[g.MINOR_RECOVERY=7]="MINOR_RECOVERY",g[g.MAJOR_RECOVERY=8]="MAJOR_RECOVERY",g[g.ARTIFICE_RECOVERY=9]="ARTIFICE_RECOVERY",g[g.MINOR_DISCIPLINE=10]="MINOR_DISCIPLINE",g[g.MAJOR_DISCIPLINE=11]="MAJOR_DISCIPLINE",g[g.ARTIFICE_DISCIPLINE=12]="ARTIFICE_DISCIPLINE",g[g.MINOR_INTELLECT=13]="MINOR_INTELLECT",g[g.MAJOR_INTELLECT=14]="MAJOR_INTELLECT",g[g.ARTIFICE_INTELLECT=15]="ARTIFICE_INTELLECT",g[g.MINOR_STRENGTH=16]="MINOR_STRENGTH",g[g.MAJOR_STRENGTH=17]="MAJOR_STRENGTH",g[g.ARTIFICE_STRENGTH=18]="ARTIFICE_STRENGTH",v;var g})(),t=(()=>{return(g=t||(t={}))[g.Mobility=0]="Mobility",g[g.Resilience=1]="Resilience",g[g.Recovery=2]="Recovery",g[g.Discipline=3]="Discipline",g[g.Intellect=4]="Intellect",g[g.Strength=5]="Strength",t;var g})();const D={[v.NONE]:[t.Strength,0,0,0],[v.MINOR_MOBILITY]:[t.Mobility,5,1,1703647492],[v.MAJOR_MOBILITY]:[t.Mobility,10,3,4183296050],[v.ARTIFICE_MOBILITY]:[t.Mobility,3,0,2322202118],[v.MINOR_RESILIENCE]:[t.Resilience,5,2,2532323436],[v.MAJOR_RESILIENCE]:[t.Resilience,10,4,1180408010],[v.ARTIFICE_RESILIENCE]:[t.Resilience,3,0,199176566],[v.MINOR_RECOVERY]:[t.Recovery,5,2,1237786518],[v.MAJOR_RECOVERY]:[t.Recovery,10,4,4204488676],[v.ARTIFICE_RECOVERY]:[t.Recovery,3,0,539459624],[v.MINOR_DISCIPLINE]:[t.Discipline,5,1,4021790309],[v.MAJOR_DISCIPLINE]:[t.Discipline,10,3,1435557120],[v.ARTIFICE_DISCIPLINE]:[t.Discipline,3,0,617569843],[v.MINOR_INTELLECT]:[t.Intellect,5,2,350061697],[v.MAJOR_INTELLECT]:[t.Intellect,10,4,2724608735],[v.ARTIFICE_INTELLECT]:[t.Intellect,3,0,3160845295],[v.MINOR_STRENGTH]:[t.Strength,5,1,2639422088],[v.MAJOR_STRENGTH]:[t.Strength,10,3,4287799666],[v.ARTIFICE_STRENGTH]:[t.Strength,3,0,2507624050]},j={[t.Mobility]:"\u654f\u6377",[t.Resilience]:"\u97e7\u6027",[t.Recovery]:"\u6062\u590d",[t.Discipline]:"\u7eaa\u5f8b",[t.Intellect]:"\u667a\u6167",[t.Strength]:"\u529b\u91cf"},z={[t.Mobility]:"https://www.bungie.net/common/destiny2_content/icons/e26e0e93a9daf4fdd21bf64eb9246340.png",[t.Resilience]:"https://www.bungie.net/common/destiny2_content/icons/202ecc1c6febeb6b97dafc856e863140.png",[t.Recovery]:"https://www.bungie.net/common/destiny2_content/icons/128eee4ee7fc127851ab32eac6ca91cf.png",[t.Discipline]:"https://www.bungie.net/common/destiny2_content/icons/79be2d4adef6a19203f7385e5c63b45b.png",[t.Intellect]:"https://www.bungie.net/common/destiny2_content/icons/d1c154469670e9a592c9d4cbdcae5764.png",[t.Strength]:"https://www.bungie.net/common/destiny2_content/icons/ea5af04ccd6a3470a44fd7bb0f66e2f7.png"};var I=(()=>{return(g=I||(I={}))[g.ClassAbilityRegenerationStat=10]="ClassAbilityRegenerationStat",I;var g})(),m=(()=>{return(g=m||(m={}))[g.None=0]="None",g[g.SlotNightmare=1]="SlotNightmare",g[g.SlotArtifice=2]="SlotArtifice",g[g.SlotLastWish=3]="SlotLastWish",g[g.SlotGardenOfSalvation=4]="SlotGardenOfSalvation",g[g.SlotDeepStoneCrypt=5]="SlotDeepStoneCrypt",g[g.SlotVaultOfGlass=6]="SlotVaultOfGlass",g[g.PerkIronBanner=7]="PerkIronBanner",g[g.PerkUniformedOfficer=8]="PerkUniformedOfficer",g[g.SlotVowOfTheDisciple=9]="SlotVowOfTheDisciple",g[g.SlotKingsFall=10]="SlotKingsFall",g[g.PerkPlunderersTrappings=11]="PerkPlunderersTrappings",g[g.SeraphSensorArray=12]="SeraphSensorArray",g[g.SlotRootOfNightmares=13]="SlotRootOfNightmares",g[g.PerkQueensFavor=14]="PerkQueensFavor",g[g.GuardianGamesClassItem=15]="GuardianGamesClassItem",g[g.SonarAmplifier=16]="SonarAmplifier",g[g.COUNT=17]="COUNT",m;var g})();const lt={[m.None]:"\u65e0",[m.GuardianGamesClassItem]:"\u5b88\u62a4\u8005\u6e38\u620f",[m.SlotNightmare]:"\u68a6\u9b47\u6a21\u7ec4",[m.SlotArtifice]:"\u8be1\u8ba1\u62a4\u7532\u6a21\u7ec4",[m.SlotLastWish]:"\u6700\u540e\u4e00\u613f\u7a81\u88ad\u6a21\u7ec4",[m.SlotGardenOfSalvation]:"\u6551\u8d4e\u82b1\u56ed\u7a81\u88ad\u6a21\u7ec4",[m.SlotDeepStoneCrypt]:"\u6df1\u5ca9\u5893\u5ba4\u7a81\u88ad\u6a21\u7ec4",[m.SlotVaultOfGlass]:"\u73bb\u7483\u62f1\u9876\u62a4\u7532\u6a21\u7ec4",[m.SlotVowOfTheDisciple]:"\u95e8\u5f92\u8a93\u7ea6\u7a81\u88ad\u6a21\u7ec4",[m.PerkIronBanner]:"\u94a2\u94c1\u9886\u4e3b\u7684\u9a84\u50b2",[m.PerkUniformedOfficer]:"\u82cf\u751f\u8d5b\u5b63\u52a0\u6210",[m.SlotKingsFall]:"\u56fd\u738b\u7684\u9668\u843d\u6a21\u7ec4",[m.PerkPlunderersTrappings]:"\u4fa0\u76d7\u8d5b\u5b63\u52a0\u6210",[m.SeraphSensorArray]:"\u70bd\u5929\u4f7f\u8d5b\u5b63\u52a0\u6210",[m.SlotRootOfNightmares]:"\u68a6\u9b47\u6839\u6e90\u62a4\u7532\u6a21\u7ec4",[m.PerkQueensFavor]:"\u5973\u738b\u7684\u6069\u60e0",[m.SonarAmplifier]:"\u58f0\u7eb3\u653e\u5927\u5668",[m.COUNT]:""},mt={[m.None]:"https://www.bungie.net/img/misc/missing_icon_d2.png",[m.GuardianGamesClassItem]:"https://www.bungie.net/common/destiny2_content/icons/DestinyEventCardDefinition_ce6c2cf855dce694bcc89803b6bc44b7.png",[m.SlotNightmare]:"https://www.bungie.net/common/destiny2_content/icons/53d6e3505cd03d4026b3dbbd9ccc19b6.jpg",[m.SlotArtifice]:"https://www.bungie.net/common/destiny2_content/icons/46eec78bb7864641bbd7ba1fd4f9f248.png",[m.SlotLastWish]:"https://www.bungie.net/common/destiny2_content/icons/76f0c1520fa384ceb27bd2469225dd8a.png",[m.SlotGardenOfSalvation]:"https://www.bungie.net/common/destiny2_content/icons/53d6e3505cd03d4026b3dbbd9ccc19b6.jpg",[m.SlotDeepStoneCrypt]:"https://www.bungie.net/common/destiny2_content/icons/d6452d010cfe72a51a9089ec68ab223c.png",[m.SlotVaultOfGlass]:"https://www.bungie.net/common/destiny2_content/icons/7c9a2d95113de19c5acdbed57775abf4.png",[m.SlotVowOfTheDisciple]:"https://www.bungie.net/common/destiny2_content/icons/b84b6ea72dd05de7123aa2ae87ba0d6a.png",[m.PerkIronBanner]:"https://bungie.net/common/destiny2_content/icons/DestinyActivityModeDefinition_fe57052d7cf971f7502daa75a2ca2437.png",[m.PerkUniformedOfficer]:"https://www.bungie.net/common/destiny2_content/icons/b4f6064c3757f9a6725b80f88ee824c0.png",[m.SlotKingsFall]:"https://www.bungie.net/common/destiny2_content/icons/0e515c7cf25a2f2350b788e6f5b7f8eb.png",[m.PerkPlunderersTrappings]:"https://www.bungie.net/common/destiny2_content/icons/7394ce8bcde3a665584b988cc133d62c.png",[m.SeraphSensorArray]:"https://www.bungie.net/common/destiny2_content/icons/7394ce8bcde3a665584b988cc133d62c.png",[m.SlotRootOfNightmares]:"https://www.bungie.net/common/destiny2_content/icons/f2b6ec58e14244e4972705897667c246.png",[m.PerkQueensFavor]:"https://www.bungie.net/common/destiny2_content/icons/8d844c97fa13f4cb649358404d011be7.png",[m.SonarAmplifier]:"https://www.bungie.net/common/destiny2_content/icons/e083d8a85c2c60825204d14b9e9263b7.png",[m.COUNT]:""},V={[m.None]:"",[m.GuardianGamesClassItem]:"(hash:537041732 or hash:366019830 or hash:1013401891)",[m.SlotNightmare]:"modslot:nightmare",[m.SlotArtifice]:'perkname:"artifice armor"',[m.SlotLastWish]:"modslot:lastwish",[m.SlotGardenOfSalvation]:"modslot:gardenofsalvation",[m.SlotDeepStoneCrypt]:"modslot:deepstonecrypt",[m.SlotVaultOfGlass]:"modslot:vaultofglass",[m.SlotVowOfTheDisciple]:"source:vow",[m.PerkIronBanner]:'perkname:"iron lord\'s pride"',[m.PerkUniformedOfficer]:'perkname:"Uniformed Officer"',[m.SlotKingsFall]:"modslot:kingsfall",[m.PerkPlunderersTrappings]:'perkname:"plunderer\'s trappings"',[m.SeraphSensorArray]:'perkname:"seraph sensor array"',[m.SlotRootOfNightmares]:"modslot:rootofnightmares",[m.PerkQueensFavor]:'perkname:"queen\'s favor"',[m.SonarAmplifier]:'perkname:"sonar amplifier"',[m.COUNT]:""},ft={0:"Any",1:"Arc",2:"Solar",3:"Void",6:"Stasis",4:"Ghost",5:"Subclass"},bt={0:"",1:"https://www.bungie.net/common/destiny2_content/icons/DestinyDamageTypeDefinition_092d066688b879c807c3b460afdd61e6.png",2:"https://www.bungie.net/common/destiny2_content/icons/DestinyDamageTypeDefinition_2a1773e10968f2d088b97c22b22bba9e.png",3:"https://www.bungie.net/common/destiny2_content/icons/DestinyDamageTypeDefinition_ceb2f6197dccf3958bb31cc783eb97a0.png",6:"https://www.bungie.net/common/destiny2_content/icons/DestinyDamageTypeDefinition_530c4c3e7981dc2aefd24fd3293482bf.png",4:"",5:""}},8333:(it,G,_)=>{_.d(G,{O:()=>v});var v=(()=>{return(t=v||(v={}))[t.CombatStyleMod=0]="CombatStyleMod",t[t.Stasis=1]="Stasis",t[t.Void=2]="Void",t[t.Solar=3]="Solar",t[t.Arc=4]="Arc",t[t.Strand=5]="Strand",t[t.RetrofitMods=6]="RetrofitMods",v;var t})()},4661:(it,G,_)=>{_.d(G,{V:()=>Dt});var v=_(4859),t=_(9549),D=_(4385),j=_(3238),z=_(7314),I=_(4144),m=_(455),lt=_(2143),mt=_(3546),V=_(266),ft=_(3162),bt=_(7392),g=_(6308),B=_(8739),Z=_(3683),R=_(3217),kt=_(811),Bt=_(6338),Ut=_(7084),Pt=_(5412),pt=_(7009),Rt=_(1572),Nt=_(3848),ht=_(7331),vt=_(3267),u=_(4006),st=_(9814),r=_(4650);let Dt=(()=>{class Ct{}return Ct.\u0275fac=function($t){return new($t||Ct)},Ct.\u0275mod=r.oAB({type:Ct}),Ct.\u0275inj=r.cJS({imports:[v.ot,t.lN,D.LD,j.Ng,z.KP,I.c,m.rP,lt.p0,mt.QW,V.AV,ft.Cv,bt.Ps,g.JX,B.TU,Z.g0,R.Tx,kt.vV,Bt.ie,Ut.To,Pt.Is,pt.ZX,Rt.Cq,Nt.Nh,ht.Hi,vt.SJ,u.UX,u.u5,st.o9,st.o9,u.UX,u.u5,v.ot,t.lN,D.LD,j.Ng,z.KP,I.c,m.rP,lt.p0,mt.QW,V.AV,ft.Cv,bt.Ps,g.JX,B.TU,Z.g0,R.Tx,kt.vV,Bt.ie,Ut.To,Pt.Is,pt.ZX,Rt.Cq,Nt.Nh,ht.Hi,vt.SJ]}),Ct})()},8298:(it,G,_)=>{var v=_(1481),t=_(4650);const D_apiKey="99e306d995c24e468373d77b062aa13c",D_featureFlags_enableModslotLimitation=!1,D_featureFlags_enableZeroWaste=!1,D_featureFlags_enableGuardianGamesFeatures=!1;var j=_(5829),z=_(3683),I=_(6630),m=_(5861),lt=_(6831),mt=_(529);let V=(()=>{class n{constructor(e,o){this.http=e,this.router=o,this._logoutEvent=new lt.t(1),this.logoutEvent=this._logoutEvent.asObservable()}get refreshTokenExpired(){return this.refreshTokenExpiringAt<Date.now()}autoRegenerateTokens(){var e=this;return(0,m.Z)(function*(){return console.log("autoRegenerateTokens",{token:e.refreshToken,datenow:Date.now(),refreshTokenExpiringAt:e.refreshTokenExpiringAt,lastRefresh:e.lastRefresh,"Date.now() > (this.lastRefresh + timing)":Date.now()>e.lastRefresh+18e5}),!(e.refreshToken&&Date.now()<e.refreshTokenExpiringAt&&Date.now()>e.lastRefresh+18e5)||(yield e.generateTokens(!0))})()}getCurrentMembershipData(){var e=this;return(0,m.Z)(function*(){const o=JSON.parse(localStorage.getItem("auth-membershipInfo")||"null");if(null==o){const a=e.getCurrentMembershipData();return localStorage.setItem("auth-membershipInfo",JSON.stringify(a)),a}return o})()}generateTokens(e=!1){var o=this;return(0,m.Z)(function*(){console.info("Generate auth tokens","refresh based on refresh_token:",e);let d=`grant_type=authorization_code&code=${o.authCode}&client_id=44929&client_secret=3XI3SZ8wYUAE.bGCUtF0VldRIrqZZDHAPU0919Dnlw8`;return e&&(d=`grant_type=refresh_token&refresh_token=${o.refreshToken}&client_id=44929&client_secret=3XI3SZ8wYUAE.bGCUtF0VldRIrqZZDHAPU0919Dnlw8`),yield o.http.post("https://www.bungie.net/Platform/App/OAuth/Token/",d,{headers:{"Content-Type":"application/x-www-form-urlencoded","X-API-Key":D_apiKey}}).toPromise().then(x=>(console.log("generateTokens",x),o.accessToken=x.access_token,o.refreshToken=x.refresh_token,o.refreshTokenExpiringAt=Date.now()+1e3*x.refresh_expires_in-1e4,o.lastRefresh=Date.now(),!0)).catch(function(){var x=(0,m.Z)(function*(C){return console.log({err:C}),yield o.logout(),!1});return function(C){return x.apply(this,arguments)}}())})()}isAuthenticated(){return!!this.accessToken}get authCode(){return localStorage.getItem("code")}set authCode(e){e?(console.info("Setting new auth code"),localStorage.setItem("code",""+e)):(console.info("Clearing auth code"),localStorage.removeItem("code"))}get accessToken(){return localStorage.getItem("accessToken")}set accessToken(e){e?(console.info("Setting new access token"),localStorage.setItem("accessToken",""+e)):(console.info("Clearing access token"),localStorage.removeItem("accessToken"))}get refreshToken(){return localStorage.getItem("refreshToken")}set refreshToken(e){e?(console.info("Setting new refresh token"),localStorage.setItem("refreshToken",""+e)):(console.info("Clearing refresh token"),localStorage.removeItem("refreshToken"))}get refreshTokenExpiringAt(){let e=localStorage.getItem("refreshTokenExpiringAt")||"0";return e?Number.parseInt(e):0}set refreshTokenExpiringAt(e){e?(console.info("Setting new refresh token"),localStorage.setItem("refreshTokenExpiringAt",""+e)):(console.info("Clearing refresh token"),localStorage.removeItem("refreshTokenExpiringAt"))}get lastRefresh(){let e=localStorage.getItem("lastRefresh")||"0";return e?Number.parseInt(e):0}set lastRefresh(e){e?localStorage.setItem("lastRefresh",e.toString()):localStorage.removeItem("lastRefresh")}clearManifestInfo(){localStorage.removeItem("LastArmorUpdate"),localStorage.removeItem("LastManifestUpdate")}clearLoginInfo(){this.lastRefresh=null,this.refreshTokenExpiringAt=null,this.authCode=null,this.accessToken=null,this.refreshToken=null,localStorage.removeItem("auth-membershipInfo")}logout(){var e=this;return(0,m.Z)(function*(){try{e._logoutEvent.next(null),e.clearManifestInfo(),e.clearLoginInfo()}finally{yield e.router.navigate(["login"])}})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(mt.eN),t.LFG(I.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n{constructor(e,o,a){this.activatedRoute=e,this.router=o,this.loginService=a}ngOnInit(){var e=this;this.activatedRoute.queryParams.subscribe(function(){var o=(0,m.Z)(function*(a){let s=a.code;window.location.search.indexOf("?code=")>-1&&(s=window.location.search.substr(6)),console.info({code:s}),s&&(e.loginService.authCode=s,console.info("Generate tokens with the new code"),yield e.loginService.generateTokens(),console.info("Now navigate to /"),yield e.router.navigate(["/"]))});return function(a){return o.apply(this,arguments)}}())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.gz),t.Y36(I.F0),t.Y36(V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-handle-bungie-login"]],decls:0,vars:0,template:function(e,o){}}),n})(),bt=(()=>{class n{constructor(){this.title="D2ArmorPicker",console.log("PRODUCTION?",true)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[["color","accent",1,"bungie-day",2,"display","none"],[1,"header-spacer"],["fxHide.xs","","src","../assets/bungie-game2give.png","alt","donordrive",1,"donordrive"],["href","https://bungiefoundation.donordrive.com/participant/19714","target","_blank","title","Support the Bungie Foundation!"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar",0),t._UZ(1,"span",1)(2,"img",2),t.TgZ(3,"a",3),t._uU(4," Support us at the Bungie Foundation 2023 \u2764 "),t.qZA(),t._UZ(5,"span",1),t.qZA(),t._UZ(6,"app-handle-bungie-login")(7,"router-outlet"))},dependencies:[j.b8,z.Ye,I.lC,ft],styles:[".bungie-day[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;position:relative;max-width:100vw;word-break:break-all}.bungie-day[_ngcontent-%COMP%]   img.donordrive[_ngcontent-%COMP%]{height:30px;margin-left:2px;margin-right:2px}.bungie-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .bungie-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff}.bungie-day[_ngcontent-%COMP%]   .header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();var g=_(1576),B=_(4859),Z=_(3546),R=_(7084);let kt=(()=>{class n{constructor(){}startLogin(){window.location.href="https://www.bungie.net/zh-chs/OAuth/Authorize?client_id=44929&response_type=code&reauth=true"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:82,vars:0,consts:[["mat-card-avatar","",1,"example-header-image"],["href","https://ko-fi.com/mijago","target","_blank"],["href","https://github.com/Mijago/D2ArmorPicker","target","_blank"],["href","https://github.com/basonwoo/D2APCN","target","_blank"],["color","primary","mat-raised-button","",3,"click"],[1,"mat-elevation-z11"],["src","assets/info/statselection-cn.png",1,"image-example"],["src","assets/resultOverviewWithFlex-cn.png",1,"image-example"],["src","assets/info/whattodonow-cn.png",1,"image-example"],["src","assets/info/armorClustering.png",1,"image-example"],["fxLayoutGap","10px","fxLayout","row",1,"armor-image-container"],["src","assets/info/cluster-example/img.png"],["src","assets/info/cluster-example/img_1.png"],["src","assets/info/cluster-example/img_2.png"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t._UZ(2,"div",0),t.TgZ(3,"mat-card-title"),t._uU(4,"Destiny 2 Armor Picker"),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6," \u7531 Mijago \u5236\u4f5c\uff0c\u8428\u52d2\u4f60\u739b\u82ac\u5c3c\u4e00\u534a#9836 \u6c49\u5316 "),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"p"),t._uU(9," \u6b64\u5de5\u5177\u53ef\u4ee5\u4e3a\u4f60\u4ece\u88c5\u5907\u680f\u548c\u4fdd\u9669\u5e93\u4e2d\u9009\u62e9\u6700\u4f73\u7684\u62a4\u7532\u642d\u914d\u4ee5\u6ee1\u8db3\u60a8\u7684\u516d\u7ef4\u9700\u6c42 "),t._UZ(10,"br")(11,"br"),t._uU(12," \u8981\u4f7f\u7528\u6b64\u5de5\u5177\uff0c\u5fc5\u987b\u8fdb\u884c\u767b\u5f55\u4ee5\u4ece Bungie API \u83b7\u53d6\u4f60\u7684\u62a4\u7532\u6570\u636e "),t._UZ(13,"br")(14,"br"),t._uU(15," \u5982\u679c\u4f60\u89c9\u5f97\u597d\u7528\uff0c\u53ef\u4ee5\u524d\u5f80 "),t.TgZ(16,"a",1),t._uU(17,"ko-fi.com"),t.qZA(),t._uU(18," \u6253\u8d4f Mijago \u2764 "),t._UZ(19,"br"),t._uU(20," \u5982\u679c\u4f60\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53d1\u73b0 bug \u6216\u8005\u6709\u66f4\u597d\u7684\u5efa\u8bae\uff0c\u8bf7\u524d\u5f80 "),t.TgZ(21,"a",2),t._uU(22,"Github"),t.qZA(),t._uU(23," \u63d0 issue "),t._UZ(24,"br"),t._uU(25," \u5982\u679c\u4f60\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u6c49\u5316\u6587\u672c\u9519\u8bef\u6216\u8005\u6709\u66f4\u597d\u7684\u6c49\u5316\u5efa\u8bae\uff0c\u8bf7\u524d\u5f80 "),t.TgZ(26,"a",3),t._uU(27,"Github"),t.qZA(),t._uU(28," \u63d0 issue "),t.qZA(),t.TgZ(29,"p"),t._uU(30," D2AP \u4f7f\u7528 Bungie API \u53ca\u5176 OAuth \u6388\u6743\uff0c\u4f60\u5728 Bungie \u5b98\u7f51\u767b\u5f55\u4e4b\u540e\uff0cD2AP \u4f1a\u4ece Bungie \u63a5\u6536\u5230\u4e00\u4e2a\u4e34\u65f6\u767b\u5f55\u4ee4\u724c\u3002\u8fd9\u610f\u5473\u7740 D2AP \u5e76\u4e0d\u4f1a\u5b9e\u9645\u83b7\u53d6\u4f60\u7684\u8d26\u6237\u51ed\u636e\u3002 "),t.qZA()(),t.TgZ(31,"mat-card-actions")(32,"button",4),t.NdJ("click",function(){return o.startLogin()}),t._uU(33,"\u767b\u5f55"),t.qZA()()(),t.TgZ(34,"mat-card")(35,"mat-card-title"),t._uU(36," \u793a\u4f8b "),t.qZA(),t.TgZ(37,"mat-card-subtitle"),t._uU(38,"D2AP \u7684\u529f\u80fd"),t.qZA(),t.TgZ(39,"mat-card-content")(40,"mat-accordion")(41,"mat-expansion-panel",5)(42,"mat-expansion-panel-header")(43,"mat-panel-title"),t._uU(44," \u5c5e\u6027\u4f18\u5316 "),t.qZA(),t.TgZ(45,"mat-panel-description"),t._uU(46," \u6838\u5fc3\u529f\u80fd "),t.qZA()(),t.TgZ(47,"p"),t._uU(48," \u9996\u5148\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u81ea\u5df1\u60f3\u8981\u8fbe\u6210\u7684\u5c5e\u6027\u6570\u503c\uff0cD2ArmorPicker \u4f1a\u81ea\u52a8\u5206\u6790\u4f60\u6240\u6709\u7684\u62a4\u7532\uff0c\u7136\u540e\u5c55\u793a\u51fa\u6240\u6709\u53ef\u80fd\u7684\u7ec4\u5408\u7ed3\u679c\u3002 "),t._UZ(49,"img",6)(50,"br")(51,"br"),t._uU(52," \u4f60\u53ef\u4ee5\u9884\u8bbe\u597d\u4e0d\u540c\u7684\u661f\u8c61\u788e\u7247\uff0c\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u9009\u62e9\u96f6\u6d6a\u8d39\u6a21\u5f0f\uff0cD2AP \u4f1a\u81ea\u52a8\u6dfb\u52a0\u5c5e\u6027\u6a21\u7ec4\u4ee5\u51cf\u5c11\u6d6a\u8d39 "),t.qZA()(),t.TgZ(53,"mat-expansion-panel",5)(54,"mat-expansion-panel-header")(55,"mat-panel-title"),t._uU(56," \u5c55\u793a\u7ed3\u679c "),t.qZA(),t.TgZ(57,"mat-panel-description"),t._uU(58," \u5404\u79cd\u53ef\u9009\u7684\u62a4\u7532\u7ec4\u5408 "),t.qZA()(),t.TgZ(59,"p"),t._uU(60," D2AP \u4f1a\u5411\u4f60\u5c55\u793a\u4e00\u4e2a\u5305\u542b\u8bb8\u591a\u62a4\u7532\u642d\u914d\u7684\u8868\u683c\uff0c\u4f60\u53ef\u4ee5\u5bf9\u8868\u683c\u8fdb\u884c\u6392\u5e8f \u6216\u8005\u7b5b\u9009\uff0c\u4e4b\u540e\u70b9\u51fb\u67d0\u4e00\u6761\u6765\u67e5\u770b\u8fbe\u6210\u671f\u671b\u5c5e\u6027\u503c\u6240\u9700\u8981\u5b89\u88c5\u7684\u6a21\u7ec4\u3002 "),t._UZ(61,"img",7)(62,"br")(63,"br"),t._uU(64," \u8be5\u9875\u9762\u8fd8\u5c06\u8be6\u7ec6\u8bf4\u660e\u8981\u8fbe\u6210\u671f\u671b\u5c5e\u6027\u503c\u4f60\u8fd8\u9700\u8981\u505a\u7684\u64cd\u4f5c\uff0c\u4ee5\u4e0b\u622a\u56fe\u5c55\u793a\u4e86\u66f4\u591a\u7ec6\u8282\uff1a "),t._UZ(65,"img",8),t.qZA()(),t.TgZ(66,"mat-expansion-panel",5)(67,"mat-expansion-panel-header")(68,"mat-panel-title"),t._uU(69," \u62a4\u7532\u96c6\u5408 "),t.qZA(),t.TgZ(70,"mat-panel-description"),t._uU(71," \u6574\u7406\u4fdd\u9669\u5e93 "),t.qZA()(),t.TgZ(72,"div"),t._uU(73," \u81ea 2.0.14 D2AP \u65b0\u589e\u4e86\u62a4\u7532\u96c6\u5408\u529f\u80fd\uff0c\u8fd9\u4f1a\u5c06\u6240\u6709\u62a4\u7532\u6839\u636e\u516d\u7ef4\u5206\u5e03\u5206\u4e3a 25 \u7ec4\uff0c\u6bcf\u4e00\u7ec4\u4e2d\u7684\u62a4\u7532\u90fd\u4f1a\u6709\u76f8\u4f3c\u7684\u516d\u7ef4\u5c5e\u6027\uff0c\u8fd9\u5c06\u53ef\u4ee5\u5e2e\u52a9\u4f60\u6e05\u7406\u4fdd\u9669\u5e93\u3002 "),t._UZ(74,"img",9)(75,"br")(76,"br"),t._uU(77," \u4ee5\u96c6\u5408 1 \u4e3a\u4f8b\uff0c\u6211\u5c06\u96c6\u5408 1 \u7684 DIM \u67e5\u8be2\u53c2\u6570\u590d\u5236\u5230 DIM \u4ee5\u540e\uff0c\u53ef\u4ee5\u5f88\u5feb\u627e\u5230\u8fd9\u4e9b\u62a4\u7532\uff1a "),t.TgZ(78,"div",10),t._UZ(79,"img",11)(80,"img",12)(81,"img",13),t.qZA()()()()()())},dependencies:[g.xw,g.SQ,B.lW,Z.a8,Z.dk,Z.dn,Z.n5,Z.$j,Z.hq,Z.kc,R.pp,R.ib,R.yz,R.yK,R.u4],styles:["mat-card[_ngcontent-%COMP%]{max-width:600px;margin-bottom:4px;margin-left:auto;margin-right:auto}button[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:10px}a[_ngcontent-%COMP%]{color:#99afe3}a[_ngcontent-%COMP%]:visited{color:#7294dc}.example-header-image[_ngcontent-%COMP%]{background-image:url(superGreatLogo.5307f2494314b5e1.png);background-size:cover}.image-example[_ngcontent-%COMP%]{max-width:100%}.armor-image-container[_ngcontent-%COMP%]{overflow:auto}.armor-image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:300px}"]}),n})();var Bt=_(8746);let Ut=(()=>{class n{constructor(e,o){this.auth=e,this.router=o}canActivate(e,o){return!!this.auth.isAuthenticated()||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V),t.LFG(I.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pt=(()=>{class n{constructor(e,o){this.auth=e,this.router=o}canActivate(e,o){return!this.auth.isAuthenticated()||(this.router.navigate(["/"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V),t.LFG(I.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pt=_(2289),Rt=_(4850),Nt=_(5154),ht=_(591);let vt=(()=>{class n{constructor(){this.__status={calculatingResults:!1,calculatingPermutations:!1,updatingResultsTable:!1,updatingInventory:!1,updatingManifest:!1},this._status=new ht.X(this.__status),this.status=this._status.asObservable()}getStatus(){return this.__status}modifyStatus(e){e(this.__status),console.log("modifyStatus",this.__status),this._status.next(this.__status)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=(()=>{return(n=u||(u={}))[n.None=-1]="None",n[n.Titan=0]="Titan",n[n.Hunter=1]="Hunter",n[n.Warlock=2]="Warlock",u;var n})(),st=_(13),r=_(1043),b=_(6471),h=_(8333);function te(n){return{[r.WB.Mobility]:{fixed:!1,value:n},[r.WB.Resilience]:{fixed:!1,value:n},[r.WB.Recovery]:{fixed:!1,value:n},[r.WB.Discipline]:{fixed:!1,value:n},[r.WB.Intellect]:{fixed:!1,value:n},[r.WB.Strength]:{fixed:!1,value:n}}}class Jt{constructor(){this.characterClass=u.Titan,this.addConstent1Resilience=!1,this.assumeEveryLegendaryIsArtifice=!1,this.disabledItems=[],this.minimumStatTiers={[r.WB.Mobility]:{fixed:!1,value:0},[r.WB.Resilience]:{fixed:!1,value:0},[r.WB.Recovery]:{fixed:!1,value:0},[r.WB.Discipline]:{fixed:!1,value:0},[r.WB.Intellect]:{fixed:!1,value:0},[r.WB.Strength]:{fixed:!1,value:0}},this.maximumStatMods=5,this.maximumModSlots={[b.y.ArmorSlotHelmet]:{fixed:!1,value:5},[b.y.ArmorSlotGauntlet]:{fixed:!1,value:5},[b.y.ArmorSlotChest]:{fixed:!1,value:5},[b.y.ArmorSlotLegs]:{fixed:!1,value:5},[b.y.ArmorSlotClass]:{fixed:!1,value:5},[b.y.ArmorSlotNone]:{fixed:!1,value:5}},this.putArtificeMods=!0,this.useFotlArmor=!0,this.allowBlueArmorPieces=!0,this.ignoreSunsetArmor=!1,this.assumeLegendariesMasterworked=!0,this.assumeExoticsMasterworked=!0,this.assumeClassItemMasterworked=!0,this.onlyUseMasterworkedItems=!1,this.executeModOptimization=!1,this.limitParsedResults=!0,this.tryLimitWastedStats=!1,this.onlyShowResultsWithNoWastedStats=!1,this.showWastedStatsColumn=!1,this.showPotentialTierColumn=!1,this.selectedModElement=h.O.Stasis,this.enabledMods=[],this.selectedExotics=[],this.armorPerks={[b.y.ArmorSlotHelmet]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotGauntlet]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotChest]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotLegs]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotClass]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotNone]:{fixed:!0,value:r.Pn.None}}}static buildEmptyConfiguration(){return{enabledMods:[],disabledItems:[],addConstent1Resilience:!1,assumeEveryLegendaryIsArtifice:!1,putArtificeMods:!0,useFotlArmor:!1,maximumStatMods:5,onlyUseMasterworkedItems:!1,ignoreSunsetArmor:!1,allowBlueArmorPieces:!0,assumeLegendariesMasterworked:!0,assumeExoticsMasterworked:!0,assumeClassItemMasterworked:!0,limitParsedResults:!0,executeModOptimization:!1,tryLimitWastedStats:!0,onlyShowResultsWithNoWastedStats:!1,showWastedStatsColumn:!1,showPotentialTierColumn:!1,characterClass:u.Titan,selectedModElement:h.O.Stasis,selectedExotics:[],maximumModSlots:{[b.y.ArmorSlotHelmet]:{fixed:!1,value:5},[b.y.ArmorSlotGauntlet]:{fixed:!1,value:5},[b.y.ArmorSlotChest]:{fixed:!1,value:5},[b.y.ArmorSlotLegs]:{fixed:!1,value:5},[b.y.ArmorSlotClass]:{fixed:!1,value:5},[b.y.ArmorSlotNone]:{fixed:!1,value:5}},armorPerks:{[b.y.ArmorSlotHelmet]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotGauntlet]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotChest]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotLegs]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotClass]:{fixed:!0,value:r.Pn.None},[b.y.ArmorSlotNone]:{fixed:!0,value:r.Pn.None}},minimumStatTiers:te(0)}}}var ee=_(4682);let rt=(()=>{class n{constructor(e){var o=this;this.auth=e,this.db=(0,ee.F)((0,m.Z)(function*(){yield o.auth.clearManifestInfo()})),this.manifestArmor=this.db.table("manifestArmor"),this.inventoryArmor=this.db.table("inventoryArmor"),this.auth.logoutEvent.subscribe(function(){var a=(0,m.Z)(function*(s){yield o.clearDatabase()});return function(s){return a.apply(this,arguments)}}())}initialize(){var e=this;this.db=(0,ee.F)((0,m.Z)(function*(){yield e.auth.clearManifestInfo()})),this.manifestArmor=this.db.table("manifestArmor"),this.inventoryArmor=this.db.table("inventoryArmor")}clearDatabase(){var e=this;return(0,m.Z)(function*(){localStorage.removeItem("LastManifestUpdate"),localStorage.removeItem("LastArmorUpdate"),yield e.inventoryArmor.clear()})()}resetDatabase(e=!0){var o=this;return(0,m.Z)(function*(){localStorage.removeItem("LastManifestUpdate"),localStorage.removeItem("last-manifest-revision"),localStorage.removeItem("last-manifest-db-name"),localStorage.removeItem("LastArmorUpdate"),localStorage.removeItem("last-armor-db-name"),yield o.db.delete(),e&&o.initialize()})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ut=_(9598),f=(()=>{return(n=f||(f={}))[n.WhisperOfDurance=1e3]="WhisperOfDurance",n[n.WhisperOfChains=1001]="WhisperOfChains",n[n.WhisperOfConduction=1002]="WhisperOfConduction",n[n.WhisperOfShards=1003]="WhisperOfShards",n[n.WhisperOfHedrons=1100]="WhisperOfHedrons",n[n.WhisperOfBonds=1101]="WhisperOfBonds",n[n.WhisperOfHunger=1102]="WhisperOfHunger",n[n.WhisperOfFractures=1103]="WhisperOfFractures",n[n.EchoOfExpulsion=1200]="EchoOfExpulsion",n[n.EchoOfProvision=1201]="EchoOfProvision",n[n.EchoOfPersistence=1202]="EchoOfPersistence",n[n.EchoOfLeeching=1203]="EchoOfLeeching",n[n.EchoOfDomineering=1204]="EchoOfDomineering",n[n.EchoOfDilation=1205]="EchoOfDilation",n[n.EchoOfUndermining=1206]="EchoOfUndermining",n[n.EchoOfInstability=1207]="EchoOfInstability",n[n.EchoOfHarvest=1208]="EchoOfHarvest",n[n.EchoOfObscurity=1209]="EchoOfObscurity",n[n.EchoOfStarvation=1210]="EchoOfStarvation",n[n.EchoOfVigilance=1211]="EchoOfVigilance",n[n.EmberOfBenelovence=1300]="EmberOfBenelovence",n[n.EmberOfBeams=1301]="EmberOfBeams",n[n.EmberOfEmpyrean=1302]="EmberOfEmpyrean",n[n.EmberOfCombustion=1303]="EmberOfCombustion",n[n.EmberOfChar=1304]="EmberOfChar",n[n.EmberOfTempering=1305]="EmberOfTempering",n[n.EmberOfEruption=1306]="EmberOfEruption",n[n.EmberOfWonder=1307]="EmberOfWonder",n[n.EmberOfSearing=1308]="EmberOfSearing",n[n.EmberOfTorches=1309]="EmberOfTorches",n[n.EmberOfMercy=1310]="EmberOfMercy",n[n.SparkOfBrilliance=1400]="SparkOfBrilliance",n[n.SparkOfFeedback=1401]="SparkOfFeedback",n[n.SparkOfDischarge=1402]="SparkOfDischarge",n[n.SparkOfFocus=1403]="SparkOfFocus",n[n.SparkOfVolts=1404]="SparkOfVolts",n[n.SparkOfResistance=1405]="SparkOfResistance",n[n.SparkOfShock=1406]="SparkOfShock",n[n.ThreadOfFury=1600]="ThreadOfFury",n[n.ThreadOfAscent=1601]="ThreadOfAscent",n[n.ThreadOfFinality=1602]="ThreadOfFinality",n[n.ThreadOfWarding=1603]="ThreadOfWarding",n[n.ThreadOfTransmutation=1604]="ThreadOfTransmutation",n[n.ThreadOfEvolution=1605]="ThreadOfEvolution",n[n.ThreadOfBinding=1606]="ThreadOfBinding",n[n.ThreadOfGeneration=1607]="ThreadOfGeneration",n[n.ThreadOfContinuity=1608]="ThreadOfContinuity",f;var n})();const dt={[f.WhisperOfDurance]:{id:f.WhisperOfDurance,name:"\u8010\u4e45\u4e4b\u541f",description:"\u4f60\u7684\u6280\u80fd\u7684\u51cf\u901f\u6548\u679c\u6301\u7eed\u65f6\u95f4\u66f4\u957f\u3002\u6240\u6709\u6301\u7eed\u6280\u80fd\u7684\u6301\u7eed\u65f6\u95f4\u4e5f\u4f1a\u52a0\u957f\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:3469412969},[f.WhisperOfChains]:{id:f.WhisperOfChains,name:"\u9501\u94fe\u7684\u4f4e\u8bed",description:"\u5728\u88ab\u51bb\u7ed3\u7684\u76ee\u6807\u6216\u53cb\u65b9\u51b0\u5f71\u6c34\u6676\u9644\u8fd1\u65f6\uff0c\u4f60\u53d7\u5230\u6765\u81ea\u76ee\u6807\u7684\u4f24\u5bb3\u964d\u4f4e\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:537774540},[f.WhisperOfShards]:{id:f.WhisperOfShards,name:"\u7834\u788e\u4e4b\u541f",description:"\u7834\u788e\u51b0\u5f71\u7ed3\u6676\u4f1a\u5728\u77ed\u65f6\u95f4\u5185\u4f7f\u4f60\u7684\u624b\u96f7\u5145\u80fd\u901f\u5ea6\u52a0\u5feb\u3002\u7834\u788e\u989d\u5916\u7684\u51b0\u5f71\u7ed3\u6676\u53ef\u589e\u52a0\u6b64\u589e\u76ca\u7684\u6301\u7eed\u65f6\u95f4\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:3469412975},[f.WhisperOfConduction]:{id:f.WhisperOfConduction,name:"\u4f20\u5bfc\u4e4b\u541f",description:"\u9644\u8fd1\u7684\u51b0\u5f71\u788e\u7247\u4f1a\u8ffd\u8e2a\u81f3\u4f60\u7684\u4f4d\u7f6e\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Resilience,value:10},{stat:r.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:2483898429},[f.WhisperOfBonds]:{id:f.WhisperOfBonds,name:"\u675f\u7f1a\u4e4b\u541f",description:"\u6d88\u706d\u88ab\u51bb\u7ed3\u7684\u76ee\u6807\u53ef\u83b7\u5f97\u8d85\u80fd\u80fd\u91cf\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Discipline,value:-10},{stat:r.WB.Intellect,value:-10}],cost:1,requiredArmorAffinity:0,hash:3469412974},[f.WhisperOfHedrons]:{id:f.WhisperOfHedrons,name:"\u6676\u77f3\u4e4b\u541f",description:"\u4f7f\u7528\u51b0\u5f71\u51bb\u4f4f\u76ee\u6807\u4e4b\u540e\u5927\u5e45\u63d0\u5347\u6b66\u5668\u7a33\u5b9a\u6027\u3001\u6b66\u5668\u7784\u51c6\u8f85\u52a9\u3001\u6b66\u5668\u7a7a\u4e2d\u6548\u7387\u3001\u654f\u6377\u3001\u97e7\u6027\u548c\u6062\u590d\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Strength,value:-10}],cost:1,requiredArmorAffinity:0,hash:3469412970},[f.WhisperOfFractures]:{id:f.WhisperOfFractures,name:"\u8106\u5f31\u7684\u4f4e\u8bed",description:"\u5f53\u4f60\u8eab\u8fb9\u6709\u81f3\u5c11 2 \u4e2a\u76ee\u6807\u65f6\uff0c\u4f60\u7684\u8fd1\u6218\u80fd\u91cf\u5145\u80fd\u66f4\u5feb\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:537774542},[f.WhisperOfHunger]:{id:f.WhisperOfHunger,name:"\u9965\u997f\u4e4b\u541f",description:"\u589e\u52a0\u62fe\u53d6\u51b0\u5f71\u788e\u7247\u65f6\u5f97\u5230\u7684\u8fd1\u6218\u80fd\u91cf\u3002",type:h.O.Stasis,bonus:[{stat:r.WB.Mobility,value:-10},{stat:r.WB.Recovery,value:-10}],cost:1,requiredArmorAffinity:0,hash:2483898431},[f.EchoOfExpulsion]:{id:f.EchoOfExpulsion,name:"\u9a71\u9010\u56de\u58f0",description:"\u865a\u7a7a\u6280\u80fd\u6700\u540e\u4e00\u51fb\u5c06\u9020\u6210\u76ee\u6807\u7206\u70b8\u3002",type:h.O.Void,bonus:[{stat:r.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984665},[f.EchoOfProvision]:{id:f.EchoOfProvision,name:"\u8865\u80fd\u56de\u58f0",description:"\u4f7f\u7528\u624b\u96f7\u5bf9\u76ee\u6807\u9020\u6210\u4f24\u5bb3\u53ef\u56de\u590d\u8fd1\u6218\u80fd\u91cf\u3002",type:h.O.Void,bonus:[{stat:r.WB.Strength,value:-10}],cost:1,requiredArmorAffinity:0,hash:2272984664},[f.EchoOfPersistence]:{id:f.EchoOfPersistence,name:"\u575a\u97e7\u56de\u58f0",description:"\u4f60\u83b7\u5f97\u7684\u865a\u7a7a\u589e\u76ca\uff08\u9690\u8eab\uff0c\u8986\u76d6\u62a4\u76fe\uff0c\u541e\u98df\uff09\u7684\u6301\u7eed\u65f6\u95f4\u5ef6\u957f\u3002",type:h.O.Void,bonus:[{stat:r.AR.ClassAbilityRegenerationStat,value:-10}],cost:1,requiredArmorAffinity:0,hash:2272984671},[f.EchoOfLeeching]:{id:f.EchoOfLeeching,name:"\u5438\u542e\u56de\u58f0",description:"\u8fd1\u6218\u6700\u540e\u4e00\u51fb\u4f1a\u4e3a\u4f60\u548c\u4f60\u9644\u8fd1\u7684\u53cb\u519b\u5e26\u6765\u751f\u547d\u6062\u590d\u6548\u679c\u3002",type:h.O.Void,bonus:[{stat:r.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984670},[f.EchoOfDomineering]:{id:f.EchoOfDomineering,name:"\u9738\u9053\u56de\u58f0",description:"\u538b\u5236\u76ee\u6807\u540e\uff0c\u4f60\u7684\u654f\u6377\u4f1a\u5728\u77ed\u65f6\u95f4\u5185\u5927\u5e45\u63d0\u5347\uff0c\u5e76\u7528\u50a8\u5b58\u5f39\u836f\u586b\u88c5\u5f53\u524d\u88c5\u5907\u7684\u6b66\u5668\u3002\u51fb\u8d25\u88ab\u538b\u5236\u7684\u76ee\u6807\u4f1a\u751f\u6210\u4e00\u4e2a\u865a\u7a7a\u88c2\u53e3\u3002",type:h.O.Void,bonus:[{stat:r.WB.Discipline,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984657},[f.EchoOfDilation]:{id:f.EchoOfDilation,name:"\u6269\u5f20\u56de\u58f0",description:"\u8e72\u4e0b\u65f6\uff0c\u4f60\u7684\u6f5c\u884c\u901f\u5ea6\u66f4\u5feb\u5e76\u83b7\u5f97\u589e\u5f3a\u96f7\u8fbe\u5206\u8fa8\u7387\u3002",type:h.O.Void,bonus:[{stat:r.WB.Mobility,value:10},{stat:r.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:2272984656},[f.EchoOfUndermining]:{id:f.EchoOfUndermining,name:"\u5f31\u5316\u56de\u58f0",description:"\u4f60\u7684\u865a\u7a7a\u624b\u96f7\u4f1a\u524a\u5f31\u76ee\u6807\u3002",type:h.O.Void,bonus:[{stat:r.WB.Discipline,value:-20}],cost:1,requiredArmorAffinity:0,hash:2272984668},[f.EchoOfInstability]:{id:f.EchoOfInstability,name:"\u5931\u7a33\u56de\u58f0",description:"\u4f7f\u7528\u624b\u96f7\u51fb\u8d25\u76ee\u6807\u53ef\u7ed9\u4f60\u7684\u865a\u7a7a\u6b66\u5668\u88c5\u4e0a\u4e0d\u7a33\u5b9a\u5f39\u836f\u3002",type:h.O.Void,bonus:[{stat:r.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:2661180600},[f.EchoOfObscurity]:{id:f.EchoOfObscurity,name:"\u6726\u80e7\u56de\u58f0",description:"\u7ec8\u7ed3\u6280\u6700\u540e\u4e00\u51fb\u5c06\u8d4b\u4e88\u9690\u8eab\u3002",type:h.O.Void,bonus:[{stat:r.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:2661180602},[f.EchoOfHarvest]:{id:f.EchoOfHarvest,name:"\u6536\u5272\u56de\u58f0",description:"\u51fb\u8d25\u865a\u5f31\u7684\u76ee\u6807\u4f1a\u751f\u6210\u4e00\u4e2a\u80fd\u91cf\u7403\u4ee5\u53ca\u4e00\u4e2a\u865a\u7a7a\u88c2\u53e3\u3002",type:h.O.Void,bonus:[{stat:r.WB.Intellect,value:-10}],cost:1,requiredArmorAffinity:0,hash:2661180601},[f.EchoOfStarvation]:{id:f.EchoOfStarvation,name:"\u9965\u997f\u56de\u58f0",description:"\u62fe\u53d6\u865a\u7a7a\u88c2\u53e3\u6216\u80fd\u91cf\u7403\u4f1a\u8d4b\u4e88\u541e\u98df\u3002",type:h.O.Void,bonus:[{stat:r.WB.Recovery,value:-10}],cost:1,requiredArmorAffinity:0,hash:2661180603},[f.EchoOfVigilance]:{id:f.EchoOfVigilance,name:"\u8b66\u60d5\u56de\u58f0",description:"\u62a4\u76fe\u8017\u5c3d\u65f6\u51fb\u8d25\u4e00\u4e2a\u76ee\u6807\uff0c\u5c31\u4f1a\u83b7\u5f97\u4e00\u4e2a\u4e34\u65f6\u7684\u865a\u7a7a\u8986\u76d6\u62a4\u76fe\u3002",type:h.O.Void,bonus:[{stat:r.WB.Recovery,value:-10}],cost:1,requiredArmorAffinity:0,hash:3854948621},[f.EmberOfBenelovence]:{id:f.EmberOfBenelovence,name:"\u4ec1\u6148\u4f59\u70ec",description:"\u5bf9\u53cb\u519b\u65bd\u52a0\u6062\u590d\u3001\u6cbb\u7597\u6216\u7115\u5149\u6548\u679c\u53ef\u5728\u77ed\u65f6\u95f4\u5185\u63d0\u5347\u624b\u96f7\u3001\u8fd1\u6218\u548c\u804c\u4e1a\u6280\u80fd\u7684\u518d\u751f\u80fd\u529b\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132292},[f.EmberOfBeams]:{id:f.EmberOfBeams,name:"\u5149\u7ebf\u4f59\u70ec",description:"\u4f60\u7684\u70c8\u65e5\u8d85\u80fd\u5f39\u9053\u5c06\u62e5\u6709\u66f4\u5f3a\u7684\u6355\u83b7\u80fd\u529b\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:362132295},[f.EmberOfEmpyrean]:{id:f.EmberOfEmpyrean,name:"\u81f3\u9ad8\u5929\u4f59\u70ec",description:"\u70c8\u65e5\u6b66\u5668\u6216\u6280\u80fd\u6700\u540e\u4e00\u51fb\u53ef\u5ef6\u957f\u65bd\u52a0\u5728\u81ea\u8eab\u7684\u6062\u590d\u548c\u7115\u5149\u6548\u679c\u7684\u6301\u7eed\u65f6\u95f4\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Resilience,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132294},[f.EmberOfCombustion]:{id:f.EmberOfCombustion,name:"\u71c3\u70e7\u4f59\u70ec",description:"\u4f7f\u7528\u70c8\u65e5\u8d85\u80fd\u5b8c\u6210\u6700\u540e\u4e00\u51fb\u53ef\u5bf9\u76ee\u6807\u9020\u6210\u70b9\u71c3\u6548\u679c\u5e76\u751f\u6210\u4e00\u4e2a\u7130\u7075\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:362132289},[f.EmberOfChar]:{id:f.EmberOfChar,name:"\u70e7\u7126\u4f59\u70ec",description:"\u4f60\u7684\u70c8\u65e5\u70b9\u71c3\u53ef\u5c06\u707c\u70e7\u6548\u679c\u8513\u5ef6\u81f3\u53d7\u5f71\u54cd\u7684\u76ee\u6807\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Discipline,value:10}],cost:1,requiredArmorAffinity:0,hash:362132291},[f.EmberOfTempering]:{id:f.EmberOfTempering,name:"\u56de\u706b\u4f59\u70ec",description:"\u70c8\u65e5\u6b66\u5668\u6700\u540e\u4e00\u51fb\u53ef\u8ba9\u4f60\u548c\u76df\u53cb\u5728\u77ed\u65f6\u95f4\u5185\u83b7\u5f97\u66f4\u9ad8\u7684\u6062\u590d\u80fd\u529b\u3002\u53ef\u53e0\u52a03\u5c42\u3002\n\u6fc0\u6d3b\u56de\u706b\u4f59\u70ec\u65f6\uff0c\u4f60\u7684\u6b66\u5668\u5c06\u62e5\u6709\u66f4\u9ad8\u7684\u7a7a\u4e2d\u6548\u7387\uff0c\u5e76\u4e14\u70c8\u65e5\u6b66\u5668\u6700\u540e\u4e00\u51fb\u53ef\u751f\u6210\u4e00\u4e2a\u7130\u7075\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Recovery,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132290},[f.EmberOfEruption]:{id:f.EmberOfEruption,name:"\u55b7\u53d1\u4f59\u70ec",description:"\u4f60\u7684\u70c8\u65e5\u70b9\u71c3\u8303\u56f4\u6548\u679c\u83b7\u5f97\u63d0\u5347\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276348},[f.EmberOfWonder]:{id:f.EmberOfWonder,name:"\u60ca\u5947\u4f59\u70ec",description:"\u901a\u8fc7\u70c8\u65e5\u70b9\u71c3\u5feb\u901f\u6d88\u706d\u591a\u4e2a\u76ee\u6807\u4f1a\u751f\u6210\u80fd\u91cf\u7403\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276350},[f.EmberOfSearing]:{id:f.EmberOfSearing,name:"\u70bd\u70ed\u4f59\u70ec",description:"\u51fb\u8d25\u707c\u70e7\u7684\u76ee\u6807\u53ef\u83b7\u5f97\u8fd1\u6218\u80fd\u91cf\u5e76\u751f\u6210\u4e00\u4e2a\u7130\u7075\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:1051276351},[f.EmberOfTorches]:{id:f.EmberOfTorches,name:"\u706b\u70ac\u4f59\u70ec",description:"\u5bf9\u6218\u6597\u4eba\u5458\u8fdb\u884c\u7684\u5145\u80fd\u8fd1\u6218\u653b\u51fb\u53ef\u8d4b\u4e88\u4f60\u548c\u9644\u8fd1\u53cb\u519b\u7115\u5149\u6548\u679c\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:362132288},[f.EmberOfMercy]:{id:f.EmberOfMercy,name:"\u4ec1\u6148\u4f59\u70ec",description:"\u5f53\u4f60\u590d\u6d3b\u76df\u53cb\u65f6\uff0c\u4f60\u548c\u5176\u4ed6\u9644\u8fd1\u76df\u53cb\u5c06\u83b7\u5f97\u6062\u590d\u6548\u679c\u3002\u62fe\u53d6\u7130\u7075\u53ef\u8d4b\u4e88\u6062\u590d\u6548\u679c\u3002",type:h.O.Solar,bonus:[{stat:r.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:4180586737},[f.SparkOfBrilliance]:{id:f.SparkOfBrilliance,name:"\u5149\u8f89\u706b\u82b1",description:"\u7528\u7cbe\u51c6\u4f24\u5bb3\u51fb\u8d25\u4e00\u4e2a\u88ab\u81f4\u76f2\u7684\u76ee\u6807\u4f1a\u9020\u6210\u4e00\u4e2a\u81f4\u76f2\u7206\u70b8\u3002",type:h.O.Arc,bonus:[{stat:r.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705905},[f.SparkOfFeedback]:{id:f.SparkOfFeedback,name:"\u53cd\u9988\u706b\u82b1",description:"\u627f\u53d7\u8fd1\u6218\u4f24\u5bb3\u53ef\u5728\u77ed\u65f6\u95f4\u5185\u589e\u52a0\u4f60\u9020\u6210\u7684\u8fd1\u6218\u4f24\u5bb3\u3002",type:h.O.Arc,bonus:[{stat:r.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705907},[f.SparkOfDischarge]:{id:f.SparkOfDischarge,name:"\u653e\u7535\u706b\u82b1",description:"\u7535\u5f27\u6b66\u5668\u6700\u540e\u4e00\u51fb\u6709\u51e0\u7387\u4ea7\u751f\u4e00\u4e2a\u79bb\u5b50\u8f68\u8ff9\u3002",type:h.O.Arc,bonus:[{stat:r.WB.Strength,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069362},[f.SparkOfFocus]:{id:f.SparkOfFocus,name:"\u4e13\u6ce8\u706b\u82b1",description:"\u8fdb\u884c\u51b2\u523a\u540e\u77ed\u65f6\u95f4\u5185\uff0c\u4f60\u7684\u804c\u4e1a\u6280\u80fd\u56de\u590d\u4f1a\u589e\u52a0\u3002",type:h.O.Arc,bonus:[{stat:r.AR.ClassAbilityRegenerationStat,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069360},[f.SparkOfVolts]:{id:f.SparkOfVolts,name:"\u4f0f\u7279\u706b\u82b1",description:"\u7ec8\u7ed3\u6280\u4f1a\u4f7f\u4f60\u8fdb\u5165\u589e\u5e45\u72b6\u6001\u3002",type:h.O.Arc,bonus:[{stat:r.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:3277705904},[f.SparkOfResistance]:{id:f.SparkOfResistance,name:"\u6297\u6027\u706b\u82b1",description:"\u5728\u88ab\u6218\u6597\u4eba\u5458\u5305\u56f4\u65f6\uff0c\u4f60\u5bf9\u4f24\u5bb3\u7684\u6297\u6027\u589e\u52a0\u3002",type:h.O.Arc,bonus:[{stat:r.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:1727069366},[f.SparkOfShock]:{id:f.SparkOfShock,name:"\u9707\u98a4\u706b\u82b1",description:"\u4f60\u7684\u7535\u5f27\u624b\u96f7\u4f1a\u9707\u98a4\u76ee\u6807\u3002",type:h.O.Arc,bonus:[{stat:r.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:1727069364},[f.ThreadOfFury]:{id:f.ThreadOfFury,name:"\u72c2\u6012\u4e1d\u7ebf",description:"\u4f7f\u7528\u7f20\u7ed3\u5bf9\u76ee\u6807\u9020\u6210\u4f24\u5bb3\u53ef\u56de\u590d\u8fd1\u6218\u80fd\u91cf\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Strength,value:-10}],cost:1,requiredArmorAffinity:0,hash:4208512219},[f.ThreadOfAscent]:{id:f.ThreadOfAscent,name:"\u4e0a\u5347\u4e1d\u7ebf",description:"\u6fc0\u6d3b\u4f60\u7684\u624b\u96f7\u6280\u80fd\u4f1a\u586b\u88c5\u4f60\u5df2\u88c5\u5907\u7684\u6b66\u5668\u5e76\u5728\u77ed\u65f6\u95f4\u5185\u63d0\u4f9b\u989d\u5916\u7684\u7a7a\u4e2d\u6548\u7387\u548c\u64cd\u63a7\u6027\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Mobility,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512216},[f.ThreadOfFinality]:{id:f.ThreadOfFinality,name:"\u7ec8\u5c40\u4e1d\u7ebf",description:"\u7ec8\u7ed3\u6280\u6700\u540e\u4e00\u51fb\u4f1a\u751f\u6210\u7ebf\u866b\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Recovery,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512217},[f.ThreadOfWarding]:{id:f.ThreadOfWarding,name:"\u5b88\u62a4\u4e1d\u7ebf",description:"\u62fe\u53d6\u80fd\u91cf\u7403\u4f1a\u63d0\u4f9b\u7ec7\u9020\u94e0\u7532\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Resilience,value:-10}],cost:1,requiredArmorAffinity:0,hash:4208512222},[f.ThreadOfTransmutation]:{id:f.ThreadOfTransmutation,name:"\u8715\u53d8\u4e1d\u7ebf",description:"\u5904\u4e8e\u7ec7\u9020\u94e0\u7532\u72b6\u6001\u65f6\uff0c\u6b66\u5668\u6700\u540e\u4e00\u51fb\u4f1a\u751f\u6210\u4e00\u4e2a\u7f20\u7ed3\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512221},[f.ThreadOfEvolution]:{id:f.ThreadOfEvolution,name:"\u8fdb\u5316\u4e1d\u7ebf",description:"\u7ebf\u866b\u53ef\u79fb\u52a8\u5f97\u66f4\u8fdc\u5e76\u9020\u6210\u989d\u5916\u4f24\u5bb3\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Intellect,value:10}],cost:1,requiredArmorAffinity:0,hash:4208512211},[f.ThreadOfBinding]:{id:f.ThreadOfBinding,name:"\u675f\u7f1a\u4e1d\u7ebf",description:"\u8d85\u80fd\u6700\u540e\u4e00\u51fb\u4f1a\u4ece\u76ee\u6807\u8eab\u4e0a\u7206\u53d1\u51fa\u60ac\u505c\u8109\u51b2\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Resilience,value:10}],cost:1,requiredArmorAffinity:0,hash:3192552688},[f.ThreadOfGeneration]:{id:f.ThreadOfGeneration,name:"\u751f\u6210\u4e1d\u7ebf",description:"\u9020\u6210\u4f24\u5bb3\u4f1a\u751f\u6210\u624b\u96f7\u80fd\u91cf\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Discipline,value:-10}],cost:1,requiredArmorAffinity:0,hash:3192552691},[f.ThreadOfContinuity]:{id:f.ThreadOfContinuity,name:"\u6301\u7eed\u4e1d\u7ebf",description:"\u5411\u76ee\u6807\u65bd\u52a0\u7684\u60ac\u505c\u3001\u74e6\u89e3\u548c\u5272\u88c2\u6548\u679c\u62e5\u6709\u66f4\u4e45\u7684\u6301\u7eed\u65f6\u95f4\u3002",type:h.O.Strand,bonus:[{stat:r.WB.Strength,value:10}],cost:1,requiredArmorAffinity:0,hash:3192552690}},Wt={outputEncoding:"Base64"},ne={inputEncoding:"Base64",outputEncoding:"String"};let H=(()=>{class n{constructor(){this.__configuration=this.loadCurrentConfiguration(),this._configuration=new ht.X(this.__configuration),this.configuration=this._configuration.asObservable(),this._storedConfigurations=new ht.X(this.listSavedConfigurations()),this.storedConfigurations=this._storedConfigurations.asObservable()}get readonlyConfigurationSnapshot(){return Object.assign(this.__configuration,{})}modifyConfiguration(e){e(this.__configuration),this.saveCurrentConfiguration(this.__configuration)}saveConfiguration(e,o){let a=this.listSavedConfigurations(),s=this.listSavedConfigurations().map((p,d)=>[p,d]).filter(p=>p[0].name==e)[0];s&&a.splice(s[1],1),a.push({configuration:o,name:e,version:"2.4.0"}),a=a.sort((p,d)=>p.name<d.name?-1:p.name>d.name?1:0);const c=ut.compress(JSON.stringify(a),Wt);localStorage.setItem("storedConfigurations",c),this._storedConfigurations.next(a)}doesSavedConfigurationExist(e){return this.listSavedConfigurations().filter(o=>o.name==e).length>0}loadSavedConfiguration(e){let o=this.listSavedConfigurations().filter(a=>a.name==e)[0];return!!o&&(this.saveCurrentConfiguration(o.configuration),!0)}checkAndFixOldSavedConfigurations(e){if(e.configuration=Object.assign(Jt.buildEmptyConfiguration(),e.configuration),e.configuration.hasOwnProperty("minimumStatTier")){let o=e.configuration.minimumStatTier;e.configuration.minimumStatTiers[r.WB.Mobility].value=o[r.WB.Mobility],e.configuration.minimumStatTiers[r.WB.Resilience].value=o[r.WB.Resilience],e.configuration.minimumStatTiers[r.WB.Recovery].value=o[r.WB.Recovery],e.configuration.minimumStatTiers[r.WB.Discipline].value=o[r.WB.Discipline],e.configuration.minimumStatTiers[r.WB.Intellect].value=o[r.WB.Intellect],e.configuration.minimumStatTiers[r.WB.Strength].value=o[r.WB.Strength],delete e.configuration.minimumStatTier}if(e.configuration.hasOwnProperty("selectedExoticHash")&&(e.configuration.selectedExotics=[e.configuration.selectedExoticHash],delete e.configuration.selectedExoticHash),e.configuration.hasOwnProperty("maximumStatMods")){for(let a=e.configuration.maximumStatMods;a<5;a++)e.configuration.maximumModSlots[1+a].value=0;delete e.configuration.maximumStatMods}e.configuration.enabledMods=e.configuration.enabledMods.filter(o=>!!dt[o]),e.configuration.limitParsedResults=!0,e.configuration.addConstent1Resilience=!1}listSavedConfigurations(){let e;try{e=localStorage.getItem("storedConfigurations")||"[]","["!=e.substr(0,1)&&(e=ut.decompress(e,ne))}catch{e=[]}let o=JSON.parse(e)||[];return o=o.sort((a,s)=>a.name<s.name?-1:a.name>s.name?1:0),o.forEach(a=>this.checkAndFixOldSavedConfigurations(a)),o}deleteStoredConfiguration(e){let o=this.listSavedConfigurations(),a=this.listSavedConfigurations().map((s,c)=>[s,c]).filter(s=>s[0].name==e)[0];a&&o.splice(a[1],1),localStorage.setItem("storedConfigurations",ut.compress(JSON.stringify(o),Wt)),this._storedConfigurations.next(o)}saveCurrentConfigurationToName(e){this.saveConfiguration(e,this.__configuration)}saveCurrentConfiguration(e){console.debug("write configuration",e),this.__configuration=Object.assign(Jt.buildEmptyConfiguration(),e),this.__configuration.enabledMods=[].concat(this.__configuration.enabledMods),this.__configuration.minimumStatTiers=Object.assign({},this.__configuration.minimumStatTiers);const o=ut.compress(JSON.stringify(this.__configuration),Wt);localStorage.setItem("currentConfig",o),this._configuration.next(Object.assign({},this.__configuration))}loadCurrentConfiguration(){let e;try{e=localStorage.getItem("currentConfig")||"{}","{"!=e.substr(0,1)&&(e=ut.decompress(e,ne))}catch{e={}}var o={name:"dummy",version:"1",configuration:JSON.parse(e)};return this.checkAndFixOldSavedConfigurations(o),o.configuration}getCurrentConfigBase64Compressed(){let e=localStorage.getItem("currentConfig")||"{}";return"{"==e.substr(0,1)&&(e=ut.compress(e,{outputEncoding:"Base64"})),e}getAllStoredConfigurationsBase64Compressed(){let e=localStorage.getItem("storedConfigurations")||"[]";return"["==e.substr(0,1)&&(e=ut.compress(e,{outputEncoding:"Base64"})),e}getStoredConfigurationBase64Compressed(e){let o=this.listSavedConfigurations().filter(a=>a.name==e)[0];return o?ut.compress(JSON.stringify(o),{outputEncoding:"Base64"}):""}resetCurrentConfiguration(){this.saveCurrentConfiguration(Jt.buildEmptyConfiguration())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var tt=_(8012),Ce=_(1016),xe=_(9891);let Lt=(()=>{class n{constructor(e,o,a,s){var c=this;this.authService=e,this.http=o,this.db=a,this.config=s,this.config_assumeEveryLegendaryIsArtifice=!1,this.config.configuration.subscribe(function(){var p=(0,m.Z)(function*(d){c.config_assumeEveryLegendaryIsArtifice=d.assumeEveryLegendaryIsArtifice});return function(d){return p.apply(this,arguments)}}())}$httpWithoutKey(e){var o=this;return(0,m.Z)(function*(){return o.http.get(e.url,{params:e.params}).toPromise()})()}$httpPost(e){var o=this;return(0,m.Z)(function*(){return o.http.post(e.url,e.body,{params:e.params,headers:{"X-API-Key":D_apiKey,Authorization:"Bearer "+o.authService.accessToken}}).toPromise().catch(function(){var a=(0,m.Z)(function*(s){console.error(s)});return function(s){return a.apply(this,arguments)}}())})()}$http(e){var o=this;return(0,m.Z)(function*(){return o.http.get(e.url,{params:e.params,headers:{"X-API-Key":D_apiKey,Authorization:"Bearer "+o.authService.accessToken}}).toPromise().catch(function(){var a=(0,m.Z)(function*(s){console.error(s),"SystemDisabled"==s.error?.ErrorStatus&&(console.info("System is disabled. Revoking auth, must re-login"),yield o.authService.logout()),"Internal Server Error"!=s.ErrorStatus&&console.info("API-Error")});return function(s){return a.apply(this,arguments)}}())})()}getCharacters(){var e=this;return(0,m.Z)(function*(){let o=yield e.getMembershipDataForCurrentUser();if(!o)return yield e.authService.logout(),[];const a=yield(0,tt.Ai)(s=>e.$http(s),{components:[200],membershipType:o.membershipType,destinyMembershipId:o.membershipId});return Object.values(a?.Response.characters.data||{}).map(s=>({characterId:s.characterId,clazz:s.classType,emblemUrl:s.emblemBackgroundPath,lastPlayed:Date.parse(s.dateLastPlayed)}))||[]})()}transferItem(e,o,a=!1){var s=this;return(0,m.Z)(function*(){let c=yield s.getMembershipDataForCurrentUser();if(!c)return yield s.authService.logout(),!1;let p=yield(0,tt.rV)(x=>s.$http(x),{membershipType:c.membershipType,destinyMembershipId:c.membershipId,itemInstanceId:e,components:[307]}),d=!1;if(!p)return!1;if(p.Response.characterId!=o){2!=p.Response.item.data?.location&&(yield s.moveItemToVault(p.Response.item.data?.itemInstanceId||""),p=yield(0,tt.rV)(C=>s.$http(C),{membershipType:c.membershipType,destinyMembershipId:c.membershipId,itemInstanceId:e,components:[307]}));const x={characterId:o,membershipType:3,itemId:p?.Response.item.data?.itemInstanceId||"",itemReferenceHash:p?.Response.item.data?.itemHash||0,stackSize:1,transferToVault:!1};d=!!(yield(0,tt.ux)(C=>s.$httpPost(C),x))}if(a){let x={characterId:o,membershipType:3,stackSize:1,itemId:p?.Response.item.data?.itemInstanceId||"",itemReferenceHash:p?.Response.item.data?.itemHash||0};d=!!(yield(0,tt.DH)(C=>s.$httpPost(C),x))}return d})()}moveItemToVault(e){var o=this;return(0,m.Z)(function*(){console.info("moveItemToVault",e);let a=yield o.getMembershipDataForCurrentUser();if(!a)return void(yield o.authService.logout());const s=yield(0,tt.rV)(p=>o.$http(p),{membershipType:a.membershipType,destinyMembershipId:a.membershipId,itemInstanceId:e,components:[307]}),c={characterId:s?.Response.characterId||"",membershipType:3,itemId:s?.Response.item.data?.itemInstanceId||"",itemReferenceHash:s?.Response.item.data?.itemHash||0,stackSize:1,transferToVault:!0};yield(0,tt.ux)(p=>o.$httpPost(p),c)})()}getMembershipDataForCurrentUser(){var e=this;return(0,m.Z)(function*(){var o=JSON.parse(localStorage.getItem("auth-membershipInfo")||"null"),a=JSON.parse(localStorage.getItem("auth-membershipInfo-date")||"0");if(o&&Date.now()-a<864e5)return console.log("getMembershipDataForCurrentUser -> loading cached! "),o;console.info("BungieApiService","getMembershipDataForCurrentUser");let c=(yield(0,xe.Rm)(d=>e.$http(d)))?.Response.destinyMemberships;console.info("Memberships:",c),c=c.filter(d=>0==d.crossSaveOverride||d.crossSaveOverride==d.membershipType),console.info("Filtered Memberships:",c);let p=null;if(1==c?.length)p=c?.[0];else{let d=0,x=0;for(let C in c){const E=c?.[C],S=yield(0,tt.Ai)(P=>e.$http(P),{components:[100],membershipType:E.membershipType,destinyMembershipId:E.membershipId});if(S&&S.Response?.profile.data?.dateLastPlayed){let P=Date.parse(S.Response?.profile.data?.dateLastPlayed);P>x&&(x=P,d=C)}}console.info("getMembershipDataForCurrentUser","Selected membership data for the last logged in membership."),p=c?.[d]}return localStorage.setItem("auth-membershipInfo",JSON.stringify(p)),localStorage.setItem("auth-membershipInfo-date",JSON.stringify(Date.now())),p})()}updateArmorItems(e=!1){var o=this;return(0,m.Z)(function*(){if(!e&&localStorage.getItem("LastArmorUpdate")&&localStorage.getItem("last-armor-db-name")==o.db.inventoryArmor.db.name&&Date.now()-Number.parseInt(localStorage.getItem("LastArmorUpdate")||"0")<18e5)return;let a=yield o.getMembershipDataForCurrentUser();if(!a)return void(yield o.authService.logout());console.info("BungieApiService","getProfile");let s=yield(0,tt.Ai)(A=>o.$http(A),{components:[205,201,103,102,304,300,302,305,308],membershipType:a.membershipType,destinyMembershipId:a.membershipId}),c=s.Response.profileInventory.data?.items||[];for(let A in s.Response.characterEquipment.data)c=c.concat(s.Response.characterEquipment.data[A].items);for(let A in s.Response.characterInventories.data)c=c.concat(s.Response.characterInventories.data[A].items);var p=c.filter(A=>[3853748946,4257549984,4257549985].indexOf(A.itemHash)>-1).reduce((A,ot)=>(ot.itemHash.toString()in A||(A[ot.itemHash]=0),A[ot.itemHash]+=ot.quantity,A),{});let d=s.Response.profileCurrencies.data?.items.filter(A=>3159615086==A.itemHash)||[];p[3159615086]=d.length>0?d[0].quantity:0;let x=s.Response.profileCurrencies.data?.items.filter(A=>1022552290==A.itemHash)||[];p[1022552290]=x.length>0?x[0].quantity:0,localStorage.setItem("stored-materials",JSON.stringify(p));let C=Array.from(new Set(c.map(A=>A.itemHash))),E=yield o.db.manifestArmor.toArray();const S=E.filter(A=>C.indexOf(A.hash)>-1),P=E.filter(A=>19==A.itemType);let k=Object.fromEntries(S.map(A=>[A.hash,A])),W=Object.fromEntries(P.map(A=>[A.hash,A])),w=c.filter(A=>!!A.itemInstanceId).filter(A=>!!((s.Response.itemComponents.stats.data||{})[A.itemInstanceId||""]?.stats||{})[392767087]).filter(A=>!!((s.Response.itemComponents.instances.data||{})[A.itemInstanceId||""]||{}).energy).map(A=>{let Ft=(s.Response.itemComponents.instances.data||{})[A.itemInstanceId||""]||{},Q=Object.assign({itemInstanceId:A.itemInstanceId||"",masterworked:!!Ft.energy&&10==Ft.energy.energyCapacity,energyLevel:Ft.energy?Ft.energy.energyCapacity:0,mobility:0,resilience:0,recovery:0,discipline:0,intellect:0,strength:0},k[A.itemHash]);Q.id=void 0,(2545426109==A.itemHash||199733460==A.itemHash||3224066584==A.itemHash)&&(Q.slot=b.y.ArmorSlotHelmet);var at={2996146975:0,392767087:0,1943323491:0,1735777505:0,144602215:0,4244567218:0};if(k[A.itemHash]&&k[A.itemHash].investmentStats)for(let Tt of k[A.itemHash].investmentStats)Tt.statTypeHash in at&&(at[Tt.statTypeHash]+=Tt.value);if(Q.slot!=b.y.ArmorSlotClass){const Tt=s.Response.itemComponents.sockets.data||{};if(A.itemInstanceId&&A.itemInstanceId in Tt){const Ot=Tt[A.itemInstanceId||""].sockets;var he=[Ot[6].plugHash,Ot[7].plugHash,Ot[8].plugHash,Ot[9].plugHash];Q.statPlugHashes=he;var fc=he.map(wt=>W[wt||""]).filter(wt=>null!=wt);for(let wt of fc)for(let Mt of wt.investmentStats)Mt.statTypeHash in at&&(at[Mt.statTypeHash]+=Mt.value)}else console.error("Sockets data does not contain the correct item instance ID",A.itemInstanceId,s.Response.itemComponents.sockets.data)}return Q.mobility=at[2996146975],Q.resilience=at[392767087],Q.recovery=at[1943323491],Q.discipline=at[1735777505],Q.intellect=at[144602215],Q.strength=at[4244567218],Q.perk==r.Pn.SlotArtifice&&((((s.Response.itemComponents.perks.data||{})[A.itemInstanceId||""]||{}).perks||[]).filter(Mt=>229248542==Mt.perkHash).length>0||(Q.perk=r.Pn.None)),!Q.isExotic&&o.config_assumeEveryLegendaryIsArtifice&&(Q.perk=r.Pn.SlotArtifice),Q})||[];return w=w.filter(A=>!A.statPlugHashes||null!=A.statPlugHashes[0]),yield o.db.inventoryArmor.clear(),yield o.db.inventoryArmor.bulkAdd(w),localStorage.setItem("LastArmorUpdate",Date.now().toString()),localStorage.setItem("last-armor-db-name",o.db.inventoryArmor.db.name),w})()}getArmorPerk(e){if(D_featureFlags_enableGuardianGamesFeatures&&(1013401891===e.hash||366019830===e.hash||537041732==e.hash))return r.Pn.GuardianGamesClassItem;const o=e.sockets?.socketEntries;return(o?.filter(a=>1280==a.reusablePlugSetHash)||[]).length>0||(o?.filter(a=>3727270518==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotArtifice:(o?.filter(a=>2779380852==a.singleInitialItemHash)||[]).length>0?r.Pn.SonarAmplifier:(o?.filter(a=>4144354978==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotRootOfNightmares:(o?.filter(a=>1728096240==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotKingsFall:(o?.filter(a=>1679876242==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotLastWish:(o?.filter(a=>3738398030==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotVaultOfGlass:(o?.filter(a=>706611068==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotGardenOfSalvation:(o?.filter(a=>4055462131==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotDeepStoneCrypt:(o?.filter(a=>2447143568==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotVowOfTheDisciple:(o?.filter(a=>1101259514==a.singleInitialItemHash)||[]).length>0?r.Pn.PerkQueensFavor:(o?.filter(a=>1180997867==a.singleInitialItemHash)||[]).length>0?r.Pn.SlotNightmare:(o?.filter(a=>2472875850==a.singleInitialItemHash)||[]).length>0?r.Pn.PerkIronBanner:(o?.filter(a=>2392155347==a.singleInitialItemHash)||[]).length>0?r.Pn.PerkUniformedOfficer:(o?.filter(a=>400659041==a.singleInitialItemHash)||[]).length>0?r.Pn.PerkPlunderersTrappings:(o?.filter(a=>3525583702==a.singleInitialItemHash)||[]).length>0?r.Pn.SeraphSensorArray:r.Pn.None}updateManifest(e=!1){var o=this;return(0,m.Z)(function*(){var a=null;if(!e&&localStorage.getItem("LastManifestUpdate")&&localStorage.getItem("last-manifest-revision")&&"6d35fda"==localStorage.getItem("last-manifest-revision")){if(Date.now()-Number.parseInt(localStorage.getItem("LastManifestUpdate")||"0")>9e5){const d=(a=yield(0,tt.KN)(x=>o.$http(x))).Response.version;if(localStorage.getItem("last-manifest-version")==d)return void console.debug("bungieApiService - updateManifest","Abort updateManifest due to fitting ManifestVersion")}if(localStorage.getItem("last-manifest-db-name")==o.db.manifestArmor.db.name&&Date.now()-Number.parseInt(localStorage.getItem("LastManifestUpdate")||"0")<864e5)return void console.debug("bungieApiService - updateManifest","Abort updateManifest due to fitting Date")}null==a&&(a=yield(0,tt.KN)(d=>o.$http(d)));const s=a.Response.version,c=yield(0,Ce.xG)(d=>o.$httpWithoutKey(d),{destinyManifest:a.Response,tableNames:["DestinyInventoryItemDefinition"],language:"zh-chs"});console.log("manifestTables.DestinyInventoryItemDefinition",c.DestinyInventoryItemDefinition);let p=Object.entries(c.DestinyInventoryItemDefinition).filter(([d,x])=>19==x.itemType||2==x.itemType||3448274439==x.inventory?.bucketTypeHash||3551918588==x.inventory?.bucketTypeHash||14239492==x.inventory?.bucketTypeHash||20886954==x.inventory?.bucketTypeHash).map(([d,x])=>{let C=b.y.ArmorSlotNone;(x.itemCategoryHashes?.indexOf(45)||-1)>-1&&(C=b.y.ArmorSlotHelmet),(x.itemCategoryHashes?.indexOf(46)||-1)>-1&&(C=b.y.ArmorSlotGauntlet),(x.itemCategoryHashes?.indexOf(47)||-1)>-1&&(C=b.y.ArmorSlotChest),(x.itemCategoryHashes?.indexOf(48)||-1)>-1&&(C=b.y.ArmorSlotLegs),(x.itemCategoryHashes?.indexOf(49)||-1)>-1&&(C=b.y.ArmorSlotClass);const E=(x.sockets?.socketEntries.filter(w=>2512726577==w.socketTypeHash||1108765570==w.socketTypeHash||959256494==w.socketTypeHash||2512726577==w.socketTypeHash||3219375296==w.socketTypeHash||968742181==w.socketTypeHash).length||[])>0,S="\u5f02\u57df"==x.inventory?.tierTypeName?1:0;let P=null;S&&(P=(x.sockets?.socketEntries.filter(A=>965959289==A.socketTypeHash).map(A=>A.singleInitialItemHash)||[])[0]);var k=[1862490585,1862490584,1862490584,1862490583,2471437758],W=x.quality?.versions.filter(w=>k.includes(w.powerCapHash)).length==x.quality?.versions.length;return{hash:x.hash,icon:x.displayProperties.icon,watermarkIcon:(x.quality?.displayVersionWatermarkIcons||[null])[0],name:x.displayProperties.name,description:x.displayProperties.description,clazz:x.classType,armor2:E,slot:C,isExotic:S,isSunset:W,rarity:x.inventory?.tierType,exoticPerkHash:P,itemType:x.itemType,itemSubType:x.itemSubType,investmentStats:x.investmentStats,perk:o.getArmorPerk(x)}});return yield o.db.manifestArmor.clear(),yield o.db.manifestArmor.bulkPut(p),localStorage.setItem("LastManifestUpdate",Date.now().toString()),localStorage.setItem("last-manifest-db-name",o.db.manifestArmor.db.name),localStorage.setItem("last-manifest-revision","6d35fda"),localStorage.setItem("last-manifest-version",s),c})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V),t.LFG(mt.eN),t.LFG(rt),t.LFG(H))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n{constructor(e,o,a,s,c,p){var d=this;this.db=e,this.config=o,this.status=a,this.api=s,this.auth=c,this.router=p,this.allArmorResults=[],this.currentClass=u.None,this._config=Jt.buildEmptyConfiguration(),this.updatingResults=!1,this.refreshing=!1,this.exoticsForClass=[],this._inventory=new lt.t(1),this.inventory=this._inventory.asObservable(),this._manifest=new lt.t(1),this.manifest=this._manifest.asObservable(),this._armorResults=new ht.X({results:this.allArmorResults}),this.armorResults=this._armorResults.asObservable();let x=!1,C=!1;p.events.pipe((0,st.b)(5)).subscribe(function(){var E=(0,m.Z)(function*(S){!d.auth.refreshTokenExpired&&(yield d.auth.autoRegenerateTokens())?!c.isAuthenticated()||S instanceof I.m2&&(d.clearResults(),console.debug("Trigger refreshAll due to router.events"),yield d.refreshAll(!x),x=!0):yield d.auth.logout()});return function(S){return E.apply(this,arguments)}}()),o.configuration.pipe((0,st.b)(500)).subscribe(function(){var E=(0,m.Z)(function*(S){!d.auth.refreshTokenExpired&&(yield d.auth.autoRegenerateTokens())?!c.isAuthenticated()||(d._config=S,C=!0,console.debug("Trigger refreshAll due to config change"),yield d.refreshAll(!x),x=!0,C=!1):yield d.auth.logout()});return function(S){return E.apply(this,arguments)}}())}clearResults(){this.allArmorResults=[],this._armorResults.next({results:this.allArmorResults,totalResults:0,totalTime:0,itemCount:0,maximumPossibleTiers:[0,0,0,0,0,0],statCombo3x100:[],statCombo4x100:[]})}shouldCalculateResults(){return console.log("this.router.url",this.router.url),"/"==this.router.url}refreshAll(e=!1,o=!1){var a=this;return(0,m.Z)(function*(){if(!a.refreshing){console.debug("Execute refreshAll");try{a.refreshing=!0;let s=yield a.updateManifest(o);(yield a.updateInventoryItems(s||e))&&a._inventory.next(null),a.shouldCalculateResults()&&a.updateResults()}finally{a.refreshing=!1}}})()}updateResults(e=3){if(this.clearResults(),this.updatingResults)console.warn("Called updateResults, but aborting, as it is already running.");else try{console.time("updateResults with WebWorker"),this.updatingResults=!0,this.status.modifyStatus(C=>C.calculatingResults=!0);let o=0,a=[],s=0,c=[],p=new Set,d=new Set;const x=Date.now();for(let C=0;C<e;C++){const E=new Worker(_.tu(new URL(_.p+_.u(630),_.b)));E.onmessage=({data:S})=>{if(a.push(S.results),1==S.done){o++,s+=S.stats.permutationCount,c.push(S.runtime.maximumPossibleTiers);for(let P of S.runtime.statCombo3x100)p.add(P);for(let P of S.runtime.statCombo4x100)d.add(P)}if(1==S.done&&o==e){this.status.modifyStatus(k=>k.calculatingResults=!1),this.updatingResults=!1;let P=[];for(let k of a)P.push(...k);this._armorResults.next({results:P,totalResults:s,itemCount:S.stats.itemCount,totalTime:Date.now()-x,maximumPossibleTiers:c.reduce((k,W)=>{for(let w=0;w<6;w++)k[w]<W[w]&&(k[w]=W[w]);return k},[0,0,0,0,0,0]).map(k=>Math.floor(Math.min(100,k)/10)),statCombo3x100:Array.from(p).map(k=>{let W=[];for(let w=0;w<6;w++)(k&1<<w)>0&&W.push(w);return W})||[],statCombo4x100:Array.from(d).map(k=>{let W=[];for(let w=0;w<6;w++)(k&1<<w)>0&&W.push(w);return W},[])||[]}),console.timeEnd("updateResults with WebWorker"),E.terminate()}else 1==S.done&&o!=e&&E.terminate()},E.onerror=S=>{console.error("ERROR IN WEBWORKER, TERMINATING WEBWORKER",S),E.terminate()},E.postMessage({currentClass:this.currentClass,config:this._config,threadSplit:{count:e,current:C}})}}finally{}}getItemCountForClass(e,o){var a=this;return(0,m.Z)(function*(){let s=yield a.db.inventoryArmor.where("clazz").equals(e).toArray();return o&&(s=s.filter(c=>c.slot==o)),s.length})()}getExoticsForClass(e,o){var a=this;return(0,m.Z)(function*(){let s=yield a.db.inventoryArmor.where("isExotic").equals(1).toArray();s=s.filter(p=>p.clazz==e&&p.armor2&&(!o||p.slot==o));let c=yield a.db.manifestArmor.where("isExotic").equals(1).toArray();return c=c.filter(p=>p.clazz==e&&p.armor2&&(!o||p.slot==o)),a.exoticsForClass=c,c.map(p=>({item:p,inInventory:s.filter(d=>d.hash==p.hash).length>0}))})()}updateManifest(e=!1){var o=this;return(0,m.Z)(function*(){if(o.status.getStatus().updatingManifest)return console.error("Already updating the manifest - abort"),!1;console.debug("updateManifest","Set s.updatingManifest = true"),o.status.modifyStatus(s=>s.updatingManifest=!0),console.debug("updateManifest","Call this.api.updateManifest(force) with force="+e);let a=yield o.api.updateManifest(e);return console.debug("updateManifest","Result is ",a),a&&o._manifest.next(null),console.debug("updateManifest","Set s.updatingManifest = false"),o.status.modifyStatus(s=>s.updatingManifest=!1),!!a})()}updateInventoryItems(e=!1,o=0){var a=this;return(0,m.Z)(function*(){console.debug("updateManifest","Set s.updatingInventory = true"),a.status.modifyStatus(s=>s.updatingInventory=!0);try{let s=yield a.api.updateArmorItems(e);return console.debug("updateManifest","Result is ",s),console.debug("updateManifest","Set s.updatingInventory = false"),a.status.modifyStatus(c=>c.updatingInventory=!1),!!s}catch(s){return o>3?(alert("You encountered a strange error with the inventory update. Please log out and log in again. If that does not fix it, please message Mijago."),!1):(a.status.modifyStatus(c=>c.updatingInventory=!1),console.error(s),console.warn("Automatically re-fetching manifest"),yield a.updateManifest(!0),yield a.updateInventoryItems(!0,o++))}})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(rt),t.LFG(H),t.LFG(vt),t.LFG(Lt),t.LFG(V),t.LFG(I.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=(()=>{return(n=l||(l={}))[n.ADD=0]="ADD",n[n.REMOVE=1]="REMOVE",n[n.MODIFIED=2]="MODIFIED",l;var n})();const oe=[{version:"2.4.0",date:"May 23, 2023",entries:[{type:l.MODIFIED,text:"Rewrote the internal algorithm. It makes stuff faster and gives better results.",issues:[]},{type:l.ADD,text:"Added a 'Perform further optimization' setting. This will give you better results, but it will take a bit longer.",issues:[]},{type:l.ADD,text:"Added Icons to the Stat Selection to make it easier to see which row is which perk.",issues:[]},{type:l.ADD,text:"Added button to download results as JSON.",issues:[]},{type:l.ADD,text:"Added Sonar Amplifier perk.",issues:[]},{type:l.MODIFIED,text:"Enabled Modslot limitation.",issues:[]},{type:l.MODIFIED,text:"Enabled the 3x100 and 4x100 buttons.",issues:[]},{type:l.MODIFIED,text:"Enabled Zero-Waste mode.",issues:[]},{type:l.MODIFIED,text:"Temporarily disabled 'Reduce Wasted Stats'. It will be back soon.",issues:[]}]},{version:"2.3.2",date:"May 7, 2023",entries:[{type:l.ADD,text:"Feature: Added 'Guardian Games' class item type to the dropdown. ",issues:[]},{type:l.MODIFIED,text:"Reformatted every file in the codebase and improved the code workflow. You should not really see this on your end, but it will allow everyone to easily contribute to this open source project!",issues:[]}]},{version:"2.3.1",date:"April 2, 2023",entries:[{type:l.ADD,text:"Feature: Added the possibility to only show builds that contain an exotic.",issues:[]},{type:l.ADD,text:"Added 'Root of Nightmares' modslot filter.",issues:[]},{type:l.ADD,text:"Added 'Queen's Favor' seasonal perk filter.",issues:[]},{type:l.ADD,text:"Added text indicating that only fragments that affect stats are shown.",issues:[]},{type:l.MODIFIED,text:"Fixed deprecated mods being sent when opening the loadout in DIM. Also adds artifice mods now.",issues:[]},{type:l.MODIFIED,text:"Fixed an issue where the tool did not put artifice mods on the class item if you forced the class item to be artifice.....",issues:[]},{type:l.MODIFIED,text:"Fixed an issue where the default selection was the titan class, even if you had no titan characters.",issues:[]}]},{version:"2.3.0",date:"March 14, 2023",entries:[{type:l.ADD,text:"Automatically adds artifice mods to your armor. This replaces minor and major mods where possible.",issues:[]},{type:l.ADD,text:"Added the amount of used artifice mods to the result table overview (next to the mods). They are not calculated into the 'mod cost' column.",issues:[]},{type:l.ADD,text:"Added new fragments, including Strand.",issues:[]},{type:l.MODIFIED,text:"Adapted modslot cost of Resilience and Recovery mods.",issues:[]},{type:l.MODIFIED,text:"Introduced more modules for asynchronous loading. This is more a speed improvement than a feature.",issues:[]},{type:l.MODIFIED,text:"Reduced the maximum limit of reported results from 50,000 to 30,000. Note that D2AP still calculates every result, it just does not report them. This is a major speedup, and you usually should not even realize the change.",issues:[]},{type:l.MODIFIED,text:"Increased the visual contrast of major mods in the results table. This means it is now easier to distinguish major from minor mods.",issues:[]},{type:l.REMOVE,text:"Removed the elemental affinity completely.",issues:[]},{type:l.REMOVE,text:"DISABLED the 'Zero Waste' feature. It will be re-enabled in the future.",issues:[]},{type:l.REMOVE,text:"DISABLED the 'Modslot Limitation' feature. It will be re-enabled in the future.",issues:[]}]},{version:"2.2.16",date:"December 7, 2022",entries:[{type:l.ADD,text:"Added Ember of Torches (with -10 Discipline).",issues:[]},{type:l.ADD,text:"Added Retrofit mods (mobility and resilience).",issues:[]},{type:l.ADD,text:"Added armor perk 'Seraph Sensor Array' to the dropdown.",issues:[]},{type:l.ADD,text:"Added a Game2Give message. Let's support the little lights together!",issues:[]},{type:l.MODIFIED,text:"Fixed artifice modslot.",issues:[]},{type:l.MODIFIED,text:"Membership data is cached longer to make things faster and to ease the Bungie API.",issues:[]}]},{version:"2.2.15",date:"October 18, 2022",entries:[{type:l.ADD,text:"Added FOTL masks.",issues:[]}]},{version:"2.2.13",date:"September 23, 2022",entries:[{type:l.ADD,text:"Added an advanced setting to replace the 'Tiers' column with a 'Max Tiers' column. This is adds the amount of open modslots to the column, but ignores mod limitations at the moment. A T32 build without mods will now show T37.",issues:[]}]},{version:"2.2.12",date:"September 11, 2022",entries:[{type:l.MODIFIED,text:"Changed the layout to force the settings (left) and results (right) to be next to each other. This means that the page is more mobile approachable. This is also the first step to a more flexible layout.",issues:[]}]},{version:"2.2.11",date:"September 10, 2022",entries:[{type:l.ADD,text:"Added a display for your owned upgrade materials in the character overview.",issues:[]},{type:l.ADD,text:"Added a notification to warn you when you create a modslot limitation that yields no results. Note that this will not (yet) show invalid combinations over all armor, just for the given slot you selected it in.",issues:[]},{type:l.MODIFIED,text:"Reduced size of exotic icons so that the left side will not grow on Titan class.",issues:[]},{type:l.MODIFIED,text:"The 'Performance Optimization' settings will now always re-enable after a reload to prevent your browser being stuck in a crash-loop. (This is for you, iOS Safari users)",issues:[]},{type:l.MODIFIED,text:"Changed wording of the 'Performance Optimization' setting to prevent people from using it incorrectly.",issues:[]}]},{version:"2.2.10",date:"September 2, 2022",entries:[{type:l.MODIFIED,text:"Updated Artifice Modslot Hash after the most recent hotfix.",issues:[]}]},{version:"2.2.9",date:"September 1, 2022",entries:[{type:l.MODIFIED,text:"Tooltips do now not obstruct the clicks of stats. This fixes the iOS stat selection issue.",issues:[]}]},{version:"2.2.8c",date:"August 24, 2022",entries:[{type:l.MODIFIED,text:"The manifest is now (again) automatically updated on version changes. This fixes your artifice problems at the beginning of a new season.",issues:[]},{type:l.MODIFIED,text:"Added subclass hashes for Arc. This means that it now transfers to DIM.",issues:[]}]},{version:"2.2.8b",date:"August 24, 2022",entries:[{type:l.MODIFIED,text:"Fixed Artifice modslots. You might need to wait a bit, alternatively delete the database (Account section) or re-log.",issues:[]}]},{version:"2.2.8a",date:"August 23, 2022",entries:[{type:l.MODIFIED,text:"Updated grenade and melee cooldowns for arc.",issues:[]}]},{version:"2.2.8",date:"August 23, 2022",entries:[{type:l.ADD,text:"Added Arc 3.0 fragments.",issues:[]},{type:l.MODIFIED,text:"Fixed tooltip issues on iOS devices.",issues:[]},{type:l.MODIFIED,text:"Fixed an infinite loading issue.",issues:[]}]},{version:"2.2.7",date:"June 25, 2022",entries:[{type:l.ADD,text:"Added a link to my Discord bot Crayon.",issues:[]},{type:l.MODIFIED,text:"Fixed an issue where a large number of stored configurations would drastically slow down the app.",issues:[]}]},{version:"2.2.6",date:"June 8, 2022",entries:[{type:l.MODIFIED,text:"Fixed an issue where the elemental selection would not give the correct results under very specific conditions.",issues:[]}]},{version:"2.2.5",date:"June 7, 2022",entries:[{type:l.ADD,text:"Added all of the new ability cooldowns.",issues:[]},{type:l.MODIFIED,text:"Completely reworked the ability cooldown tooltips. They now show the difference to the currently selected tier.",issues:[]}]},{version:"2.2.4",date:"June 3, 2022",entries:[{type:l.MODIFIED,text:"Fixed the export to DIM. Thanks to bhollis for the fix!",issues:[]},{type:l.MODIFIED,text:"The manifest now automatically updates when Bungie updated it too, except just after a fixed timespan.",issues:[]}]},{version:"2.2.3",date:"May 24, 2022",entries:[{type:l.ADD,text:"Added Solar 3.0",issues:[]},{type:l.MODIFIED,text:"Adapted artifice armor to the new Season.",issues:[]}]},{version:"2.2.2",date:"Mar 9, 2022",entries:[{type:l.ADD,text:"See what mods do by hovering over their name.",issues:["D2AP-41"]},{type:l.ADD,text:"Added Vow of the Disciple armor.",issues:["D2AP-35"]},{type:l.ADD,text:"Added 'Uniformed Officer' armor.",issues:["D2AP-35"]},{type:l.MODIFIED,text:"Fixed Scatter grenades being Tier 3 (were T4 before).",issues:["D2AP-39"]},{type:l.MODIFIED,text:"Changed the color of the login button.",issues:["D2AP-37"]},{type:l.MODIFIED,text:"When a selected character class does not exist, the tool will now select the first available class as default."}]},{version:"2.2.1",date:"Feb 22, 2022",entries:[{type:l.ADD,text:"Added a switch to select between Stasis and Void 3.0 fragments. Stasis is enabled per default to ensure backwards compatibility of saved configurations.",issues:["D2AP-10"]},{type:l.ADD,text:"Added a debug section to the (new) account settings page. The account settings page does not do much yet, I just wanted to deploy the debug functions.",issues:["D2AP-23"]},{type:l.MODIFIED,text:"Modified super cooldowns for Witch Queen."},{type:l.MODIFIED,text:"Added a minor text to the exotic overview that explains that exotics not in the inventory are shown in grayscale. You can also no longer select those.",issues:["D2AP-17"]},{type:l.MODIFIED,text:"Minor changes in how the database behaves on logout. It now deletes the inventory when you log out, but still keeps the manifest.",issues:["D2AP-27"]},{type:l.MODIFIED,text:"Users are now logged out when the Bungie.Net API is down.",issues:["D2AP-34"]},{type:l.MODIFIED,text:"Fixed Charge Harvester and Echo of Persistence incorrectly reducing Discipline instead of recovery when used on a Warlock."}]},{version:"2.2.0",date:"Feb 09, 2022",entries:[{type:l.ADD,text:"Added the ability to select armor perks and 5th slots. Just like the elements you can optionally enforce it to be on a certain slot. Useful if you want to build Iron Banner armor or utilize artifice modslots."},{type:l.ADD,text:"Added the ability to limit the available points on each armor item for stat mods. This allows you to limit the kind of stat mods that are usable. You can now say 'do not use major intellect mods'."},{type:l.ADD,text:"Added the ability to lock stat tiers. Previously you could only set 'Use Tier 3 or higher', now you can optionally set 'Enforce Tier 3'. This is useful for example if you want to enforce T3 mobility on a Titan."},{type:l.ADD,text:"Added a summary of important configuration choices to the result header to improve readability."},{type:l.ADD,text:"Added a button to open the DIM Loadout Builder with the current settings."},{type:l.ADD,text:"Added an option that forces the correct element on non-masterworked armor pieces. This is per default enabled."},{type:l.ADD,text:"Added cooldowns for class abilities (Dodge, Barricade, Rift)."},{type:l.ADD,text:"Added visual indicators for minor and major mods in the overview table. The whole visualization is also more compact now."},{type:l.ADD,text:"Added visual cursor indicator to every clickable input, e.g. in the exotic, element and perk/mod selection."},{type:l.ADD,text:"Added a (very basic) item tooltip."},{type:l.ADD,text:"Show the required material cost for each item. Note that this ignores your class item."},{type:l.ADD,text:"Added a stat summary table to the stat detail view. This allows you to easily share a stat distribution with others."},{type:l.ADD,text:"Added 'Clear this section' button to each configuration section."},{type:l.ADD,text:"Added support for your class items. You won't see a lot of this, except when you use the slot and element limitation in specific ways."},{type:l.ADD,text:"Detailed information is now in expandable containers to improve readability."},{type:l.ADD,text:"Show the seasonal icon for every item too."},{type:l.ADD,text:"Added info text to the table headers."},{type:l.ADD,text:"The character selection now shows the existing characters - and their emblems too!"},{type:l.ADD,text:"Added Discord and another Ko-Fi link. You can find them in the character selection."},{type:l.ADD,text:"Added a changelog popup right at the start of the page. It only appears when a new update occured. You can always trigger it by clicking the current version number."},{type:l.ADD,text:"Now utilizes three webworkers instead of one. The process is simple, but generally speeds up the results by a huge margin."},{type:l.ADD,text:"Added an Armor Investigation tab for data scientists."},{type:l.ADD,text:"Added a sidenav for smaller devices and reworked the top menubar."},{type:l.ADD,text:"The detailed result table now shows the perk of an selected item, if it has one. This also applies to class items, if necessary."},{type:l.ADD,text:"Hovering over exotics in the exotic selection now displays their perk description."},{type:l.ADD,text:"Added an advanced setting to disable white, green and blue armor."},{type:l.ADD,text:"Added an advanced setting to ignore sunset armor."},{type:l.MODIFIED,text:"Changed the word 'Permutation' to 'Combination' wherever it has been used."},{type:l.MODIFIED,text:"Clicking on a setting that is already set does not re-trigger the calculation now. For example, selecting T3 recovery when it is already at T3 now does nothing."},{type:l.MODIFIED,text:"The default for all stats is now tier 0 instead of tier 1, to make it consistent with the clear buttons."},{type:l.MODIFIED,text:"The default setting for 'ignore non masterworked elements' is now 'off'."},{type:l.MODIFIED,text:"The 'time required' number now measures the time from before the webworkers are spawned until all webworkers are done. Previously it only monitored the time required INSIDE the webworker, so it may show slower times."},{type:l.MODIFIED,text:"Fixed the width of the 'Exotic' header in the results table. This means that it is now farther away from the 'Mobility' column."},{type:l.MODIFIED,text:"Completely reworked the elemental affinity selection. Per default it is now not fixed to a certain armor slot, but using a toggle button you can simply do so again."},{type:l.MODIFIED,text:"The results header now screams at you in bright red letters when no results are found."},{type:l.MODIFIED,text:"The alternating rows of the results details table have now a lighter color to make it easier to read."},{type:l.MODIFIED,text:"Fixed ability cooldowns for melee and grenade at tier 7 and tier 8."},{type:l.MODIFIED,text:"Cooldowns now are shown in MM:SS instead of plain seconds."},{type:l.MODIFIED,text:"Completely rewrote the core logic of D2ArmorPicker for the changes mentioned above."},{type:l.MODIFIED,text:"Exotics you do not have in your vault or inventory are now greyed out."},{type:l.MODIFIED,text:"Fixed an issue where exotics were not shown at your first login."},{type:l.MODIFIED,text:"Changed the color of important buttons so that they are easier to read."},{type:l.MODIFIED,text:"The icons of items in the results are now loaded asynchronous from their hashes. This saves a lot of memory, as I do not have to send two icon URLs for each item - for each result. I will further improve this in a later version."},{type:l.MODIFIED,text:"Maximum table output is now limited to 50 results (instead of 200). It still defaults to 20.}"},{type:l.MODIFIED,text:"Completely reworked the visuals of the changelog. It is now more pleasing to the eye."}]},{version:"2.1.4",date:"Dec 29, 2021",entries:[{type:l.MODIFIED,text:"Item stats are now built from their plugs and InvestmentStats (in case of some exotics). This fixes potentially invalid item stats when you use mods like Powerful Friends or Protective Light. A big thanks to u/deangaudet for reminding me that the API also reports the plugs of an item."},{type:l.MODIFIED,text:"Only save necessary item types of the manifest (namely mods and armor). Also, save twhe investmentStats now."},{type:l.MODIFIED,text:"Sped up the item update step."}]},{version:"2.1.3",date:"Dec 16, 2021",entries:[{type:l.MODIFIED,text:"Added new stat cooldowns"}]},{version:"2.1.2",date:"Dec 1, 2021",entries:[{type:l.MODIFIED,text:"The changelog is now in a scrollable box."},{type:l.MODIFIED,text:"Changed buymeacoffee to a ko-fi link. This way we can keep the PayPal support!"}]},{version:"2.1.1",date:"Nov 3, 2021",entries:[{type:l.REMOVE,text:"Removed the HALLOWEEN SPECIAL feature. Maybe something like this will return some day?"},{type:l.ADD,text:"Added tooltip to the item icons in the detailed overview to show the name of the item."},{type:l.MODIFIED,text:"Fixed an issue where the list of exotics did not load at the first login."},{type:l.MODIFIED,text:"Saved configurations now contain the current software version for future reference."},{type:l.MODIFIED,text:"Minor code quality improvements"}]},{version:"2.1.0 (major)",date:"Oct 29, 2021",entries:[{type:l.REMOVE,text:"Completely removed V1 of the tool. If you had any problems with V2, you had over three months to report them."},{type:l.ADD,text:"The stat selection now displays which stat tiers are added by stat mods (PF/RL) or stasis fragments in the configuration."},{type:l.ADD,text:"You can now export (and import) individual configurations as well as all stored configurations at once."},{type:l.ADD,text:"Added a navigation bar to the title bar. On smaller screens it is replaced by two buttons in the character selection."},{type:l.ADD,text:"Added more details to the last step of the 'What to do now?' section. It now lists the fragments and mods you selected."},{type:l.MODIFIED,text:"Optimized code and reduced overall page size."}]},{version:"2.0.16",date:"Oct 26, 2021",entries:[{type:l.MODIFIED,text:"Completely rewrote the core logic in order to fix the memory issues. The tool will now no longer crash when you have many armor items, but it's slightly slower than the previous approach. I tested it with 600 items - it works and does not crash, but takes up to a minute. Make sure to never get that much armor and to lock an exotic right away."},{type:l.MODIFIED,text:"The rewrite also fixed the issue where the tool did not work in Safari, or more generally, on Mac and iPhone."},{type:l.MODIFIED,text:"The rewrite also fixed an issue where items could not be found when an result update was triggered while the inventory was updated."}]},{version:"2.0.15",date:"Oct 24, 2021",entries:[{type:l.MODIFIED,text:"Updated the visual display of the cluster page. It displays the stats in a better way now."},{type:l.MODIFIED,text:"Fixed an issue with login, where you were automatically logged in again and could not switch accounts."}]},{version:"2.0.14",date:"Oct 21, 2021",entries:[{type:l.MODIFIED,text:"Updated URLs to the mobility, resilience and recovery images, as Bungie decided to change their URLs in today's hotfix."}]},{version:"2.0.13",date:"Oct 20, 2021",entries:[{type:l.ADD,text:"Added a chart to the armor clustering page, showing each clusters average stats."},{type:l.MODIFIED,text:"Stats over 100 are now seen as wasted."}]},{version:"2.0.12",date:"Oct 18, 2021",entries:[{type:l.ADD,text:"Added an experimental armor clustering feature."}]},{version:"2.0.11",date:"Oct 13, 2021",entries:[{type:l.ADD,text:"HALLOWEEN SPECIAL! Added (temporary) filter for halloween masks! This will be removed after the event."},{type:l.MODIFIED,text:"Fix: Clear the results if you switch character and no possible permutations can be found."}]},{version:"2.0.10",date:"Oct 10, 2021",entries:[{type:l.ADD,text:"Added 'Equip Items' button to the detailed item overview."}]},{version:"2.0.9",date:"Oct 6, 2021",entries:[{type:l.ADD,text:"Added a detailed description of the steps required to build a selected result."},{type:l.ADD,text:"Added a button to disable all four armor pieces at once."},{type:l.MODIFIED,text:"Fixed an issue where the permutations were not updated after 'Ignore armor elemental affinities on masterworked armor' was changed."}]},{version:"2.0.8",date:"Oct 5, 2021",entries:[{type:l.ADD,text:"Added this changelog to the help page."},{type:l.ADD,text:"Added 'Move to Inventory' button (beta)."},{type:l.ADD,text:"Split up 'Assume items are masterworked' into three settings: Class Items, Legendaries, Exotics"},{type:l.MODIFIED,text:"'Try to optimize wasted stats' is now active per default."},{type:l.MODIFIED,text:"Introduced an item buffer in the results component to further reduce memory usage."}]}];let ie=(()=>{class n{constructor(e){this.changelog=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-changelog-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title","",1,"title"],[1,"mat-typography"],["align","end"],["cdkFocusInitial","","color","primary","mat-raised-button","",3,"mat-dialog-close"]],template:function(e,o){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"div"),t._uU(4," Hi! There has been a new version of D2ArmorPicker! The following list shows all the relevant changes. Note that you can always look at the changelogs in the Help tab. "),t.qZA(),t._UZ(5,"app-changelog-list"),t.qZA(),t.TgZ(6,"mat-dialog-actions",2)(7,"button",3),t._uU(8,"Thanks, I saw it!"),t.qZA()()),2&e&&(t.xp6(1),t.hij("D2ArmorPicker Changelog for Version ",o.changelog.changelogData[0].version,""),t.xp6(6),t.Q6J("mat-dialog-close",!0))},styles:[".title[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#0059ff}"]}),n})();var K=_(5412);let Yt=(()=>{class n{constructor(e){this.dialog=e}setChangelogSeenFlag(){return localStorage.setItem("last-changelog-version",this.changelogData[0].version)}get lastViewedChangelog(){return localStorage.getItem("last-changelog-version")}get mustShowChangelog(){return this.changelogData[0].version!==this.lastViewedChangelog}get changelogData(){return oe}openChangelogDialog(){this.dialog.open(ie).afterClosed().subscribe(o=>{this.setChangelogSeenFlag()})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(K.uw))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=_(6895),N=_(266),Ae=_(3162),X=_(7392),Et=_(6338),ae=_(3848),Te=_(3267);let yt=(()=>{class n{constructor(e,o){this.templateRef=e,this.vcRef=o,this.context={$implicit:null,ngVar:null},this.hasView=!1}set ngVar(e){this.context.$implicit=this.context.ngVar=e,this.hasView||(this.vcRef.createEmbeddedView(this.templateRef,this.context),this.hasView=!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc),t.Y36(t.s_b))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"}}),n})(),be=(()=>{class n{constructor(e){this.changelog=e}ngAfterViewInit(){this.changelog.mustShowChangelog&&this.changelog.openChangelogDialog()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-changelog-dialog-controller"]],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();function ve(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",29),t.NdJ("click",function(){t.CHM(e),t.oxw();const a=t.MAs(1);return t.KtG(a.toggle())}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=i.index,a=t.oxw();t.ekj("active",a.activeLinkIndex===o),t.Q6J("routerLink",e.link),t.xp6(1),t.hij(" ",e.name," ")}}function Ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e),t.oxw();const a=t.MAs(1);return t.KtG(a.toggle())}),t.TgZ(1,"mat-icon",3),t._uU(2,"menu"),t.qZA()()}}function ye(n,i){if(1&n&&(t.TgZ(0,"a",31),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=i.index,a=t.oxw();t.Q6J("active",a.activeLinkIndex===o)("routerLink",e.link),t.xp6(1),t.hij(" ",e.name," ")}}function Ze(n,i){1&n&&t._UZ(0,"mat-progress-bar",33)}function Fe(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Ze,1,0,"mat-progress-bar",32),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e.updatingResultsTable||e.calculatingResults||e.calculatingPermutations||e.updatingInventory||e.updatingManifest)}}function we(n,i){1&n&&(t.TgZ(0,"mat-card",35),t._uU(1," \u6b63\u5728\u66f4\u65b0\u6570\u636e\uff0c\u8bf7\u7a0d\u7b49... "),t._UZ(2,"br"),t._uU(3," \u5982\u679c\u7528\u65f6\u8fc7\u957f\uff0c\u8bf7\u6ce8\u9500\u540e\u91cd\u65b0\u767b\u5f55\u3002 "),t.qZA())}function De(n,i){1&n&&(t.TgZ(0,"mat-card",35),t._uU(1," \u6b63\u5728\u66f4\u65b0\u6570\u636e\uff0c\u8bf7\u7a0d\u7b49... "),t.qZA())}function Se(n,i){1&n&&(t.TgZ(0,"mat-card",35),t._uU(1," \u6b63\u5728\u66f4\u65b0\u62a4\u7532\u7ec4\u5408\uff0c\u8bf7\u7a0d\u7b49... "),t.qZA())}function Ie(n,i){1&n&&(t.TgZ(0,"mat-card",35),t._uU(1," \u6b63\u5728\u66f4\u65b0 Build \u5217\u8868\uff0c\u8bf7\u7a0d\u7b49... "),t.qZA())}function Oe(n,i){1&n&&(t.TgZ(0,"mat-card",35),t._uU(1," \u6b63\u5728\u83b7\u53d6 Build \u8be6\u60c5\uff0c\u8bf7\u7a0d\u7b49... "),t.qZA())}function Me(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,we,4,0,"mat-card",34),t.YNc(2,De,2,0,"mat-card",34),t.YNc(3,Se,2,0,"mat-card",34),t.YNc(4,Ie,2,0,"mat-card",34),t.YNc(5,Oe,2,0,"mat-card",34),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e.updatingManifest),t.xp6(1),t.Q6J("ngIf",e.updatingInventory),t.xp6(1),t.Q6J("ngIf",e.calculatingPermutations),t.xp6(1),t.Q6J("ngIf",e.calculatingResults),t.xp6(1),t.Q6J("ngIf",e.updatingResultsTable)}}let ke=(()=>{class n{constructor(e,o,a,s,c,p){this.status=e,this.breakpointObserver=o,this.inv=a,this.auth=s,this.router=c,this.changelog=p,this.version="2.4.0",this.activeLinkIndex=0,this.navLinks=[{link:"/",name:"\u9996\u9875"},{link:"/cluster",name:"\u96c6\u5408"},{link:"/help",name:"\u5e2e\u52a9"},{link:"/investigate",name:"\u62a4\u7532\u8c03\u67e5"},{link:"/account",name:"\u8d26\u53f7"}],this.isHandset$=this.breakpointObserver.observe([pt.u3.Handset,pt.u3.Small,pt.u3.XSmall]).pipe((0,Rt.U)(d=>d.matches),(0,Nt.d)())}ngOnInit(){this.activeLinkIndex=this.navLinks.indexOf(this.navLinks.find(e=>e.link===this.router.url)),this.router.events.subscribe(e=>{e instanceof I.m2&&(this.activeLinkIndex=this.navLinks.indexOf(this.navLinks.find(o=>o.link===this.router.url)))})}refreshAll(e){var o=this;return(0,m.Z)(function*(){console.debug("Trigger refreshAll due to button press"),yield o.inv.refreshAll(e)})()}logout(){this.auth.logout()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vt),t.Y36(pt.Yg),t.Y36(et),t.Y36(V),t.Y36(I.F0),t.Y36(Yt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-app-v2-core"]],decls:59,vars:16,consts:[["fixedInViewport","","mode","over",1,"sidenav",3,"opened"],["drawer",""],["aria-label","Toggle sidenav","mat-stroked-button","","type","button",3,"click"],["aria-label","Side nav toggle icon"],["mat-list-item","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["href","https://ko-fi.com/mijago","mat-list-item",""],["color","primary","mat-raised-button","","matTooltip","You like my work? This leads you to ko-fi.com, where you can easily support me!","target","_blank"],["inline",""],["mat-list-item","",3,"click"],["mat-raised-button",""],["id","header","role","heading"],["aria-label","Toggle sidenav","mat-icon-button","","type","button",3,"click",4,"ngIf"],["href","https://twitter.com/MijagoCoding/","matTooltip","Birb App","target","_blank"],["alt","Me on twitter","src","assets/logo-twitter.png",1,"logo-twitter"],["href","https://ko-fi.com/mijago","matTooltip","If you like my work, you can always buy me a coffee!","target","_blank"],["alt","Ko-Fi","src","assets/logo-kofi.png",1,"logo-twitter"],["href","http://discord.d2armorpicker.com/","matTooltip","Visit me at the development & support discord.","target","_blank"],["alt","Discord","src","assets/logo-discord.png",1,"logo-twitter"],[1,"header-spacer"],["fxHide.lt-md","true","fxShow","true"],["id","navbar","mat-tab-nav-bar",""],["mat-tab-link","",3,"active","routerLink",4,"ngFor","ngForOf"],["id","buttonContainer"],["fxShow","false","fxShow.gt-md","true","matTooltip","Click to show the changelog dialog.",1,"changelogText"],[3,"click"],["color","accent","fxHide.lt-md","true","fxShow","true","href","https://ko-fi.com/mijago","mat-stroked-button","","matTooltip","\u6253\u8d4f\u4f5c\u8005","target","_blank"],["aria-label","Refresh","mat-icon-button","","matTooltip","\u5237\u65b0",1,"example-icon",3,"click"],["aria-label","Logout","color","warn","mat-icon-button","","matTooltip","\u6ce8\u9500",1,"example-icon",3,"click"],[4,"ngVar"],["mat-list-item","",3,"routerLink","click"],["aria-label","Toggle sidenav","mat-icon-button","","type","button",3,"click"],["mat-tab-link","",3,"active","routerLink"],["id","loading","mode","indeterminate",4,"ngIf"],["id","loading","mode","indeterminate"],["class","info",4,"ngIf"],[1,"info"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"mat-sidenav",0,1),t.ALo(2,"async"),t.TgZ(3,"mat-toolbar")(4,"button",2),t.NdJ("click",function(){t.CHM(a);const c=t.MAs(1);return t.KtG(c.toggle())}),t.TgZ(5,"mat-icon",3),t._uU(6,"menu"),t.qZA(),t._uU(7," \u5173\u95ed\u83dc\u5355 "),t.qZA()(),t._UZ(8,"hr"),t.TgZ(9,"mat-nav-list"),t.YNc(10,ve,2,4,"a",4),t._UZ(11,"hr"),t.TgZ(12,"a",5)(13,"a",6)(14,"mat-icon",7),t._uU(15,"attach_money"),t.qZA(),t._uU(16," \u6253\u8d4f "),t.qZA()(),t.TgZ(17,"a",8),t.NdJ("click",function(){return o.changelog.openChangelogDialog()}),t.TgZ(18,"a",9),t._uU(19,"\u6253\u5f00\u66f4\u65b0\u8bb0\u5f55"),t.qZA()(),t._UZ(20,"hr"),t.qZA()(),t.TgZ(21,"mat-toolbar",10),t.YNc(22,Ee,3,0,"button",11),t.ALo(23,"async"),t.TgZ(24,"span"),t._uU(25,"D2ArmorPicker "),t.TgZ(26,"small"),t._uU(27," by Mijago"),t.qZA(),t.TgZ(28,"a",12),t._UZ(29,"img",13),t.qZA(),t.TgZ(30,"a",14),t._UZ(31,"img",15),t.qZA(),t.TgZ(32,"a",16),t._UZ(33,"img",17),t.qZA()(),t._UZ(34,"span",18),t.TgZ(35,"div",19)(36,"nav",20),t.YNc(37,ye,2,3,"a",21),t.qZA()(),t._UZ(38,"span",18),t.TgZ(39,"div",22)(40,"span",23)(41,"a",24),t.NdJ("click",function(){return o.changelog.openChangelogDialog()}),t._uU(42),t.qZA()(),t.TgZ(43,"a",25)(44,"mat-icon",7),t._uU(45,"attach_money"),t.qZA(),t._uU(46," \u6253\u8d4f "),t.qZA(),t.TgZ(47,"button",26),t.NdJ("click",function(){return o.refreshAll(!0)}),t.TgZ(48,"mat-icon"),t._uU(49,"refresh"),t.qZA()(),t.TgZ(50,"button",27),t.NdJ("click",function(){return o.logout()}),t.TgZ(51,"mat-icon"),t._uU(52,"logout"),t.qZA()()()(),t._UZ(53,"router-outlet"),t.YNc(54,Fe,2,1,"span",28),t.ALo(55,"async"),t.YNc(56,Me,6,5,"span",28),t.ALo(57,"async"),t._UZ(58,"app-changelog-dialog-controller")}2&e&&(t.Q6J("opened",!1),t.uIk("role",t.lcZ(2,8,o.isHandset$)?"dialog":"navigation"),t.xp6(10),t.Q6J("ngForOf",o.navLinks),t.xp6(12),t.Q6J("ngIf",t.lcZ(23,10,o.isHandset$)),t.xp6(15),t.Q6J("ngForOf",o.navLinks),t.xp6(5),t.hij("v",o.version,"\xa0"),t.xp6(12),t.Q6J("ngVar",t.lcZ(55,12,o.status.status)),t.xp6(2),t.Q6J("ngVar",t.lcZ(57,14,o.status.status)))},dependencies:[T.sg,T.O5,j.b8,B.lW,B.zs,Z.a8,N.gM,Ae.pW,X.Hw,z.Ye,Et.Hk,Et.Tg,ae.BU,ae.Nj,Te.JX,I.lC,I.yS,yt,be,T.Ov],styles:[".loading[_ngcontent-%COMP%]{cursor:progress}.info[_ngcontent-%COMP%]{z-index:1000;position:fixed;width:200px;left:50%;top:50px;transform:translate(-50%);border:antiquewhite 1px solid}.sidenav-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;z-index:20}.sidenav[_ngcontent-%COMP%]{width:200px;position:fixed;top:0;left:0;height:100%;z-index:20}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.sidenav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#ffffff12;color:#b8c4dc}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}#header[_ngcontent-%COMP%]{position:relative;height:42px;margin-bottom:5px}#header[_ngcontent-%COMP%]   .header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.changelogText[_ngcontent-%COMP%]{cursor:pointer}#loading[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000}.d2ap-router-link[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .mat-tab-link{min-width:75px;opacity:1}"]}),n})();var F=_(2143),se=_(8739),jt=_(6308),q=_(7340),nt=_(8929),J=_(7625);function Be(n,i){1&n&&(t.ynx(0),t._uU(1," \u5355\u51fb\u4e00\u884c\u5c06\u5176\u5c55\u5f00\u6765\u67e5\u770b Build \u6240\u9700\u7684\u62a4\u7532\u5217\u8868"),t._UZ(2,"br"),t.BQk())}function Ue(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",53),t._UZ(2,"img",54),t._uU(3,"\xa0 "),t.qZA(),t.TgZ(4,"span",55)(5,"b"),t._uU(6,"\u672a\u627e\u5230\u7ec4\u5408"),t.qZA()(),t._uU(7," \u4f60\u5e94\u8be5\u628a\u516d\u7ef4\u8981\u6c42\u6539\u7684\u5bbd\u677e\u4e00\u70b9 "),t.BQk())}function Pe(n,i){if(1&n&&(t.TgZ(0,"mat-icon",56,57),t.ALo(2,"number"),t._uU(3," report_problem "),t.qZA()),2&n){const e=t.oxw();t.MGl("matTooltip","\u6ce8\u610f\uff1a\u4e3a\u52a0\u5feb\u6574\u4e2a\u8fc7\u7a0b\uff0c\u6b64\u8868\u4e2d\u4ec5\u5217\u51fa\u4e86 ",t.lcZ(2,1,e.parsedResults)," \u4e2a\u7ed3\u679c\u3002\n            \u5982\u679c\u60a8\u9700\u8981\u66f4\u591a\u6761\u76ee\uff0c\u8bf7\u5728\u9ad8\u7ea7\u8bbe\u7f6e\u4e2d\u7981\u7528\u8be5\u9650\u5236\u3002")}}function Re(n,i){if(1&n&&(t.TgZ(0,"mat-icon",56,57),t.ALo(2,"number"),t._uU(3," report_problem "),t.qZA()),2&n){const e=t.oxw();t.MGl("matTooltip","\u6ce8\u610f\uff1a\u4e3a\u9632\u6b62\u5185\u5b58\u4e0d\u8db3\u5d29\u6e83\uff0c\u6b64\u8868\u4e2d\u4ec5\u5217\u51fa\u4e86 ",t.lcZ(2,1,e.parsedResults)," \u4e2a\u7ed3\u679c\uff0c\u4f60\u5e94\u8be5\u7f29\u5c0f\u4f60\u7684\u8bbe\u7f6e\u8303\u56f4\u3002")}}function Ne(n,i){1&n&&(t.TgZ(0,"mat-chip",58,57),t._uU(2,"\u4e0d\u4f7f\u7528\u5f02\u57df\u62a4\u7532 "),t.qZA())}function qe(n,i){1&n&&(t.TgZ(0,"mat-chip",59,57),t._uU(2,"\u5f02\u57df\u62a4\u7532 "),t.qZA())}function Je(n,i){1&n&&(t.TgZ(0,"mat-chip",60,57),t._uU(2," \u591a\u4ef6\u5f02\u57df\u62a4\u7532 "),t.qZA())}function Le(n,i){1&n&&(t.TgZ(0,"mat-chip",61,57),t._uU(2,"\u4e0d\u4f7f\u7528\u5c5e\u6027\u6a21\u7ec4 "),t.qZA())}function Ye(n,i){1&n&&(t.TgZ(0,"mat-chip",62,57),t._uU(2,"\u51cf\u5c11\u5c5e\u6027\u6d6a\u8d39 "),t.qZA())}function Qe(n,i){1&n&&(t.TgZ(0,"mat-chip",63,57),t._uU(2,"\u5c5e\u6027\u6a21\u7ec4\u9650\u5236 "),t.qZA())}function Ve(n,i){1&n&&(t.TgZ(0,"mat-chip",64,57),t._uU(2," \u7279\u6b8a\u62a4\u7532 "),t.qZA())}function He(n,i){1&n&&(t.TgZ(0,"mat-chip",65,57),t._uU(2,"\u96f6\u6d6a\u8d39 "),t.qZA())}function We(n,i){1&n&&(t.TgZ(0,"mat-chip",66,57)(2,"mat-icon",67),t._uU(3,"report_problem"),t.qZA(),t._uU(4," \xa0\u5047\u8bbe\u90fd\u662f\u8be1\u8ba1\u62a4\u7532\xa0 "),t.TgZ(5,"mat-icon",67),t._uU(6,"report_problem"),t.qZA()())}function je(n,i){1&n&&(t.TgZ(0,"mat-chip",68,57),t._uU(2," \u4ec5\u5927\u5e08\u6770\u4f5c "),t.qZA())}function ze(n,i){1&n&&(t.TgZ(0,"mat-chip",69,57),t._uU(2," \u5047\u8bbe\u90fd\u662f\u5927\u5e08\u6770\u4f5c\u62a4\u7532 "),t.qZA())}function Ge(n,i){1&n&&(t.TgZ(0,"th",70),t._uU(1,"\u654f\u6377 "),t.qZA())}function Ke(n,i){if(1&n&&(t.TgZ(0,"td",71),t._uU(1),t._UZ(2,"img",72),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.stats[o.ArmorStat.Mobility]," ")}}function Xe(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," \u97e7\u6027 "),t.qZA())}function $e(n,i){if(1&n&&(t.TgZ(0,"td",71),t._uU(1),t._UZ(2,"img",74),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.stats[o.ArmorStat.Resilience]," ")}}function tn(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," \u6062\u590d "),t.qZA())}function en(n,i){if(1&n&&(t.TgZ(0,"td",71),t._uU(1),t._UZ(2,"img",76),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.stats[o.ArmorStat.Recovery]," ")}}function nn(n,i){1&n&&(t.TgZ(0,"th",77),t._uU(1," \u7eaa\u5f8b "),t.qZA())}function on(n,i){if(1&n&&(t.TgZ(0,"td",71),t._uU(1),t._UZ(2,"img",78),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.stats[o.ArmorStat.Discipline]," ")}}function an(n,i){1&n&&(t.TgZ(0,"th",79),t._uU(1," \u667a\u6167 "),t.qZA())}function sn(n,i){if(1&n&&(t.TgZ(0,"td",71),t._uU(1),t._UZ(2,"img",80),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.stats[o.ArmorStat.Intellect]," ")}}function rn(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1,"\u529b\u91cf "),t.qZA())}function un(n,i){if(1&n&&(t.TgZ(0,"td",71),t._uU(1),t._UZ(2,"img",82),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij("",e.stats[o.ArmorStat.Strength]," ")}}function cn(n,i){1&n&&(t.TgZ(0,"th",83),t._uU(1," \u4f7f\u7528\u7684\u6a21\u7ec4 "),t.qZA())}function ln(n,i){if(1&n&&(t.TgZ(0,"td",84),t._UZ(1,"app-table-mod-display",85),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("mods",e.mods)("artifice",e.artifice)}}function mn(n,i){1&n&&(t.TgZ(0,"th",86),t._uU(1,"\u5f02\u57df\u62a4\u7532"),t.qZA())}function pn(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",89,57)(3,"img",90),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("matTooltip",e.name),t.MGl("src","https://bungie.net/",e.icon,"",t.LSH),t.xp6(2),t.MGl("src","https://bungie.net/",e.watermark,"",t.LSH)}}function dn(n,i){1&n&&t._UZ(0,"img",91)}function gn(n,i){if(1&n&&(t.TgZ(0,"td",84),t.YNc(1,pn,4,3,"ng-container",87),t.YNc(2,dn,1,0,"img",88),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e.exotic),t.xp6(1),t.Q6J("ngIf",0===e.exotic.length)}}function _n(n,i){1&n&&t._UZ(0,"th",86)}function fn(n,i){1&n&&(t.TgZ(0,"mat-icon",95),t._uU(1," expand_more "),t.qZA())}function hn(n,i){1&n&&(t.TgZ(0,"mat-icon",96),t._uU(1," expand_less "),t.qZA())}function Cn(n,i){1&n&&(t.TgZ(0,"mat-icon",97,57),t._uU(2," report_problem "),t.qZA())}function xn(n,i){if(1&n&&(t.TgZ(0,"td",84),t.YNc(1,fn,2,0,"mat-icon",92),t.YNc(2,hn,2,0,"mat-icon",93),t.YNc(3,Cn,3,0,"mat-icon",94),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.expandedElement!==e),t.xp6(1),t.Q6J("ngIf",o.expandedElement===e),t.xp6(1),t.Q6J("ngIf",o.checkIfAnyItemsMayBeInvalid(e))}}function An(n,i){1&n&&(t.TgZ(0,"th",98),t._uU(1,"Tiers "),t.qZA())}function Tn(n,i){if(1&n&&(t.TgZ(0,"td",84),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.tiers," ")}}function bn(n,i){1&n&&(t.TgZ(0,"th",99),t._uU(1,"\u6700\u9ad8\u7b49\u7ea7 "),t.qZA())}function vn(n,i){if(1&n&&(t.TgZ(0,"td",84),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.tiers+(5-e.modCount)," ")}}function En(n,i){1&n&&(t.TgZ(0,"th",100),t._uU(1,"Wasted "),t.qZA())}function yn(n,i){if(1&n&&(t.TgZ(0,"td",84),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.waste," ")}}function Zn(n,i){if(1&n&&(t.TgZ(0,"td",84)(1,"div",101),t._UZ(2,"app-expanded-result-content",102),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw();t.uIk("colspan",o.shownColumns.length),t.xp6(1),t.Q6J("@detailExpand",e===o.expandedElement?"expanded":"collapsed"),t.xp6(1),t.Q6J("element",e)}}function Fn(n,i){1&n&&t._UZ(0,"tr",103)}function wn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",104),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.expandedElement=c.expandedElement===s?null:s)}),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw();t.ekj("example-expanded-row",o.expandedElement===e)}}function Dn(n,i){1&n&&t._UZ(0,"tr",105)}function Sn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card-actions"),t._UZ(1,"span",106),t.TgZ(2,"button",107),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveBuilds())}),t._uU(3,"\u4ee5 JSON \u683c\u5f0f\u4e0b\u8f7d"),t.qZA()()}}const In=function(){return["expandedDetail"]},On=function(){return[10,20,50]};var xt=(()=>{return(n=xt||(xt={}))[n.TRANSFER_NONE=0]="TRANSFER_NONE",n[n.WAITING_FOR_TRANSFER=1]="WAITING_FOR_TRANSFER",n[n.TRANSFERRING=2]="TRANSFERRING",n[n.TRANSFERRED=3]="TRANSFERRED",n[n.ERROR_DURING_TRANSFER=4]="ERROR_DURING_TRANSFER",xt;var n})();let re=(()=>{class n{constructor(e,o,a,s,c){this.inventory=e,this.db=o,this.bungieApi=a,this.config=s,this.status=c,this.ArmorStat=r.WB,this.StatModifier=r.iV,this._results=[],this._config_assumeLegendariesMasterworked=!1,this._config_assumeExoticsMasterworked=!1,this._config_assumeClassItemMasterworked=!1,this._config_enabledMods=[],this._config_limitParsedResults=!1,this._config_maximumStatMods=5,this._config_selectedExotics=[],this._config_tryLimitWastedStats=!1,this._config_onlyUseMasterworkedItems=!1,this._config_onlyShowResultsWithNoWastedStats=!1,this._config_assumeEveryLegendaryIsArtifice=!1,this._config_modslotLimitation=[],this._config_armorPerkLimitation=[],this.tableDataSource=new F.by,this.paginator=null,this.sort=null,this.expandedElement=null,this.shownColumns=["exotic","mobility","resilience","recovery","discipline","intellect","strength","tiers","mods","dropdown"],this.selectedClass=u.None,this.totalTime=0,this.itemCount=0,this.totalResults=0,this.parsedResults=0,this.ngUnsubscribe=new nt.xQ}ngOnInit(){var e=this;this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(o=>{this.selectedClass=o.characterClass,this._config_assumeLegendariesMasterworked=o.assumeLegendariesMasterworked,this._config_assumeExoticsMasterworked=o.assumeExoticsMasterworked,this._config_assumeClassItemMasterworked=o.assumeClassItemMasterworked,this._config_tryLimitWastedStats=o.tryLimitWastedStats,this._config_enabledMods=o.enabledMods||[],this._config_limitParsedResults=o.limitParsedResults,this._config_maximumStatMods=o.maximumStatMods,this._config_onlyUseMasterworkedItems=o.onlyUseMasterworkedItems,this._config_onlyShowResultsWithNoWastedStats=o.onlyShowResultsWithNoWastedStats,this._config_assumeEveryLegendaryIsArtifice=o.assumeEveryLegendaryIsArtifice,this._config_selectedExotics=o.selectedExotics,this._config_armorPerkLimitation=Object.entries(o.armorPerks).filter(s=>s[1].value!=r.Pn.None).map(s=>s[1]),this._config_modslotLimitation=Object.entries(o.maximumModSlots).filter(s=>s[1].value<5).map(s=>s[1]);let a=["exotic","mobility","resilience","recovery","discipline","intellect","strength",o.showPotentialTierColumn?"potential_tiers":"tiers","mods"];o.showWastedStatsColumn&&a.push("waste"),a.push("dropdown"),this.shownColumns=a}),this.inventory.armorResults.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(function(){var o=(0,m.Z)(function*(a){e._results=a.results,e.itemCount=a.itemCount,e.totalTime=a.totalTime,e.totalResults=a.totalResults,e.parsedResults=e._results.length,e.status.modifyStatus(s=>s.updatingResultsTable=!0),yield e.updateData(),e.status.modifyStatus(s=>s.updatingResultsTable=!1)});return function(a){return o.apply(this,arguments)}}()),this.tableDataSource.paginator=this.paginator,this.tableDataSource.sort=this.sort,this.tableDataSource.sortingDataAccessor=(o,a)=>{switch(a){case"Mobility":return o.stats[r.WB.Mobility];case"Resilience":return o.stats[r.WB.Resilience];case"Recovery":return o.stats[r.WB.Recovery];case"Discipline":return o.stats[r.WB.Discipline];case"Intellect":return o.stats[r.WB.Intellect];case"Strength":return o.stats[r.WB.Strength];case"Tiers":return o.tiers;case"Max Tiers":return 10*(o.tiers+(5-o.modCount));case"Waste":return o.waste;case"Mods":return 100*o.modCount+o.modCost}return 0}}updateData(){var e=this;return(0,m.Z)(function*(){console.time("Update Table Data"),e.tableDataSource.paginator=e.paginator,e.tableDataSource.sort=e.sort,e.tableDataSource.data=e._results,console.timeEnd("Update Table Data")})()}checkIfAnyItemsMayBeInvalid(e){return(e?.items.filter(o=>o.filter(a=>a.mayBeBugged).length>0).length||0)>0}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}saveBuilds(){let e={configCompressed:this.config.getCurrentConfigBase64Compressed(),config:this.config.readonlyConfigurationSnapshot,results:this._results.map(c=>{let p=Object.assign({},c);return p.items=p.items.map(d=>({hash:d[0].hash,instance:d[0].itemInstanceId})),delete p.exotic,p})};document.createElement("a").download="builds.json";const a=window.URL.createObjectURL(new Blob([JSON.stringify(e,null,2)])),s=document.createElement("a");s.href=a,s.setAttribute("download","d2ap_results.json"),document.body.appendChild(s),s.click()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et),t.Y36(rt),t.Y36(Lt),t.Y36(H),t.Y36(vt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-results"]],viewQuery:function(e,o){if(1&e&&(t.Gf(se.NW,5),t.Gf(jt.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first)}},decls:90,vars:32,consts:[["id","card-results"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","5px",1,"config-summary-box"],["appearance","outline","fxFlex","",1,"info-box"],["matInput","","readonly","",3,"value"],["class","report-problem-icon","matSuffix","",3,"matTooltip",4,"ngIf"],["appearance","outline","disabled","",1,"config-summary-box"],["matInput","","readonly","","value","\xa0",1,"hidden-input"],["aria-label","Configuration Summary"],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u5f3a\u5236\u5ffd\u7565\u5f02\u57df\u62a4\u7532",4,"ngIf"],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u5f3a\u5236\u4f7f\u7528\u7279\u5b9a\u7684\u5f02\u57df\u62a4\u7532",4,"ngIf"],["disableRipple","","matTooltip","The tool will try to fulfill your settings for all the selected exotics. If you select exotics in different slots then it will search for legendary items to allow hotswapping with the same stats.",4,"ngIf"],["disableRipple","","matTooltip","\u4e0d\u81ea\u52a8\u6dfb\u52a0\u5c5e\u6027\u6a21\u7ec4",4,"ngIf"],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u5c06\u4f7f\u7528\u51cf\u5c11\u5c5e\u6027\u6d6a\u8d39",4,"ngIf"],["disableRipple","","matTooltip","This setting limits available stat mod types, like major Intellect or Recovery.",4,"ngIf"],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u4f1a\u7b5b\u9009\u51fa\u62e5\u6709\u7279\u5b9a\u63d2\u69fd\u6216 perk \u7684\u62a4\u7532",4,"ngIf"],["disableRipple","","matTooltip","\u4ec5\u5c55\u793a\u96f6\u6d6a\u8d39\u7684\u7ec4\u5408","selected","",4,"ngIf"],["disableRipple","","matTooltip","\u5047\u8bbe\u90fd\u662f\u8be1\u8ba1\u62a4\u7532","selected","","color","warn",4,"ngIf"],["disableRipple","","matTooltip","\u4ec5\u4f7f\u7528\u5927\u5e08\u6770\u4f5c\u62a4\u7532","selected","",4,"ngIf"],["disableRipple","","matTooltip","\u67e5\u770b\u9ad8\u7ea7\u8bbe\u7f6e\u4ee5\u4e86\u89e3\u542f\u7528\u4e86\u54ea\u4e9b\u5927\u5e08\u6770\u4f5c\u62a4\u7532",4,"ngIf"],[1,"hint-text"],["aria-hidden","false","inline",""],["mat-table","","matSort","","matSortActive","Mods","matSortDirection","asc","multiTemplateDataRows","",1,"result-table",3,"dataSource"],["matColumnDef","mobility"],["mat-header-cell","","mat-sort-header","Mobility",4,"matHeaderCellDef"],["class","statColumn","mat-cell","",4,"matCellDef"],["matColumnDef","resilience"],["mat-header-cell","","mat-sort-header","Resilience",4,"matHeaderCellDef"],["matColumnDef","recovery"],["mat-header-cell","","mat-sort-header","Recovery",4,"matHeaderCellDef"],["matColumnDef","discipline"],["mat-header-cell","","mat-sort-header","Discipline",4,"matHeaderCellDef"],["matColumnDef","intellect"],["mat-header-cell","","mat-sort-header","Intellect",4,"matHeaderCellDef"],["matColumnDef","strength"],["mat-header-cell","","mat-sort-header","Strength",4,"matHeaderCellDef"],["matColumnDef","mods"],["mat-header-cell","","mat-sort-header","Mods","matTooltip","\u6bcf\u79cd\u7ec4\u5408\u6240\u9700\u7684\u6a21\u7ec4\u6570\u91cf",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","exotic"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","dropdown"],["matColumnDef","tiers"],["mat-header-cell","","mat-sort-header","Tiers","matTooltip","\u6b64 build \u4e2d\u7684\u7b49\u7ea7\uff0c10 \u70b9\u4e3a\u4e00\u7ea7",4,"matHeaderCellDef"],["matColumnDef","potential_tiers"],["mat-header-cell","","mat-sort-header","Max Tiers","matTooltip","\u4f7f\u7528 N \u4e2a\u6a21\u7ec4\u53ef\u4ee5\u8fbe\u5230\u7684\u6700\u9ad8\u7b49\u7ea7\uff0c\u76ee\u524d\u6a21\u7ec4\u8fc7\u6ee4\u6682\u672a\u7eb3\u5165\u8003\u91cf",4,"matHeaderCellDef"],["matColumnDef","waste"],["mat-header-cell","","mat-sort-header","Waste","matTooltip","How many points are wasted. Any stat not ending in 0 adds to this value.",4,"matHeaderCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["class","example-element-row","mat-row","",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["class","example-detail-row","mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of periodic elements","pageSize","20","showFirstLastButtons","",3,"pageSizeOptions"],[1,"no-found-sadcat-container"],["src","assets/status/emoji/sadcat.png",1,"no-found-sadcat"],[1,"warning-none-found"],["matSuffix","",1,"report-problem-icon",3,"matTooltip"],["tooltip","matTooltip"],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u5f3a\u5236\u5ffd\u7565\u5f02\u57df\u62a4\u7532"],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u5f3a\u5236\u4f7f\u7528\u7279\u5b9a\u7684\u5f02\u57df\u62a4\u7532"],["disableRipple","","matTooltip","The tool will try to fulfill your settings for all the selected exotics. If you select exotics in different slots then it will search for legendary items to allow hotswapping with the same stats."],["disableRipple","","matTooltip","\u4e0d\u81ea\u52a8\u6dfb\u52a0\u5c5e\u6027\u6a21\u7ec4"],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u5c06\u4f7f\u7528\u51cf\u5c11\u5c5e\u6027\u6d6a\u8d39"],["disableRipple","","matTooltip","This setting limits available stat mod types, like major Intellect or Recovery."],["disableRipple","","matTooltip","\u6b64\u8bbe\u7f6e\u4f1a\u7b5b\u9009\u51fa\u62e5\u6709\u7279\u5b9a\u63d2\u69fd\u6216 perk \u7684\u62a4\u7532"],["disableRipple","","matTooltip","\u4ec5\u5c55\u793a\u96f6\u6d6a\u8d39\u7684\u7ec4\u5408","selected",""],["disableRipple","","matTooltip","\u5047\u8bbe\u90fd\u662f\u8be1\u8ba1\u62a4\u7532","selected","","color","warn"],["inline","",2,"height","100%"],["disableRipple","","matTooltip","\u4ec5\u4f7f\u7528\u5927\u5e08\u6770\u4f5c\u62a4\u7532","selected",""],["disableRipple","","matTooltip","\u67e5\u770b\u9ad8\u7ea7\u8bbe\u7f6e\u4ee5\u4e86\u89e3\u542f\u7528\u4e86\u54ea\u4e9b\u5927\u5e08\u6770\u4f5c\u62a4\u7532"],["mat-header-cell","","mat-sort-header","Mobility"],["mat-cell","",1,"statColumn"],["alt","Mobility","src","https://www.bungie.net/common/destiny2_content/icons/e26e0e93a9daf4fdd21bf64eb9246340.png",1,"statIcon"],["mat-header-cell","","mat-sort-header","Resilience"],["alt","Resilience","src","https://www.bungie.net/common/destiny2_content/icons/202ecc1c6febeb6b97dafc856e863140.png",1,"statIcon"],["mat-header-cell","","mat-sort-header","Recovery"],["alt","Recovery","src","https://www.bungie.net/common/destiny2_content/icons/128eee4ee7fc127851ab32eac6ca91cf.png",1,"statIcon"],["mat-header-cell","","mat-sort-header","Discipline"],["alt","Discipline","src","https://www.bungie.net/common/destiny2_content/icons/79be2d4adef6a19203f7385e5c63b45b.png",1,"statIcon"],["mat-header-cell","","mat-sort-header","Intellect"],["alt","Intellect","src","https://www.bungie.net/common/destiny2_content/icons/d1c154469670e9a592c9d4cbdcae5764.png",1,"statIcon"],["mat-header-cell","","mat-sort-header","Strength"],["alt","Strength","src","https://www.bungie.net/common/destiny2_content/icons/ea5af04ccd6a3470a44fd7bb0f66e2f7.png",1,"statIcon"],["mat-header-cell","","mat-sort-header","Mods","matTooltip","\u6bcf\u79cd\u7ec4\u5408\u6240\u9700\u7684\u6a21\u7ec4\u6570\u91cf"],["mat-cell",""],[1,"modPreview",3,"mods","artifice"],["mat-header-cell",""],[4,"ngFor","ngForOf"],["class","itemIcon","src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png",4,"ngIf"],[1,"itemIcon",3,"matTooltip","src"],[1,"itemIconWatermark",3,"src"],["src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png",1,"itemIcon"],["matTooltip","\u70b9\u51fb\u5c55\u5f00 Build \u8be6\u60c5",4,"ngIf"],["matTooltip","\u70b9\u51fb\u6536\u8d77 Build \u8be6\u60c5",4,"ngIf"],["aria-hidden","false","aria-label","Error","class","report-problem-icon","inline","","matTooltip","Build \u7684\u5c5e\u6027\u53ef\u80fd\u4e0d\u51c6\u786e\uff0c\u786e\u4fdd\u4f60\u5df2\u79fb\u9664\u6807\u8bb0\u62a4\u7532\u4e0a\u5f71\u54cd\u5c5e\u6027\u7684\u6a21\u7ec4",4,"ngIf"],["matTooltip","\u70b9\u51fb\u5c55\u5f00 Build \u8be6\u60c5"],["matTooltip","\u70b9\u51fb\u6536\u8d77 Build \u8be6\u60c5"],["aria-hidden","false","aria-label","Error","inline","","matTooltip","Build \u7684\u5c5e\u6027\u53ef\u80fd\u4e0d\u51c6\u786e\uff0c\u786e\u4fdd\u4f60\u5df2\u79fb\u9664\u6807\u8bb0\u62a4\u7532\u4e0a\u5f71\u54cd\u5c5e\u6027\u7684\u6a21\u7ec4",1,"report-problem-icon"],["mat-header-cell","","mat-sort-header","Tiers","matTooltip","\u6b64 build \u4e2d\u7684\u7b49\u7ea7\uff0c10 \u70b9\u4e3a\u4e00\u7ea7"],["mat-header-cell","","mat-sort-header","Max Tiers","matTooltip","\u4f7f\u7528 N \u4e2a\u6a21\u7ec4\u53ef\u4ee5\u8fbe\u5230\u7684\u6700\u9ad8\u7b49\u7ea7\uff0c\u76ee\u524d\u6a21\u7ec4\u8fc7\u6ee4\u6682\u672a\u7eb3\u5165\u8003\u91cf"],["mat-header-cell","","mat-sort-header","Waste","matTooltip","How many points are wasted. Any stat not ending in 0 adds to this value."],[1,"example-element-detail"],[3,"element"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"],[1,"flex-spacer"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title"),t._uU(2,"\u7ed3\u679c"),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t.YNc(4,Be,3,0,"ng-container",1),t.YNc(5,Ue,8,0,"ng-container",1),t.qZA(),t.TgZ(6,"mat-card-content")(7,"div")(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"\u4f7f\u7528\u5230\u7684\u62a4\u7532"),t.qZA(),t._UZ(12,"input",4),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"mat-form-field",3)(15,"mat-label"),t._uU(16,"\u751f\u6210\u7684\u7ec4\u5408\u6570"),t.qZA(),t._UZ(17,"input",4),t.ALo(18,"number"),t.YNc(19,Pe,4,3,"mat-icon",5),t.YNc(20,Re,4,3,"mat-icon",5),t.qZA(),t.TgZ(21,"mat-form-field",3)(22,"mat-label"),t._uU(23,"\u7528\u65f6"),t.qZA(),t._UZ(24,"input",4),t.ALo(25,"number"),t.qZA()(),t.TgZ(26,"mat-form-field",6)(27,"mat-label"),t._uU(28,"\u5df2\u542f\u7528\u7684\u9ad8\u7ea7\u8bbe\u7f6e"),t.qZA(),t._UZ(29,"input",7),t.TgZ(30,"mat-chip-list",8),t.YNc(31,Ne,3,0,"mat-chip",9),t.YNc(32,qe,3,0,"mat-chip",10),t.YNc(33,Je,3,0,"mat-chip",11),t.YNc(34,Le,3,0,"mat-chip",12),t.YNc(35,Ye,3,0,"mat-chip",13),t.YNc(36,Qe,3,0,"mat-chip",14),t.YNc(37,Ve,3,0,"mat-chip",15),t.YNc(38,He,3,0,"mat-chip",16),t.YNc(39,We,7,0,"mat-chip",17),t.YNc(40,je,3,0,"mat-chip",18),t.YNc(41,ze,3,0,"mat-chip",19),t.qZA()(),t.TgZ(42,"div",20)(43,"mat-icon",21),t._uU(44,"info"),t.qZA(),t._uU(45," \u4f60\u53ef\u4ee5\u901a\u8fc7\u5355\u51fb\u6807\u9898\u6765\u66f4\u6539\u8868\u683c\u7684\u6392\u5e8f "),t.qZA(),t.TgZ(46,"table",22),t.ynx(47,23),t.YNc(48,Ge,2,0,"th",24),t.YNc(49,Ke,3,1,"td",25),t.BQk(),t.ynx(50,26),t.YNc(51,Xe,2,0,"th",27),t.YNc(52,$e,3,1,"td",25),t.BQk(),t.ynx(53,28),t.YNc(54,tn,2,0,"th",29),t.YNc(55,en,3,1,"td",25),t.BQk(),t.ynx(56,30),t.YNc(57,nn,2,0,"th",31),t.YNc(58,on,3,1,"td",25),t.BQk(),t.ynx(59,32),t.YNc(60,an,2,0,"th",33),t.YNc(61,sn,3,1,"td",25),t.BQk(),t.ynx(62,34),t.YNc(63,rn,2,0,"th",35),t.YNc(64,un,3,1,"td",25),t.BQk(),t.ynx(65,36),t.YNc(66,cn,2,0,"th",37),t.YNc(67,ln,2,2,"td",38),t.BQk(),t.ynx(68,39),t.YNc(69,mn,2,0,"th",40),t.YNc(70,gn,3,2,"td",38),t.BQk(),t.ynx(71,41),t.YNc(72,_n,1,0,"th",40),t.YNc(73,xn,4,3,"td",38),t.BQk(),t.ynx(74,42),t.YNc(75,An,2,0,"th",43),t.YNc(76,Tn,2,1,"td",38),t.BQk(),t.ynx(77,44),t.YNc(78,bn,2,0,"th",45),t.YNc(79,vn,2,1,"td",38),t.BQk(),t.ynx(80,46),t.YNc(81,En,2,0,"th",47),t.YNc(82,yn,2,1,"td",38),t.BQk(),t.ynx(83,48),t.YNc(84,Zn,3,3,"td",38),t.BQk(),t.YNc(85,Fn,1,0,"tr",49),t.YNc(86,wn,1,2,"tr",50),t.YNc(87,Dn,1,0,"tr",51),t.qZA(),t._UZ(88,"mat-paginator",52),t.qZA()(),t.YNc(89,Sn,4,0,"mat-card-actions",1),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",o.totalResults>0),t.xp6(1),t.Q6J("ngIf",0===o.totalResults),t.xp6(7),t.s9C("value",t.lcZ(13,24,o.itemCount)),t.xp6(5),t.s9C("value",t.lcZ(18,26,o.totalResults)),t.xp6(2),t.Q6J("ngIf",o.parsedResults!==o.totalResults&&5e4===o.parsedResults),t.xp6(1),t.Q6J("ngIf",o.parsedResults!==o.totalResults&&1e6===o.parsedResults),t.xp6(4),t.MGl("value","",t.lcZ(25,28,o.totalTime),"ms"),t.xp6(7),t.Q6J("ngIf",o._config_selectedExotics.indexOf(-1)>-1),t.xp6(1),t.Q6J("ngIf",1===o._config_selectedExotics.length&&-1===o._config_selectedExotics.indexOf(-1)),t.xp6(1),t.Q6J("ngIf",o._config_selectedExotics.length>1&&-1===o._config_selectedExotics.indexOf(-1)),t.xp6(1),t.Q6J("ngIf",0===o._config_maximumStatMods),t.xp6(1),t.Q6J("ngIf",o._config_tryLimitWastedStats),t.xp6(1),t.Q6J("ngIf",o._config_modslotLimitation.length>0),t.xp6(1),t.Q6J("ngIf",o._config_armorPerkLimitation.length>0),t.xp6(1),t.Q6J("ngIf",o._config_onlyShowResultsWithNoWastedStats),t.xp6(1),t.Q6J("ngIf",o._config_assumeEveryLegendaryIsArtifice),t.xp6(1),t.Q6J("ngIf",o._config_onlyUseMasterworkedItems),t.xp6(1),t.Q6J("ngIf",!o._config_onlyUseMasterworkedItems&&(o._config_assumeLegendariesMasterworked||o._config_assumeExoticsMasterworked||o._config_assumeClassItemMasterworked)),t.xp6(5),t.Q6J("dataSource",o.tableDataSource),t.xp6(39),t.Q6J("matHeaderRowDef",o.shownColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.shownColumns),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(30,In)),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(31,On)),t.xp6(1),t.Q6J("ngIf",o.totalResults>0))},styles:["#card-results[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;white-space:normal;width:-moz-fit-content;width:fit-content;margin-left:3px}.statColumn[_ngcontent-%COMP%]{position:relative}.statIcon[_ngcontent-%COMP%]{position:absolute;height:22px;margin-left:2px;top:11px}.itemIcon[_ngcontent-%COMP%]{width:32px;height:32px;margin-right:3px}.itemIconWatermark[_ngcontent-%COMP%]{width:32px;height:32px;margin-right:3px;margin-left:-35px;pointer-events:none}tr.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}tr.example-detail-row[_ngcontent-%COMP%]{height:0!important}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.report-problem-icon[_ngcontent-%COMP%]{color:#f08080}.hint-text[_ngcontent-%COMP%]{font-size:small;color:#d5d5d5}[_nghost-%COMP%]     .info-box .mat-form-field-wrapper{padding-bottom:5px!important;cursor:default}.hidden-input[_ngcontent-%COMP%]{display:none}.config-summary-box[_ngcontent-%COMP%]{width:100%}.result-table[_ngcontent-%COMP%]   tr.example-element-row[_ngcontent-%COMP%]{cursor:pointer}.mat-row[_ngcontent-%COMP%]:nth-child(4n+3){background-color:#7474741a}.warning-none-found[_ngcontent-%COMP%]{color:red}.no-found-sadcat-container[_ngcontent-%COMP%]{width:20px;position:relative;display:inline-block}.no-found-sadcat[_ngcontent-%COMP%]{position:absolute;width:18px;top:-1px}.cdk-column-exotic[_ngcontent-%COMP%]{min-width:45px}.cdk-column-waste[_ngcontent-%COMP%]{padding-left:5px}"],data:{animation:[(0,q.X$)("detailExpand",[(0,q.SB)("collapsed, void",(0,q.oB)({height:"0px"})),(0,q.SB)("expanded",(0,q.oB)({height:"*"})),(0,q.eR)("expanded <=> collapsed",(0,q.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)")),(0,q.eR)("expanded <=> void",(0,q.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),n})();const Mn={2:{shards:1,glimmer:500,core:0,prism:0,ascshard:0},3:{shards:1,glimmer:500,core:0,prism:0,ascshard:0},4:{shards:2,glimmer:500,core:0,prism:0,ascshard:0},5:{shards:2,glimmer:1e3,core:0,prism:0,ascshard:0},6:{shards:3,glimmer:1e3,core:1,prism:0,ascshard:0},7:{shards:3,glimmer:2500,core:2,prism:0,ascshard:0},8:{shards:4,glimmer:3e3,core:0,prism:1,ascshard:0},9:{shards:4,glimmer:3e3,core:0,prism:2,ascshard:0},10:{shards:5,glimmer:4e3,core:0,prism:0,ascshard:1}},kn={2:{shards:1,glimmer:500,core:0,prism:0,ascshard:0},3:{shards:2,glimmer:1e3,core:0,prism:0,ascshard:0},4:{shards:2,glimmer:1e3,core:0,prism:0,ascshard:0},5:{shards:3,glimmer:2500,core:0,prism:0,ascshard:0},6:{shards:3,glimmer:3e3,core:2,prism:0,ascshard:0},7:{shards:4,glimmer:3e3,core:3,prism:0,ascshard:0},8:{shards:4,glimmer:4e3,core:0,prism:2,ascshard:0},9:{shards:5,glimmer:4e3,core:0,prism:3,ascshard:0},10:{shards:6,glimmer:5e3,core:0,prism:0,ascshard:3}};var zt=_(7009),Bn=_(1572),St=_(4425),Qt=_(4080);function Un(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e)}}function Pn(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e+2)}}function Rn(n,i){if(1&n&&(t.TgZ(0,"div",7),t._uU(1,"\xa0"),t.qZA()),2&n){const e=t.oxw(2);t.Udp("width",e.getWidth(2))}}function Nn(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,Un,2,1,"span",3),t.YNc(5,Pn,2,1,"span",3),t.qZA(),t.TgZ(6,"td")(7,"div",4)(8,"div",5),t._uU(9,"\xa0"),t.qZA(),t.YNc(10,Rn,2,2,"div",6),t.qZA()()()),2&n){const e=i.$implicit,o=i.index,a=t.oxw();t.xp6(2),t.Oqu(a.getArmorStatName(o)),t.xp6(2),t.Q6J("ngIf",!(null!=a.itemTooltip&&a.itemTooltip.masterworked)),t.xp6(1),t.Q6J("ngIf",null==a.itemTooltip?null:a.itemTooltip.masterworked),t.xp6(3),t.Udp("width",a.getWidth(e)),t.xp6(2),t.Q6J("ngIf",null==a.itemTooltip?null:a.itemTooltip.masterworked)}}let qn=(()=>{class n{constructor(){}getArmorStatName(e){return r.Mi[e]}getWidth(e){return Math.min(100,e/32*100)+"%"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-armor-tooltip-component"]],inputs:{itemTooltip:"itemTooltip"},decls:10,vars:2,consts:[[1,"tooltip-container"],["colspan","3"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"stat-display"],[1,"stat-display-bar"],["class","stat-display-bar masterwork",3,"width",4,"ngIf"],[1,"stat-display-bar","masterwork"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t._uU(5),t.qZA()(),t.TgZ(6,"tr")(7,"td"),t._uU(8,"\u5f53\u524d\u5c5e\u6027:"),t.qZA()(),t.YNc(9,Nn,11,6,"tr",2),t.qZA()()()),2&e&&(t.xp6(5),t.Oqu(null==o.itemTooltip?null:o.itemTooltip.name),t.xp6(4),t.Q6J("ngForOf",null==o.itemTooltip?null:o.itemTooltip.stats))},dependencies:[T.sg,T.O5],styles:[".tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.stat-display[_ngcontent-%COMP%]{width:70px;height:20px;background-color:#2c2c2c}.stat-display-bar[_ngcontent-%COMP%]{height:100%;background-color:#a1a1a1;float:left}.masterwork[_ngcontent-%COMP%]{background-color:#eedb9e}"]}),n})();var gt=_(8184);let Jn=(()=>{class n{constructor(e,o,a){this._overlay=e,this._overlayPositionBuilder=o,this._elementRef=a,this.showToolTip=!0}ngOnInit(){if(!this.showToolTip)return;const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(new Qt.C5(qn)).instance.itemTooltip=this.itemTooltip)}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(gt.aV),t.Y36(gt.wJ),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","itemTooltip",""]],hostBindings:function(e,o){1&e&&t.NdJ("mouseenter",function(){return o.show()})("mouseleave",function(){return o.hide()})},inputs:{showToolTip:"showToolTip",itemTooltip:"itemTooltip",contentTemplate:"contentTemplate"}}),n})(),ue=(()=>{class n{constructor(e){this.db=e,this.itemLookup=new Map}getItemCached(e){var o=this;return(0,m.Z)(function*(){if(o.itemLookup.has(e))return o.itemLookup.get(e)||void 0;const a=yield o.db.manifestArmor.where("hash").equals(e).first();return o.itemLookup.set(e,a),a})()}getExoticPerkDescription(e){var o=this;return(0,m.Z)(function*(){return e.exoticPerkHash?(yield o.getItemCached(e.exoticPerkHash))??null:null})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(rt))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ln(n,i){if(1&n&&t._UZ(0,"img",5,6),2&n){const e=t.oxw(2);t.MGl("src","https://bungie.net/",e.item.icon,"",t.LSH),t.s9C("matTooltip",e.item.name)}}function Yn(n,i){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw(2);t.MGl("src","https://bungie.net/",e.item.watermarkIcon,"",t.LSH)}}function Qn(n,i){1&n&&t._UZ(0,"div",8)}function Vn(n,i){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,Ln,2,2,"img",2),t.YNc(2,Yn,1,1,"img",3),t.YNc(3,Qn,1,0,"div",4),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.item.icon),t.xp6(1),t.Q6J("ngIf",e.item.watermarkIcon),t.xp6(1),t.Q6J("ngIf",e.masterworked)}}let Hn=(()=>{class n{constructor(e){this.iconService=e,this.itemHash=0,this.masterworked=!1,this.item=void 0}ngAfterViewInit(){var e=this;return(0,m.Z)(function*(){e.item=yield e.iconService.getItemCached(e.itemHash)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ue))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-item-icon"]],inputs:{itemHash:"itemHash",masterworked:"masterworked"},decls:1,vars:1,consts:[["class","item-icon-container",4,"ngIf"],[1,"item-icon-container"],["class","item-icon",3,"src","matTooltip",4,"ngIf"],["class","item-icon-overlay",3,"src",4,"ngIf"],["class","item-icon-masterwork-overlay",4,"ngIf"],[1,"item-icon",3,"src","matTooltip"],["tooltip","matTooltip"],[1,"item-icon-overlay",3,"src"],[1,"item-icon-masterwork-overlay"]],template:function(e,o){1&e&&t.YNc(0,Vn,4,3,"div",0),2&e&&t.Q6J("ngIf",o.item)},dependencies:[T.O5,N.gM],styles:["[_nghost-%COMP%]{height:22px;width:22px;display:block}.item-icon-masterwork-overlay[_ngcontent-%COMP%]{pointer-events:none;box-sizing:border-box;top:-1px;left:-1px;border-width:0;height:24px;width:24px;position:absolute;background-repeat:no-repeat;background-position:center;background-size:22px 22px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAJgklEQVR4AWI8t87oBYCd8rBuGAZi6N1JUQbIrJkiY6bM4EoE1EHvqb+WHsPvG5AJU522JQ/znpY03GzJ3YTovcvcVFcO5WbU8eH/OZ8R91B241c6wEzowJUUZnqlXMiZufrJSs1XUjNBUb6OcvUFF8190fzkGxS2J0ChGPQZDnYAQObJWHbNlCvZIXKxqvHN8KBp22SubByb9EKFGM2hzgyNa47vUzvKvnUToHPOINMFHG6Oo6hb6lhmMump4wROtxSMee8yjC6YI9jOnBYcGn5TZnTdBMB7d0+HB52AeKEb5QL2hQKx8RLk5IkE6eymz9CJFPJIQKxdWZKO5M1u+gw9kPvVJUjqyAt5Z98OMBAI4igO9x97koAAnSY6YHSaAB2nAiyswTbMq+/HAiHv0+4k3Ww1pOvnOvYews1Ow2rGnldEAAAIAAABACAAAAQAgAAAEAAAAgAgPwACAEAAAKiyAfJ7AXALEgAAAuAU5BMgAADki9j/BQCAlkN459OlNu6v0/V43vsAocOvq9kh1n/LX35h+B6EU9DI8fuVh/D48WMRWv742Qgtf/xshBY+fm1cMQgtefwdI5ffA/a9+frC68ox9M3enehIkvJAAC5D9vs/8F+Z/HugkfXJrOfec6QSJBi6O8IO2znX1zdZro39if/K0B8ftp2Hxxfa/vcu6DO8P5x/AaDrvwj4/uDPJDtjP09+ntDze9L+i4DRSEqwtgoQZ9rL3r9Ye/51L+Pw9tF6YuHFPJ/uWBDk2eXZvfb8YyMAwHvg673Z7AvmSF4POeSHmtDnb0xAD3qzN5gLfHsHIOvhktBJ4vOXJqABvJcZnqs5z54R7FF5ODaRiOkIGcXX+OZG7PqJnh6Ev3uOI52Z7tdRUCbdB6AFXHCDcZ3kkf2fGwEN+HGe+3xcE5yBB3umIvk5JnVIggDtnx/1u27XD5CajhBt8tqj9gMahDSan+7C629sxx6DiGmTcxOF304AwOud/SuABnTsZtNABWfaygUynjR3Ld+/GokZp4TO/JsJsEON1uN7OTEPaO9nVFHhHXizTdcN8Fl6BlER5gHk6lghYV8Tgd31DeCPL2icmhISYGsS9P7R9AErAT9JwlWCnuyFsmRuEQurKcBuqyBB72WkXtfmTCD7Au4a4/H7yYAl0N9VY0eERBqRr+Ov51yqCkTEYuuqjL4A+D4p1nvazLzOncHLt1dByhIwqpsHDzcShpIEkM4HZ5+zDEtoRLoKAgrwvwF41/WuAeg+z/1hDzk6VyGPkYW8aLfwarEwr0RJCDr/LUm4+42N8WX6z76Am3R9RoIkGGDvRN7i677TupIhqVZI7vmzPnr+1xLgwT6Bek6QtOE89rMmAGk6d8PhaG9ghSOgeLaAW1FFmYz9viLitcgBCFAgQ2dJ6dcEyLvcKxMuH2za3wW7AeOpqh/k6raz9l49XOIlQozX6pNwNCDnfde6Ckfb2SdeSejLUCXp+L3SPyAlj9FghVVHWV2etlVQ482MNfBHzwe4igSAj7T+4VnmtfdvwBJ5dxoXay/6hrc5gqrnyQCzX5H3fHYVhNd35eOrIWD4zDjZG2ntSmt8CpKTzCAnSEmp6Y7TDthyE9vbjhz7OOYAODg3THqfwEmMIJ29f1TaDwkX+8ckTCf8JAl6EjBviFo70m7v0vtTdD72EqzNgjwIgCJBr+aMRoTzbQMxzBlHIoY5JFCrA9xIZedIZLzZiwScpe1ij/vLyDu8b9p5IH2/V/4hfg+SGIUHr7oSAVhIwgbwIALpgYgLcvokvLU9gfsmgv+37117brJ90PrlHKAtWY24OWLO5/WORGWYAyJeQy8fjceHoOYz5gkTLeAPgL7YU57mHzRBQwA2Cff+5L3s1e9kn8Cuy1hAf9D/EN5YYySVKyQo4tyNSog6XucApWOZeA+Vz6UMNaXotLEiCZsgY4M9KVc/9lmBffwNHSonyQp1H/kpknDEiFeM/U2UybWRmcuEe5IcSPgAqOuQB2b3OiKBMrLumzy33dzy86HG84Z0KCtp/wL4kc7NfFdEDIucK9em8eskRl3q4bUAYc6YXalZJue6/LwkoClD9cYsP5G8d5pkT/U+Cfdd5gpI4jn2EL87eEQiID5tboPq9e+rBLvOA47D/doGj6+lKJpiQC+88WDP33h8JMADL36naIUYJYocsO+NGLOIAJJEjJnWhx7fyM0obAXLta7hmjxfp3dB5IF3AvRJwL3tzG3cjKJ8PkncBPgBocPyNXYEHAkI/md8CFA+eu8/jMiOVc1lpQRBEq38rKTNN/khkJHJXtjE8TW8T50fJO6RxvXaOSBer1j594Rjf5HfNyMSCCFoR43HBtKsirSFSCXILrh/G1p0vRdVSX4vdJvEkZYK+EVu4W0qtluCYtvGHq89MQImAApsLUHniBC0cbjXuclXcvR+o2Dq9ThXzhl3AtCcoabnHPBRdL1vCEwR30hQRAw985hwAZR1IyVcJ3o8p97HqSnE0xz1zpszAfgvSKm634e5tf9HVfaOGNcTJwLiUye2BJrnSk5OEiVZ3unv/7o/zvLT/sGshRy8i4hdyVtvk6mlaNoz4f6/dGvJkRqKgVXuDyuWLLkSZ+CiXIQVZ2CF0h0XbblkRU+hESIjq+yqZ2emJtKbZNK54vlfUBRAgl1A0BUuiyAvmdo/ff/x7QsZF5PsYY2uKw20EKA1NLpuzaNnBmddSCIZqrxIz2ydiEpprucWzrk8WzrZAGQQ5LyL4hJCqhCQ+zOVLFP5Cslzrc88KeGk0LWam1mSprc196WeH8mY/QZcngWxZ3/Y9fhsiiRjcpCzdKjhHSTHqDnCdatee/wFzF40+ph85GP9Ht7969BGjXlj0nBjbkoZJBPAbv+WB2sqWitvZXLrkrGprgluPsf5HvBr+/l1CpD4+8F/4NdnIreI64MMgFf0PUrhDRE3FjLuYLy4y9184Z1eY73w6rr7e2bNu4gvBE9fim7ftEOZkJ5I7TfkY1M+oHyiMF/R9YbcNzW3QfuLk/leIzXWLM/cgcp19FzCemU6cIz/MB9890UWjBGadM7N9QMtlCqqJiFwOjUhdaDQXQCdEwNOpzhYwMpBDrfcFpEXIsjiGJw+9jqidHo7O3+3QVO7+QpIf7ji9cbst7ogrVf8UXTDBslUgkxCCSilwjFdSAkBkSo1EcjSIBXWWvsN9SxF5ebWH3woEIS629sLNhsPabYekYTY/VR0znB/jBdcErKAavL8+A1ICXvgoqroDgAAAABJRU5ErkJggg==)}.item-icon-container[_ngcontent-%COMP%]{position:relative;transition:opacity .2s,transform .2s;width:100%}.item-icon-overlay[_ngcontent-%COMP%], .item-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;pointer-events:none}"]}),n})();function Wn(n,i){if(1&n&&t._UZ(0,"img",5),2&n){const e=t.oxw(2);t.s9C("src",e.url,t.LSH)}}function jn(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",2,3),t.YNc(3,Wn,1,1,"img",4),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",e.name),t.xp6(2),t.Q6J("ngIf",e.customIconMods.indexOf(e.perk)>-1)}}function zn(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",6,3),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",e.name),t.s9C("src",e.url,t.LSH)}}let Gt=(()=>{class n{constructor(){this.ArmorPerkOrSlot=r.Pn,this.customIconMods=[r.Pn.SlotKingsFall,r.Pn.SlotArtifice,r.Pn.SlotVowOfTheDisciple,r.Pn.SlotRootOfNightmares],this.perk=r.Pn.None}get name(){return r.cM[this.perk]}get url(){return r.X9[this.perk]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-armor-perk-icon"]],inputs:{perk:"perk"},decls:3,vars:2,consts:[[1,"overlay-icon-container"],[4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png",1,"element-icon",3,"matTooltip"],["tooltip","matTooltip"],["class","overlay-icon",3,"src",4,"ngIf"],[1,"overlay-icon",3,"src"],[1,"element-icon",3,"matTooltip","src"]],template:function(e,o){1&e&&(t.TgZ(0,"span",0),t.YNc(1,jn,4,2,"ng-container",1),t.YNc(2,zn,3,2,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.customIconMods.indexOf(o.perk)>-1),t.xp6(1),t.Q6J("ngIf",-1===o.customIconMods.indexOf(o.perk)))},dependencies:[T.O5,N.gM],styles:[".element-icon[_ngcontent-%COMP%]{height:100%;width:100%}.element-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.overlay-icon-container[_ngcontent-%COMP%]{position:relative}.overlay-icon-container[_ngcontent-%COMP%]   .overlay-icon[_ngcontent-%COMP%]{width:66%;position:absolute;left:17%;top:17%;pointer-events:none}[_nghost-%COMP%]{display:inline-flex;height:30px;width:30px}"]}),n})(),ce=(()=>{class n{transform(e,o=null){return e.filter(a=>null==o||a==o).length}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"count",type:n,pure:!0}),n})();function Gn(n,i){1&n&&(t.TgZ(0,"mat-toolbar",25),t._uU(1," Warning: The stats of one or more items used for this build may be invalid."),t._UZ(2,"br"),t._uU(3," Please remove all negative/positive stat modifiers from the marked items. "),t.qZA())}function Kn(n,i){if(1&n&&(t.TgZ(0,"u",35,36),t._uU(2),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.name)}}function Xn(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.name)}}function $n(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td",37)(2,"span",38),t._uU(3),t.qZA()(),t.TgZ(4,"td",37)(5,"span",38),t._uU(6),t.qZA()(),t.TgZ(7,"td",37)(8,"span",38),t._uU(9),t.qZA()(),t.TgZ(10,"td",37)(11,"span",38),t._uU(12),t.qZA()(),t.TgZ(13,"td",37)(14,"span",38),t._uU(15),t.qZA()(),t.TgZ(16,"td",37)(17,"span",38),t._uU(18),t.qZA()(),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().$implicit,a=t.oxw(2);t.xp6(2),t.ekj("text-mw",o.masterworked),t.xp6(1),t.Oqu(o.stats[a.ArmorStat.Mobility]+e),t.xp6(2),t.ekj("text-mw",o.masterworked),t.xp6(1),t.Oqu(o.stats[a.ArmorStat.Resilience]+e),t.xp6(2),t.ekj("text-mw",o.masterworked),t.xp6(1),t.Oqu(o.stats[a.ArmorStat.Recovery]+e),t.xp6(2),t.ekj("text-mw",o.masterworked),t.xp6(1),t.Oqu(o.stats[a.ArmorStat.Discipline]+e),t.xp6(2),t.ekj("text-mw",o.masterworked),t.xp6(1),t.Oqu(o.stats[a.ArmorStat.Intellect]+e),t.xp6(2),t.ekj("text-mw",o.masterworked),t.xp6(1),t.Oqu(o.stats[a.ArmorStat.Strength]+e)}}function to(n,i){1&n&&(t.TgZ(0,"td",28),t._UZ(1,"mat-progress-spinner",39),t.qZA())}function eo(n,i){1&n&&(t.TgZ(0,"td")(1,"mat-icon",40,36),t._uU(3," check_circle_outline "),t.qZA()())}function no(n,i){1&n&&(t.TgZ(0,"td")(1,"mat-icon",41,36),t._uU(3," error_outline "),t.qZA()())}function oo(n,i){1&n&&(t.TgZ(0,"td")(1,"mat-icon",42,36),t._uU(3," report_problem "),t.qZA()())}function io(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,Kn,3,1,"u",27),t.YNc(3,Xn,2,1,"span",4),t.qZA(),t.YNc(4,$n,19,18,"ng-container",9),t.TgZ(5,"td",28)(6,"div",29),t._UZ(7,"app-item-icon",30),t.qZA()(),t.TgZ(8,"td",28)(9,"div",31),t._UZ(10,"app-armor-perk-icon",32),t.qZA()(),t.TgZ(11,"td",28)(12,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.disableItem(s.itemInstanceId))}),t.TgZ(13,"mat-icon"),t._uU(14,"block"),t.qZA()()(),t.YNc(15,to,2,0,"td",34),t.YNc(16,eo,4,0,"td",4),t.YNc(17,no,4,0,"td",4),t.YNc(18,oo,4,0,"td",4),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw().$implicit,a=t.oxw();t.ekj("highlight-row",o[0].slot%2==0),t.xp6(2),t.Q6J("ngIf",e.masterworked),t.xp6(1),t.Q6J("ngIf",!e.masterworked),t.xp6(1),t.Q6J("ngVar",e.masterworked||!e.exotic&&a.config_assumeLegendariesMasterworked||e.exotic&&a.config_assumeExoticsMasterworked?2:0),t.xp6(2),t.Q6J("itemTooltip",e),t.xp6(1),t.Q6J("itemHash",e.hash)("masterworked",e.masterworked),t.xp6(3),t.Q6J("perk",e.perk||0),t.xp6(5),t.Q6J("ngIf",1===e.transferState||2===e.transferState),t.xp6(1),t.Q6J("ngIf",3===e.transferState),t.xp6(1),t.Q6J("ngIf",4===e.transferState),t.xp6(1),t.Q6J("ngIf",e.mayBeBugged)}}function ao(n,i){if(1&n&&(t.ynx(0),t.YNc(1,io,19,13,"tr",26),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function so(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",43,36),t._uU(3,"\u4efb\u610f\u804c\u4e1a\u7269\u54c1"),t.qZA(),t.TgZ(4,"td",44),t._uU(5),t.qZA(),t.TgZ(6,"td",44),t._uU(7),t.qZA(),t.TgZ(8,"td",44),t._uU(9),t.qZA(),t.TgZ(10,"td",44),t._uU(11),t.qZA(),t.TgZ(12,"td",44),t._uU(13),t.qZA(),t.TgZ(14,"td",44),t._uU(15),t.qZA(),t._UZ(16,"td"),t.TgZ(17,"td")(18,"div",31),t._UZ(19,"app-armor-perk-icon",32),t.qZA()(),t.TgZ(20,"td")(21,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.disableAllItems())}),t.TgZ(22,"mat-icon"),t._uU(23,"block"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Oqu(2),t.xp6(2),t.Oqu(2),t.xp6(2),t.Oqu(2),t.xp6(2),t.Oqu(2),t.xp6(2),t.Oqu(2),t.xp6(2),t.Oqu(2),t.xp6(4),t.Q6J("perk",(null==e.element||null==e.element.classItem?null:e.element.classItem.perk)||0)}}function ro(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2,"Any Class Item"),t.qZA(),t.TgZ(3,"td",46),t._uU(4,"You chose to use non-masterworked class items."),t.qZA(),t._UZ(5,"td")(6,"td"),t.TgZ(7,"td")(8,"button",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.disableAllItems())}),t.TgZ(9,"mat-icon"),t._uU(10,"block"),t.qZA()()()()}}function uo(n,i){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"img",49),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw();t.xp6(1),t.hij(" ",e[o.ArmorStat.Mobility]," ")}}function co(n,i){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"img",50),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw();t.xp6(1),t.hij(" ",e[o.ArmorStat.Resilience]," ")}}function lo(n,i){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"img",51),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw();t.xp6(1),t.hij(" ",e[o.ArmorStat.Recovery]," ")}}function mo(n,i){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"img",52),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw();t.xp6(1),t.hij(" ",e[o.ArmorStat.Discipline]," ")}}function po(n,i){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"img",53),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw();t.xp6(1),t.hij(" ",e[o.ArmorStat.Intellect]," ")}}function go(n,i){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t._UZ(2,"img",54),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw();t.xp6(1),t.hij(" ",e[o.ArmorStat.Strength]," ")}}function _o(n,i){if(1&n&&(t.TgZ(0,"tr",48)(1,"td"),t._uU(2,"\u62a4\u7532\u5f53\u524d\u5c5e\u6027"),t.qZA(),t.YNc(3,uo,3,1,"td",4),t.YNc(4,co,3,1,"td",4),t.YNc(5,lo,3,1,"td",4),t.YNc(6,mo,3,1,"td",4),t.YNc(7,po,3,1,"td",4),t.YNc(8,go,3,1,"td",4),t.qZA()),2&n){const e=i.ngVar;t.xp6(3),t.Q6J("ngIf",!!e),t.xp6(1),t.Q6J("ngIf",!!e),t.xp6(1),t.Q6J("ngIf",!!e),t.xp6(1),t.Q6J("ngIf",!!e),t.xp6(1),t.Q6J("ngIf",!!e),t.xp6(1),t.Q6J("ngIf",!!e)}}function fo(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"+"),t.qZA())}function ho(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,fo,2,0,"span",4),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.Tol(e.configValues[e.ArmorStat.Mobility]>0?"positive":"negative"),t.xp6(1),t.Q6J("ngIf",e.configValues[e.ArmorStat.Mobility]>0),t.xp6(1),t.hij("",e.configValues[e.ArmorStat.Mobility]," ")}}function Co(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"+"),t.qZA())}function xo(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Co,2,0,"span",4),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.Tol(e.configValues[e.ArmorStat.Resilience]>0?"positive":"negative"),t.xp6(1),t.Q6J("ngIf",e.configValues[e.ArmorStat.Resilience]>0),t.xp6(1),t.hij("",e.configValues[e.ArmorStat.Resilience]," ")}}function Ao(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"+"),t.qZA())}function To(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Ao,2,0,"span",4),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.Tol(e.configValues[e.ArmorStat.Recovery]>0?"positive":"negative"),t.xp6(1),t.Q6J("ngIf",e.configValues[e.ArmorStat.Recovery]>0),t.xp6(1),t.hij("",e.configValues[e.ArmorStat.Recovery]," ")}}function bo(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"+"),t.qZA())}function vo(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,bo,2,0,"span",4),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.Tol(e.configValues[e.ArmorStat.Discipline]>0?"positive":"negative"),t.xp6(1),t.Q6J("ngIf",e.configValues[e.ArmorStat.Discipline]>0),t.xp6(1),t.hij("",e.configValues[e.ArmorStat.Discipline]," ")}}function Eo(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"+"),t.qZA())}function yo(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Eo,2,0,"span",4),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.Tol(e.configValues[e.ArmorStat.Intellect]>0?"positive":"negative"),t.xp6(1),t.Q6J("ngIf",e.configValues[e.ArmorStat.Intellect]>0),t.xp6(1),t.hij("",e.configValues[e.ArmorStat.Intellect]," ")}}function Zo(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"+"),t.qZA())}function Fo(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Zo,2,0,"span",4),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.Tol(e.configValues[e.ArmorStat.Strength]>0?"positive":"negative"),t.xp6(1),t.Q6J("ngIf",e.configValues[e.ArmorStat.Strength]>0),t.xp6(1),t.hij("",e.configValues[e.ArmorStat.Strength]," ")}}function wo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd75")}}function Do(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,wo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function So(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd75")}}function Io(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,So,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Oo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd75")}}function Mo(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Oo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function ko(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd75")}}function Bo(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,ko,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Uo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd75")}}function Po(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Uo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Ro(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd75")}}function No(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Ro,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function qo(n,i){if(1&n&&(t.TgZ(0,"tr",55)(1,"td"),t._uU(2,"\u5c0f\u578b\u6a21\u7ec4"),t.qZA(),t.YNc(3,Do,2,1,"td",9),t.ALo(4,"count"),t.YNc(5,Io,2,1,"td",9),t.ALo(6,"count"),t.YNc(7,Mo,2,1,"td",9),t.ALo(8,"count"),t.YNc(9,Bo,2,1,"td",9),t.ALo(10,"count"),t.YNc(11,Po,2,1,"td",9),t.ALo(12,"count"),t.YNc(13,No,2,1,"td",9),t.ALo(14,"count"),t.qZA()),2&n){const e=i.ngVar,o=t.oxw();t.xp6(3),t.Q6J("ngVar",t.xi3(4,6,e,o.StatModifier.MINOR_MOBILITY)),t.xp6(2),t.Q6J("ngVar",t.xi3(6,9,e,o.StatModifier.MINOR_RESILIENCE)),t.xp6(2),t.Q6J("ngVar",t.xi3(8,12,e,o.StatModifier.MINOR_RECOVERY)),t.xp6(2),t.Q6J("ngVar",t.xi3(10,15,e,o.StatModifier.MINOR_DISCIPLINE)),t.xp6(2),t.Q6J("ngVar",t.xi3(12,18,e,o.StatModifier.MINOR_INTELLECT)),t.xp6(2),t.Q6J("ngVar",t.xi3(14,21,e,o.StatModifier.MINOR_STRENGTH))}}function Jo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd710")}}function Lo(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Jo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Yo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd710")}}function Qo(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Yo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Vo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd710")}}function Ho(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Vo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Wo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd710")}}function jo(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Wo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function zo(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd710")}}function Go(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,zo,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Ko(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd710")}}function Xo(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Ko,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function $o(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"\u5927\u578b\u6a21\u7ec4"),t.qZA(),t.YNc(3,Lo,2,1,"td",9),t.ALo(4,"count"),t.YNc(5,Qo,2,1,"td",9),t.ALo(6,"count"),t.YNc(7,Ho,2,1,"td",9),t.ALo(8,"count"),t.YNc(9,jo,2,1,"td",9),t.ALo(10,"count"),t.YNc(11,Go,2,1,"td",9),t.ALo(12,"count"),t.YNc(13,Xo,2,1,"td",9),t.ALo(14,"count"),t.qZA()),2&n){const e=i.ngVar,o=t.oxw();t.xp6(3),t.Q6J("ngVar",t.xi3(4,6,e,o.StatModifier.MAJOR_MOBILITY)),t.xp6(2),t.Q6J("ngVar",t.xi3(6,9,e,o.StatModifier.MAJOR_RESILIENCE)),t.xp6(2),t.Q6J("ngVar",t.xi3(8,12,e,o.StatModifier.MAJOR_RECOVERY)),t.xp6(2),t.Q6J("ngVar",t.xi3(10,15,e,o.StatModifier.MAJOR_DISCIPLINE)),t.xp6(2),t.Q6J("ngVar",t.xi3(12,18,e,o.StatModifier.MAJOR_INTELLECT)),t.xp6(2),t.Q6J("ngVar",t.xi3(14,21,e,o.StatModifier.MAJOR_STRENGTH))}}function ti(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd73")}}function ei(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,ti,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function ni(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd73")}}function oi(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,ni,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function ii(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd73")}}function ai(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,ii,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function si(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd73")}}function ri(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,si,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function ui(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd73")}}function ci(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,ui,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function li(n,i){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("",e,"\xd73")}}function mi(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,li,2,1,"span",56),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function pi(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3,"\u8be1\u8ba1\u62a4\u7532\u6a21\u7ec4"),t.qZA(),t.YNc(4,ei,2,1,"td",9),t.ALo(5,"count"),t.YNc(6,oi,2,1,"td",9),t.ALo(7,"count"),t.YNc(8,ai,2,1,"td",9),t.ALo(9,"count"),t.YNc(10,ri,2,1,"td",9),t.ALo(11,"count"),t.YNc(12,ci,2,1,"td",9),t.ALo(13,"count"),t.YNc(14,mi,2,1,"td",9),t.ALo(15,"count"),t.qZA(),t.BQk()),2&n){const e=i.ngVar,o=t.oxw();t.xp6(4),t.Q6J("ngVar",t.xi3(5,6,e,o.StatModifier.ARTIFICE_MOBILITY)),t.xp6(2),t.Q6J("ngVar",t.xi3(7,9,e,o.StatModifier.ARTIFICE_RESILIENCE)),t.xp6(2),t.Q6J("ngVar",t.xi3(9,12,e,o.StatModifier.ARTIFICE_RECOVERY)),t.xp6(2),t.Q6J("ngVar",t.xi3(11,15,e,o.StatModifier.ARTIFICE_DISCIPLINE)),t.xp6(2),t.Q6J("ngVar",t.xi3(13,18,e,o.StatModifier.ARTIFICE_INTELLECT)),t.xp6(2),t.Q6J("ngVar",t.xi3(15,21,e,o.StatModifier.ARTIFICE_STRENGTH))}}function di(n,i){if(1&n&&(t.TgZ(0,"tr",58)(1,"td"),t._uU(2,"\u603b\u5c5e\u6027"),t.qZA(),t.TgZ(3,"td"),t._uU(4),t._UZ(5,"img",49),t.qZA(),t.TgZ(6,"td"),t._uU(7),t._UZ(8,"img",50),t.qZA(),t.TgZ(9,"td"),t._uU(10),t._UZ(11,"img",51),t.qZA(),t.TgZ(12,"td"),t._uU(13),t._UZ(14,"img",52),t.qZA(),t.TgZ(15,"td"),t._uU(16),t._UZ(17,"img",53),t.qZA(),t.TgZ(18,"td"),t._uU(19),t._UZ(20,"img",54),t.qZA()()),2&n){const e=i.ngVar,o=t.oxw();t.xp6(4),t.hij(" ",e[o.ArmorStat.Mobility]," "),t.xp6(3),t.hij(" ",e[o.ArmorStat.Resilience]," "),t.xp6(3),t.hij(" ",e[o.ArmorStat.Recovery]," "),t.xp6(3),t.hij(" ",e[o.ArmorStat.Discipline]," "),t.xp6(3),t.hij(" ",e[o.ArmorStat.Intellect]," "),t.xp6(3),t.hij(" ",e[o.ArmorStat.Strength]," ")}}function gi(n,i){if(1&n&&(t.TgZ(0,"span",66),t._UZ(1,"img",67),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.glimmer)," ")}}function _i(n,i){if(1&n&&(t.TgZ(0,"span",68),t._UZ(1,"img",69),t._uU(2),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(2),t.hij(" ",e.shards," ")}}function fi(n,i){if(1&n&&(t.TgZ(0,"span",70),t._UZ(1,"img",71),t._uU(2),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(2),t.hij(" ",e.core," ")}}function hi(n,i){if(1&n&&(t.TgZ(0,"span",72),t._UZ(1,"img",73),t._uU(2),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(2),t.hij(" ",e.prism," ")}}function Ci(n,i){if(1&n&&(t.TgZ(0,"span",74),t._UZ(1,"img",75),t._uU(2),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(2),t.hij(" ",e.ascshard," ")}}function xi(n,i){if(1&n&&(t.TgZ(0,"div",60),t._uU(1," \u4e00\u5171\u9700\u8981\u82b1\u8d39\u7684\u6750\u6599: "),t.YNc(2,gi,4,3,"span",61),t.YNc(3,_i,3,1,"span",62),t.YNc(4,fi,3,1,"span",63),t.YNc(5,hi,3,1,"span",64),t.YNc(6,Ci,3,1,"span",65),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(2),t.Q6J("ngIf",e.glimmer>0),t.xp6(1),t.Q6J("ngIf",e.shards>0),t.xp6(1),t.Q6J("ngIf",e.core>0),t.xp6(1),t.Q6J("ngIf",e.prism>0),t.xp6(1),t.Q6J("ngIf",e.ascshard>0)}}function Ai(n,i){if(1&n&&(t.ynx(0),t.YNc(1,xi,7,5,"div",59),t.BQk()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e.total>0)}}function Ti(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",76),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openSnackBar("Copied the DIM search query to your clipboard."))}),t._uU(2," \u590d\u5236 DIM \u67e5\u8be2\u53c2\u6570 "),t.qZA(),t.BQk()}if(2&n){const e=i.ngVar;t.xp6(1),t.Q6J("cdkCopyToClipboard",e)}}function bi(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," \u5e76\u4e14\u88c5\u5907\u4e00\u4ef6\u5347\u7ea7\u5230\u5927\u5e08\u6770\u4f5c\u7684\u804c\u4e1a\u7269\u54c1 "),t.qZA())}function vi(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Ei(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1," \u5c06\u4ee5\u4e0b\u7269\u54c1\u5347\u7ea7\u5230\u5927\u5e08\u6770\u4f5c\uff1a "),t.TgZ(2,"ul"),t.YNc(3,vi,2,1,"li",3),t.qZA()()),2&n){const e=t.oxw().ngVar;t.xp6(3),t.Q6J("ngForOf",e)}}function yi(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ei,4,1,"li",4),t.BQk()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e.length>0)}}function Zi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngVar;t.xp6(1),t.hij("",e,"x \u5c0f\u578b\u654f\u6377\u6a21\u7ec4")}}function Fi(n,i){1&n&&(t.ynx(0),t._uU(1," and"),t.BQk())}function wi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(1),t.hij(" ",e,"x ")}}function Di(n,i){if(1&n&&(t.TgZ(0,"li",57),t.YNc(1,Zi,2,1,"span",4),t.YNc(2,Fi,2,0,"ng-container",4),t.YNc(3,wi,2,1,"span",4),t._uU(4," \u654f\u6377\u6a21\u7ec4 "),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.Q6J("ngIf",o>0&&e>0),t.xp6(1),t.Q6J("ngIf",e>0)}}function Si(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Di,5,3,"li",56),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o+e>0)}}function Ii(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Si,2,1,"ng-container",9),t.ALo(2,"count"),t.BQk()),2&n){const e=t.oxw().ngVar,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",t.xi3(2,1,e,o.StatModifier.MAJOR_MOBILITY))}}function Oi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngVar;t.xp6(1),t.hij("",e,"x \u5c0f\u578b\u97e7\u6027\u6a21\u7ec4")}}function Mi(n,i){1&n&&(t.ynx(0),t._uU(1," and"),t.BQk())}function ki(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(1),t.hij(" ",e,"x ")}}function Bi(n,i){if(1&n&&(t.TgZ(0,"li",57),t.YNc(1,Oi,2,1,"span",4),t.YNc(2,Mi,2,0,"ng-container",4),t.YNc(3,ki,2,1,"span",4),t._uU(4," \u97e7\u6027\u6a21\u7ec4 "),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.Q6J("ngIf",o>0&&e>0),t.xp6(1),t.Q6J("ngIf",e>0)}}function Ui(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Bi,5,3,"li",56),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o+e>0)}}function Pi(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ui,2,1,"ng-container",9),t.ALo(2,"count"),t.BQk()),2&n){const e=t.oxw().ngVar,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",t.xi3(2,1,e,o.StatModifier.MAJOR_RESILIENCE))}}function Ri(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngVar;t.xp6(1),t.hij("",e,"x \u5c0f\u578b\u6062\u590d\u6a21\u7ec4")}}function Ni(n,i){1&n&&(t.ynx(0),t._uU(1," and"),t.BQk())}function qi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(1),t.hij(" ",e,"x ")}}function Ji(n,i){if(1&n&&(t.TgZ(0,"li",57),t.YNc(1,Ri,2,1,"span",4),t.YNc(2,Ni,2,0,"ng-container",4),t.YNc(3,qi,2,1,"span",4),t._uU(4," \u6062\u590d\u6a21\u7ec4 "),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.Q6J("ngIf",o>0&&e>0),t.xp6(1),t.Q6J("ngIf",e>0)}}function Li(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ji,5,3,"li",56),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o+e>0)}}function Yi(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Li,2,1,"ng-container",9),t.ALo(2,"count"),t.BQk()),2&n){const e=t.oxw().ngVar,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",t.xi3(2,1,e,o.StatModifier.MAJOR_RECOVERY))}}function Qi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngVar;t.xp6(1),t.hij("",e,"x \u5c0f\u578b\u7eaa\u5f8b\u6a21\u7ec4")}}function Vi(n,i){1&n&&(t.ynx(0),t._uU(1," and"),t.BQk())}function Hi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(1),t.hij(" ",e,"x ")}}function Wi(n,i){if(1&n&&(t.TgZ(0,"li",57),t.YNc(1,Qi,2,1,"span",4),t.YNc(2,Vi,2,0,"ng-container",4),t.YNc(3,Hi,2,1,"span",4),t._uU(4," \u7eaa\u5f8b\u6a21\u7ec4 "),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.Q6J("ngIf",o>0&&e>0),t.xp6(1),t.Q6J("ngIf",e>0)}}function ji(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Wi,5,3,"li",56),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o+e>0)}}function zi(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ji,2,1,"ng-container",9),t.ALo(2,"count"),t.BQk()),2&n){const e=t.oxw().ngVar,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",t.xi3(2,1,e,o.StatModifier.MAJOR_DISCIPLINE))}}function Gi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngVar;t.xp6(1),t.hij("",e,"x \u5c0f\u578b\u667a\u6167\u6a21\u7ec4")}}function Ki(n,i){1&n&&(t.ynx(0),t._uU(1," and"),t.BQk())}function Xi(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(1),t.hij(" ",e,"x ")}}function $i(n,i){if(1&n&&(t.TgZ(0,"li",57),t.YNc(1,Gi,2,1,"span",4),t.YNc(2,Ki,2,0,"ng-container",4),t.YNc(3,Xi,2,1,"span",4),t._uU(4," \u667a\u6167\u6a21\u7ec4 "),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.Q6J("ngIf",o>0&&e>0),t.xp6(1),t.Q6J("ngIf",e>0)}}function ta(n,i){if(1&n&&(t.ynx(0),t.YNc(1,$i,5,3,"li",56),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o+e>0)}}function ea(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ta,2,1,"ng-container",9),t.ALo(2,"count"),t.BQk()),2&n){const e=t.oxw().ngVar,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",t.xi3(2,1,e,o.StatModifier.MAJOR_INTELLECT))}}function na(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngVar;t.xp6(1),t.hij("",e,"x \u5c0f\u578b\u529b\u91cf\u6a21\u7ec4")}}function oa(n,i){1&n&&(t.ynx(0),t._uU(1," and"),t.BQk())}function ia(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(1),t.hij(" ",e,"x ")}}function aa(n,i){if(1&n&&(t.TgZ(0,"li",57),t.YNc(1,na,2,1,"span",4),t.YNc(2,oa,2,0,"ng-container",4),t.YNc(3,ia,2,1,"span",4),t._uU(4," \u529b\u91cf\u6a21\u7ec4 "),t.qZA()),2&n){const e=t.oxw().ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o>0),t.xp6(1),t.Q6J("ngIf",o>0&&e>0),t.xp6(1),t.Q6J("ngIf",e>0)}}function sa(n,i){if(1&n&&(t.ynx(0),t.YNc(1,aa,5,3,"li",56),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngIf",o+e>0)}}function ra(n,i){if(1&n&&(t.ynx(0),t.YNc(1,sa,2,1,"ng-container",9),t.ALo(2,"count"),t.BQk()),2&n){const e=t.oxw().ngVar,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",t.xi3(2,1,e,o.StatModifier.MAJOR_STRENGTH))}}function ua(n,i){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,Ii,3,4,"ng-container",9),t.ALo(2,"count"),t.YNc(3,Pi,3,4,"ng-container",9),t.ALo(4,"count"),t.YNc(5,Yi,3,4,"ng-container",9),t.ALo(6,"count"),t.YNc(7,zi,3,4,"ng-container",9),t.ALo(8,"count"),t.YNc(9,ea,3,4,"ng-container",9),t.ALo(10,"count"),t.YNc(11,ra,3,4,"ng-container",9),t.ALo(12,"count"),t.qZA()),2&n){const e=i.ngVar,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",t.xi3(2,6,e,o.StatModifier.MINOR_MOBILITY)),t.xp6(2),t.Q6J("ngVar",t.xi3(4,9,e,o.StatModifier.MINOR_RESILIENCE)),t.xp6(2),t.Q6J("ngVar",t.xi3(6,12,e,o.StatModifier.MINOR_RECOVERY)),t.xp6(2),t.Q6J("ngVar",t.xi3(8,15,e,o.StatModifier.MINOR_DISCIPLINE)),t.xp6(2),t.Q6J("ngVar",t.xi3(10,18,e,o.StatModifier.MINOR_INTELLECT)),t.xp6(2),t.Q6J("ngVar",t.xi3(12,21,e,o.StatModifier.MINOR_STRENGTH))}}function ca(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1,"\u88c5\u5907\u4ee5\u4e0b\u5c5e\u6027\u6a21\u7ec4: "),t.YNc(2,ua,13,24,"ul",9),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngVar",null==e.element?null:e.element.mods)}}function la(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," Arc "),t.qZA())}function ma(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," Solar "),t.qZA())}function pa(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," Void "),t.qZA())}function da(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," Stasis "),t.qZA())}function ga(n,i){if(1&n&&t._UZ(0,"img",78,36),2&n){const e=t.oxw(3).ngVar,o=t.oxw(3);t.MGl("matTooltip","",o.getAffinityName(e.requiredArmorAffinity)," affinity"),t.Q6J("src",o.getAffinityUrl(e.requiredArmorAffinity),t.LSH)}}function _a(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,la,2,0,"span",4),t.YNc(3,ma,2,0,"span",4),t.YNc(4,pa,2,0,"span",4),t.YNc(5,da,2,0,"span",4),t.YNc(6,ga,2,2,"img",77),t._uU(7," ) "),t.qZA()),2&n){const e=t.oxw(2).ngVar;t.xp6(1),t.hij(" ( ",e.cost," "),t.xp6(1),t.Q6J("ngIf",1===e.requiredArmorAffinity),t.xp6(1),t.Q6J("ngIf",2===e.requiredArmorAffinity),t.xp6(1),t.Q6J("ngIf",3===e.requiredArmorAffinity),t.xp6(1),t.Q6J("ngIf",6===e.requiredArmorAffinity),t.xp6(1),t.Q6J("ngIf",0!==e.requiredArmorAffinity)}}function fa(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.YNc(2,_a,8,6,"span",4),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij(" Equip the mod ",e.name," "),t.xp6(1),t.Q6J("ngIf",0!==e.requiredArmorAffinity)}}function ha(n,i){if(1&n&&(t.ynx(0),t.YNc(1,fa,3,2,"li",4),t.BQk()),2&n){const e=i.ngVar,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.type===o.ModifierType.CombatStyleMod)}}function Ca(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ha,2,1,"ng-container",9),t.BQk()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",o.ModInformation[e])}}function xa(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij(" Equip the stasis fragment ",e.name," ")}}function Aa(n,i){if(1&n&&(t.ynx(0),t.YNc(1,xa,2,1,"li",4),t.BQk()),2&n){const e=i.ngVar,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.type===o.ModifierType.Stasis)}}function Ta(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Aa,2,1,"ng-container",9),t.BQk()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngVar",o.ModInformation[e])}}function ba(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1," Equip any mods and fragments that you enabled in the configuration: "),t.TgZ(2,"ul"),t.YNc(3,Ca,2,1,"ng-container",3),t.YNc(4,Ta,2,1,"ng-container",3),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.config_enabledMods),t.xp6(1),t.Q6J("ngForOf",e.config_enabledMods)}}function va(n,i){if(1&n&&t._UZ(0,"div",82),2&n){const e=t.oxw().$implicit;t.Tol(e)}}function Ea(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,va,1,2,"div",81),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",!!e)}}function ya(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",79),t.qZA(),t.YNc(5,Ea,2,1,"td",3),t.TgZ(6,"td",80),t._uU(7),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Oqu(o.ArmorStatNames[e]),t.xp6(2),t.s9C("alt",o.ArmorStatNames[e]),t.s9C("src",o.ArmorStatIconUrls[e],t.LSH),t.xp6(1),t.Q6J("ngForOf",o.getColumnForStat(e)),t.xp6(2),t.Oqu(o.getTiersForStat(e))}}function Za(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"\u5f02\u57df\u62a4\u7532:"),t.qZA(),t.TgZ(3,"td",83),t._uU(4),t.qZA(),t.TgZ(5,"td",84)(6,"div",85),t._UZ(7,"img",86)(8,"img",87),t.qZA()()()),2&n){const e=t.oxw().ngVar;t.xp6(4),t.Oqu(e[0].name),t.xp6(3),t.MGl("src","https://bungie.net/",e[0].icon,"",t.LSH),t.xp6(1),t.MGl("src","https://bungie.net/",e[0].watermark,"",t.LSH)}}function Fa(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Za,9,3,"tr",4),t.BQk()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e[0])}}let wa=(()=>{class n{constructor(e,o,a){this.config=e,this._snackBar=o,this.bungieApi=a,this.armorStatIds=[0,1,2,3,4,5],this.ModifierType=h.O,this.ModInformation=dt,this.ArmorStatNames=r.Mi,this.ArmorStatIconUrls=r.lp,this.ArmorStat=r.WB,this.StatModifier=r.iV,this.config_characterClass=0,this.config_assumeLegendariesMasterworked=!1,this.config_assumeExoticsMasterworked=!1,this.config_assumeClassItemMasterworked=!1,this.config_enabledMods=[],this.DIMUrl="",this.configValues=[0,0,0,0,0,0],this.element=null,this.ngUnsubscribe=new nt.xQ}buildItemIdString(e){let o=e?.items.flat().map(s=>`id:'${s.itemInstanceId}'`).join(" or "),a=["is:classitem"];return e?.classItem.perk!=r.Pn.None&&e?.classItem.perk!=r.Pn.COUNT&&a.push(r.ID[e?.classItem.perk||0]),a.length>1&&(o+=` or (${a.join(" ")})`),o}openSnackBar(e){this._snackBar.open(e,"",{duration:2500,politeness:"polite"})}ngOnInit(){this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(e=>{this.config_characterClass=e.characterClass,this.config_assumeLegendariesMasterworked=e.assumeLegendariesMasterworked,this.config_assumeExoticsMasterworked=e.assumeExoticsMasterworked,this.config_assumeClassItemMasterworked=e.assumeClassItemMasterworked,this.config_enabledMods=e.enabledMods,this.configValues=e.enabledMods.reduce((o,a)=>o.concat(dt[a].bonus),[]).reduce((o,a)=>(a.stat==r.AR.ClassAbilityRegenerationStat?o[[1,0,2][e.characterClass]]+=a.value:o[a.stat]+=a.value,o),[0,0,0,0,0,0]),this.DIMUrl=this.generateDIMLink(e)})}disableAllItems(){this.config.modifyConfiguration(e=>{for(let o of this.element?.items.flat())e.disabledItems.push(o.itemInstanceId)})}disableItem(e){this.config.modifyConfiguration(o=>{o.disabledItems.push(e)})}get mayAnyItemBeBugged(){return(this.element?.items.flat().filter(e=>e.mayBeBugged).length||0)>0}getCharacterId(){var e=this;return(0,m.Z)(function*(){let o=yield e.bungieApi.getCharacters();return o=o.filter(a=>a.clazz==e.config_characterClass),0==o.length?(e.openSnackBar("Error: Could not find a character to move the items to."),null):o[0].characterId})()}moveItems(e=!1){var o=this;return(0,m.Z)(function*(){for(let p of(o.element?.items||[]).flat())p.transferState=xt.WAITING_FOR_TRANSFER;let a=yield o.getCharacterId();if(!a)return;let s=!0,c=(o.element?.items||[]).flat().sort(p=>p.exotic?1:-1);for(let p of c){p.transferState=xt.TRANSFERRING;let d=yield o.bungieApi.transferItem(p.itemInstanceId,a,e);p.transferState=d?xt.TRANSFERRED:xt.ERROR_DURING_TRANSFER,d||(s=!1)}o.openSnackBar(s?"Success! Moved all the items.":"Some of the items could not be moved. Make sure that there is enough space in the specific slot. This tool will not move items out of your inventory.")})()}getItemsThatMustBeMasterworked(){return this.element?.items.flat().filter(e=>!(e.masterworked||e.exotic&&!this.config_assumeExoticsMasterworked||!e.exotic&&!this.config_assumeLegendariesMasterworked))}calculateRequiredMasterworkCost(){let e={shards:0,glimmer:0,core:0,prism:0,ascshard:0,total:0},o=this.element?.items.flat()||[];o=o.filter(a=>a.energyLevel<10&&(a.exotic&&this.config_assumeExoticsMasterworked||!a.exotic&&this.config_assumeLegendariesMasterworked));for(let a of o){let s=a.exotic?kn:Mn;for(let c=a.energyLevel;c<10;c++)for(let p in s[c+1])e[p]+=s[c+1][p],e.total++}return e}generateDIMLink(e){const o=[],a=[];for(let C of this.config_enabledMods){const E=dt[C];E.type===h.O.CombatStyleMod?o.push(E.hash):a.push(E.hash)}if(this.element)for(let C of this.element?.mods||[])o.push(r.K9[C][3]);var s={statConstraints:[{statHash:2996146975,minTier:e.minimumStatTiers[r.WB.Mobility].value,maxTier:e.minimumStatTiers[r.WB.Mobility].fixed?e.minimumStatTiers[r.WB.Mobility].value:10},{statHash:392767087,minTier:e.minimumStatTiers[r.WB.Resilience].value,maxTier:e.minimumStatTiers[r.WB.Resilience].fixed?e.minimumStatTiers[r.WB.Resilience].value:10},{statHash:1943323491,minTier:e.minimumStatTiers[r.WB.Recovery].value,maxTier:e.minimumStatTiers[r.WB.Recovery].fixed?e.minimumStatTiers[r.WB.Recovery].value:10},{statHash:1735777505,minTier:e.minimumStatTiers[r.WB.Discipline].value,maxTier:e.minimumStatTiers[r.WB.Recovery].fixed?e.minimumStatTiers[r.WB.Recovery].value:10},{statHash:144602215,minTier:e.minimumStatTiers[r.WB.Intellect].value,maxTier:e.minimumStatTiers[r.WB.Intellect].fixed?e.minimumStatTiers[r.WB.Intellect].value:10},{statHash:4244567218,minTier:e.minimumStatTiers[r.WB.Strength].value,maxTier:e.minimumStatTiers[r.WB.Strength].fixed?e.minimumStatTiers[r.WB.Strength].value:10}],mods:o,assumeArmorMasterwork:e.assumeLegendariesMasterworked?e.assumeExoticsMasterworked?3:2:1};if(1==e.selectedExotics.length)s.exoticArmorHash=e.selectedExotics[0];else{var c=this.element?.exotic;if(c&&1==c.length){var p=c[0].hash;p&&(s.exoticArmorHash=parseInt(p,10))}}const d={id:"d2ap",name:"D2ArmorPicker Loadout",classType:e.characterClass,parameters:s,equipped:(this.element?.items||[]).map(([C])=>({id:C.itemInstanceId,hash:C.hash})),unequipped:[],clearSpace:!1};if(a.length){const C=a.reduce((P,k,W)=>(P[W+7]=k,P),{}),S={[u.Hunter]:{[h.O.Stasis]:873720784,[h.O.Void]:2453351420,[h.O.Solar]:2240888816,[h.O.Arc]:2328211300,[h.O.Strand]:3785442599},[u.Titan]:{[h.O.Stasis]:613647804,[h.O.Void]:2842471112,[h.O.Solar]:2550323932,[h.O.Arc]:2932390016,[h.O.Strand]:242419885},[u.Warlock]:{[h.O.Stasis]:3291545503,[h.O.Void]:2849050827,[h.O.Solar]:3941205951,[h.O.Arc]:3168997075,[h.O.Strand]:4204413574}}[e.characterClass]?.[e.selectedModElement];S&&d.equipped.push({id:"12345",hash:S,socketOverrides:C})}return"https://app.destinyitemmanager.com/loadouts?loadout="+encodeURIComponent(JSON.stringify(d))}goToDIM(){window.open(this.DIMUrl,"blank")}getTiersForStat(e){return Math.floor((this.element?.stats[e]||0)/10)}getColumnForStat(e){var o=Math.floor(this.configValues[e]/10);let a=[],s=0,c=Math.ceil((5*(this.element?.mods.filter(d=>d==1+2*e)||[]).length+10*(this.element?.mods.filter(d=>d==2+2*e)||[]).length)/10);var p=this.getTiersForStat(e)-o-c;for(let d=0;d<p;d++)a.push("normal"+(++s>10?" over100":""));for(let d=0;d<c;d++)a.push("mod"+(++s>10?" over100":""));for(let d=0;d<o;d++)a.push("config"+(++s>10?" over100":""));for(;s++<10;)a.push("");return a}getRequiredMasterworkBonus(){return 2*(this.element?.items.filter(e=>!e[0].masterworked&&!e[0].exotic&&this.config_assumeLegendariesMasterworked||e[0].exotic&&this.config_assumeExoticsMasterworked)||[]).length}getAffinityName(e){return r.vr[e]}getAffinityUrl(e){return r.Sy[e]}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H),t.Y36(zt.ux),t.Y36(Lt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-expanded-result-content"]],inputs:{element:"element"},decls:122,vars:26,consts:[["class","invalid-item-box mat-elevation-z4","color","warn",4,"ngIf"],[1,"specificStatTable"],["align","right"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","result-total-gear result-total highlight-row",4,"ngVar"],[1,"result-config"],[3,"class",4,"ngIf"],["class","highlight-row",4,"ngVar"],[4,"ngVar"],["class","result-total-all result-total highlight-row",4,"ngVar"],[1,"buttonContainer"],["color","primary","mat-raised-button","","matTooltip","\u70b9\u51fb\u5728 DIM \u4e2d\u6253\u5f00\u6b64\u914d\u88c5",3,"click"],["mat-stroked-button","","matTooltip","\u5355\u51fb\u6b64\u6309\u94ae\u53ef\u5c06\u7269\u54c1\u79fb\u81f3\u4f60\u7684\u88c5\u5907\u680f\u4e2d\uff0c\u8bf7\u786e\u4fdd\u4f60\u7684\u88c5\u5907\u680f\u4e2d\u6709\u8db3\u591f\u7684\u7a7a\u4f4d",3,"click"],["mat-stroked-button","","matTooltip","\u5355\u51fb\u6b64\u6309\u94ae\u53ef\u4ee5\u88c5\u5907\u7269\u54c1\uff0c\u8bf7\u786e\u4fdd\u4f60\u7684\u88c5\u5907\u680f\u4e2d\u6709\u8db3\u591f\u7684\u7a7a\u4f4d",3,"click"],[1,"mat-elevation-z6"],[1,"stat-preview"],["colspan","2"],[1,"tier-column"],[1,"legend"],[1,"energy-bar","normal"],["colspan","3"],[1,"energy-bar","mod"],["colspan","4"],[1,"energy-bar","config"],["color","warn",1,"invalid-item-box","mat-elevation-z4"],[3,"highlight-row",4,"ngFor","ngForOf"],["class","item-name-mw","matTooltip","\u6b64\u62a4\u7532\u5df2\u5347\u7ea7\u4e3a\u5927\u5e08\u6770\u4f5c",4,"ngIf"],[1,"icon-column"],[1,"item-icon-container",3,"itemTooltip"],[1,"item-icon",3,"itemHash","masterworked"],[2,"position","relative","width","25px"],[3,"perk"],["mat-icon-button","","matTooltip","\u5c06\u62a4\u7532\u4ece\u6240\u6709\u7ed3\u679c\u4e2d\u6392\u9664\uff0c\u53ef\u4ee5\u968f\u65f6\u64a4\u9500",1,"item-info-menu-btn",3,"click"],["class","icon-column",4,"ngIf"],["matTooltip","\u6b64\u62a4\u7532\u5df2\u5347\u7ea7\u4e3a\u5927\u5e08\u6770\u4f5c",1,"item-name-mw"],["tooltip","matTooltip"],[1,"item-stat-container"],[1,"item-stat-value"],["color","primary","diameter","22","mode","indeterminate",1,"item-loading-spinner"],["aria-hidden","false","aria-label","Success","inline","","matTooltip","Item successfully moved to inventory.",1,"item-moved-icon"],["aria-hidden","false","aria-label","Error","inline","","matTooltip","This item could not be moved. Make sure that there is enough space on your character. This tool will not move items out of your inventory.",1,"report-problem-icon"],["aria-hidden","false","aria-label","Error","inline","","matTooltip","The stats of this item may be incorrect. Make sure that you remove every positive or negative stat modifier from this item.",1,"report-problem-icon"],["matTooltip","\u804c\u4e1a\u62a4\u7532\u9700\u8981\u5347\u7ea7\u81f3\u5927\u5e08\u6770\u4f5c",1,"item-name-mw"],[1,"text-mw"],["mat-icon-button","","matTooltip","\u5c06\u4e0a\u8ff0\u56db\u4ef6\u62a4\u7532\u4ece\u6240\u6709\u7ed3\u679c\u4e2d\u6392\u9664\uff0c\u53ef\u4ee5\u968f\u65f6\u64a4\u9500",1,"item-info-menu-btn","report-problem-icon",3,"click"],["colspan","6",1,"text-centered"],["mat-icon-button","","matTooltip","Disable all four items above from the results. They will not be used to generate results anymore, but you can always undo this.",1,"item-info-menu-btn","report-problem-icon",3,"click"],[1,"result-total-gear","result-total","highlight-row"],["alt","Mobility","src","https://www.bungie.net/common/destiny2_content/icons/e26e0e93a9daf4fdd21bf64eb9246340.png",1,"statIcon"],["alt","Resilience","src","https://www.bungie.net/common/destiny2_content/icons/202ecc1c6febeb6b97dafc856e863140.png",1,"statIcon"],["alt","Recovery","src","https://www.bungie.net/common/destiny2_content/icons/128eee4ee7fc127851ab32eac6ca91cf.png",1,"statIcon"],["alt","Discipline","src","https://www.bungie.net/common/destiny2_content/icons/79be2d4adef6a19203f7385e5c63b45b.png",1,"statIcon"],["alt","Intellect","src","https://www.bungie.net/common/destiny2_content/icons/d1c154469670e9a592c9d4cbdcae5764.png",1,"statIcon"],["alt","Strength","src","https://www.bungie.net/common/destiny2_content/icons/ea5af04ccd6a3470a44fd7bb0f66e2f7.png",1,"statIcon"],[1,"highlight-row"],["class","positive",4,"ngIf"],[1,"positive"],[1,"result-total-all","result-total","highlight-row"],["style","margin-top: 10px",4,"ngIf"],[2,"margin-top","10px"],["class","currency-icon-container","matTooltip","\u5fae\u5149",4,"ngIf"],["class","currency-icon-container","matTooltip","\u4f20\u8bf4\u788e\u7247",4,"ngIf"],["class","currency-icon-container","matTooltip","\u5f3a\u5316\u6838\u5fc3",4,"ngIf"],["class","currency-icon-container","matTooltip","\u589e\u5f3a\u68f1\u955c",4,"ngIf"],["class","currency-icon-container","matTooltip","\u4e0a\u7ef4\u788e\u7247",4,"ngIf"],["matTooltip","\u5fae\u5149",1,"currency-icon-container"],["alt","Glimmer","src","https://www.bungie.net/common/destiny2_content/icons/88993eaeedad32f42072df6f77f47311.png",1,"currency-icon"],["matTooltip","\u4f20\u8bf4\u788e\u7247",1,"currency-icon-container"],["alt","Legendary Shards","src","https://www.bungie.net/common/destiny2_content/icons/18ddd0bdac721b8eb8e6f8ec2b3e813c.png",1,"currency-icon"],["matTooltip","\u5f3a\u5316\u6838\u5fc3",1,"currency-icon-container"],["alt","Enhancement Cores","src","https://www.bungie.net/common/destiny2_content/icons/0a4eb695ed55b4e720ddc401460cc0f9.jpg",1,"currency-icon"],["matTooltip","\u589e\u5f3a\u68f1\u955c",1,"currency-icon-container"],["alt","Enhancement Prism","src","https://www.bungie.net/common/destiny2_content/icons/dea2a35badf7466d4c2c2697ce6e8d87.jpg",1,"currency-icon"],["matTooltip","\u4e0a\u7ef4\u788e\u7247",1,"currency-icon-container"],["alt","Ascendant Shard","src","https://www.bungie.net/common/destiny2_content/icons/0271d214fc3ec91b3def799a4b286b46.jpg",1,"currency-icon"],["color","primary","mat-raised-button","","matTooltip","\u5c06\u67e5\u8be2\u53c2\u6570\u7c98\u8d34\u5230 DIM \u641c\u7d22\u6846\u4ee5\u68c0\u89c6\u6b64 build \u5217\u51fa\u7684\u62a4\u7532",3,"cdkCopyToClipboard","click"],["class","element-icon-mini",3,"src","matTooltip",4,"ngIf"],[1,"element-icon-mini",3,"src","matTooltip"],[2,"height","18px",3,"alt","src"],[1,"sum-tiers"],["class","energy-bar",3,"class",4,"ngIf"],[1,"energy-bar"],["colspan","10"],["colspan","1"],[1,"item-icon-container"],[1,"item-icon",3,"src"],[1,"item-icon-overlay",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div"),t.YNc(1,Gn,4,0,"mat-toolbar",0),t.TgZ(2,"table",1)(3,"thead",2)(4,"tr")(5,"th"),t._uU(6,"\u62a4\u7532"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"\u654f\u6377"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"\u97e7\u6027"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"\u6062\u590d"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"\u7eaa\u5f8b"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"\u667a\u6167"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"\u529b\u91cf"),t.qZA(),t._UZ(19,"th")(20,"th"),t.qZA()(),t.YNc(21,ao,2,1,"ng-container",3),t.YNc(22,so,24,7,"tr",4),t.YNc(23,ro,11,0,"tr",4),t.YNc(24,_o,9,6,"tr",5),t.TgZ(25,"tr",6)(26,"td"),t._uU(27,"\u914d\u7f6e"),t.qZA(),t.TgZ(28,"td"),t.YNc(29,ho,3,4,"span",7),t.qZA(),t.TgZ(30,"td"),t.YNc(31,xo,3,4,"span",7),t.qZA(),t.TgZ(32,"td"),t.YNc(33,To,3,4,"span",7),t.qZA(),t.TgZ(34,"td"),t.YNc(35,vo,3,4,"span",7),t.qZA(),t.TgZ(36,"td"),t.YNc(37,yo,3,4,"span",7),t.qZA(),t.TgZ(38,"td"),t.YNc(39,Fo,3,4,"span",7),t.qZA()(),t.YNc(40,qo,15,24,"tr",8),t.YNc(41,$o,15,24,"tr",9),t.YNc(42,pi,16,24,"ng-container",9),t.YNc(43,di,21,6,"tr",10),t.qZA()(),t.YNc(44,Ai,2,1,"ng-container",9),t.TgZ(45,"div",11),t.YNc(46,Ti,3,1,"ng-container",9),t.TgZ(47,"button",12),t.NdJ("click",function(){return o.goToDIM()}),t._uU(48," \u524d\u5f80 DIM \u914d\u88c5 "),t.qZA(),t._UZ(49,"br"),t.TgZ(50,"small"),t._uU(51,"\u5b9e\u9a8c\u6027\u529f\u80fd:"),t.qZA(),t._UZ(52,"br"),t.TgZ(53,"button",13),t.NdJ("click",function(){return o.moveItems()}),t._uU(54," \u79fb\u52a8\u81f3\u89d2\u8272\u88c5\u5907\u680f "),t.qZA(),t.TgZ(55,"button",14),t.NdJ("click",function(){return o.moveItems(!0)}),t._uU(56," \u88c5\u5907 "),t.qZA()(),t.TgZ(57,"mat-accordion")(58,"mat-expansion-panel",15)(59,"mat-expansion-panel-header")(60,"mat-panel-title"),t._uU(61," \u63a5\u4e0b\u6765\u5462\uff1f "),t.qZA(),t.TgZ(62,"mat-panel-description"),t._uU(63," \u9075\u5faa\u4ee5\u4e0b\u6b65\u9aa4\u4ee5\u5b8c\u6210\u4f60\u7684\u914d\u88c5 "),t.qZA()(),t.TgZ(64,"div")(65,"ol")(66,"li"),t._uU(67," \u5c06\u6240\u6709\u76f8\u5173\u62a4\u7532\u79fb\u52a8\u5230\u4f60\u7684\u88c5\u5907\u680f "),t.YNc(68,bi,2,0,"span",4),t.qZA(),t.YNc(69,yi,2,1,"ng-container",9),t.YNc(70,ca,3,1,"li",4),t.ALo(71,"count"),t.YNc(72,ba,5,2,"li",4),t.qZA()()(),t.TgZ(73,"mat-expansion-panel",15)(74,"mat-expansion-panel-header")(75,"mat-panel-title"),t._uU(76," \u5c5e\u6027\u603b\u89c8 "),t.qZA(),t.TgZ(77,"mat-panel-description"),t._uU(78," \u67e5\u770b\u6240\u6709\u5c5e\u6027\u6765\u6e90 "),t.qZA()(),t.TgZ(79,"table",16)(80,"tr")(81,"td",17),t._uU(82,"\u5c5e\u6027"),t.qZA(),t.TgZ(83,"td",18),t._uU(84,"1"),t.qZA(),t.TgZ(85,"td",18),t._uU(86,"2"),t.qZA(),t.TgZ(87,"td",18),t._uU(88,"3"),t.qZA(),t.TgZ(89,"td",18),t._uU(90,"4"),t.qZA(),t.TgZ(91,"td",18),t._uU(92,"5"),t.qZA(),t.TgZ(93,"td",18),t._uU(94,"6"),t.qZA(),t.TgZ(95,"td",18),t._uU(96,"7"),t.qZA(),t.TgZ(97,"td",18),t._uU(98,"8"),t.qZA(),t.TgZ(99,"td",18),t._uU(100,"9"),t.qZA(),t.TgZ(101,"td",18),t._uU(102,"10"),t.qZA(),t.TgZ(103,"td"),t._uU(104,"\u7b49\u7ea7"),t.qZA()(),t.YNc(105,ya,8,5,"tr",3),t.TgZ(106,"tr",19)(107,"td",17),t._uU(108,"\u62a4\u7532"),t.qZA(),t.TgZ(109,"td"),t._UZ(110,"div",20),t.qZA(),t.TgZ(111,"td",21),t._uU(112,"\u5c5e\u6027\u6a21\u7ec4"),t.qZA(),t.TgZ(113,"td"),t._UZ(114,"div",22),t.qZA(),t.TgZ(115,"td",23),t._uU(116,"\u661f\u8c61\u788e\u7247"),t.qZA(),t.TgZ(117,"td"),t._UZ(118,"div",24),t.qZA()(),t.YNc(119,Fa,2,1,"ng-container",9),t.qZA()()(),t._UZ(120,"br")(121,"br")),2&e&&(t.xp6(1),t.Q6J("ngIf",o.mayAnyItemBeBugged),t.xp6(20),t.Q6J("ngForOf",null==o.element?null:o.element.items),t.xp6(1),t.Q6J("ngIf",o.config_assumeClassItemMasterworked),t.xp6(1),t.Q6J("ngIf",!o.config_assumeClassItemMasterworked),t.xp6(1),t.Q6J("ngVar",null==o.element?null:o.element.statsNoMods),t.xp6(5),t.Q6J("ngIf",0!==o.configValues[o.ArmorStat.Mobility]),t.xp6(2),t.Q6J("ngIf",0!==o.configValues[o.ArmorStat.Resilience]),t.xp6(2),t.Q6J("ngIf",0!==o.configValues[o.ArmorStat.Recovery]),t.xp6(2),t.Q6J("ngIf",0!==o.configValues[o.ArmorStat.Discipline]),t.xp6(2),t.Q6J("ngIf",0!==o.configValues[o.ArmorStat.Intellect]),t.xp6(2),t.Q6J("ngIf",0!==o.configValues[o.ArmorStat.Strength]),t.xp6(1),t.Q6J("ngVar",null==o.element?null:o.element.mods),t.xp6(1),t.Q6J("ngVar",null==o.element?null:o.element.mods),t.xp6(1),t.Q6J("ngVar",null==o.element?null:o.element.artifice),t.xp6(1),t.Q6J("ngVar",null==o.element?null:o.element.stats),t.xp6(1),t.Q6J("ngVar",o.calculateRequiredMasterworkCost()),t.xp6(2),t.Q6J("ngVar",o.buildItemIdString(o.element)),t.xp6(22),t.Q6J("ngIf",o.config_assumeClassItemMasterworked),t.xp6(1),t.Q6J("ngVar",o.getItemsThatMustBeMasterworked()),t.xp6(1),t.Q6J("ngIf",(null==o.element?null:o.element.mods).length>0&&t.xi3(71,23,null==o.element?null:o.element.mods,o.StatModifier.NONE)<5),t.xp6(2),t.Q6J("ngIf",o.config_enabledMods.length>0),t.xp6(33),t.Q6J("ngForOf",o.armorStatIds),t.xp6(14),t.Q6J("ngVar",null==o.element?null:o.element.exotic))},dependencies:[T.sg,T.O5,B.lW,N.gM,X.Hw,z.Ye,R.pp,R.ib,R.yz,R.yK,R.u4,Bn.Ou,St.i3,yt,Jn,Hn,Gt,T.JJ,ce],styles:[".element-icon[_ngcontent-%COMP%]{width:22px}.element-icon-mini[_ngcontent-%COMP%]{height:12px}.item-loading-spinner[_ngcontent-%COMP%]{width:22px;height:22px;margin-bottom:6px}.item-icon[_ngcontent-%COMP%]{width:22px}.item-icon-overlay[_ngcontent-%COMP%]{width:22px;margin-left:-22px}.item-icon-container[_ngcontent-%COMP%]{position:relative;contain:layout paint style;box-sizing:border-box;width:var(--item-size);transition:opacity .2s,transform .2s;margin-top:-4px}.item-icon-masterwork-overlay[_ngcontent-%COMP%]{pointer-events:none;box-sizing:border-box;top:-1px;left:-1px;border-width:0;height:24px;width:24px;position:absolute;background-repeat:no-repeat;background-position:center;background-size:22px 22px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAJgklEQVR4AWI8t87oBYCd8rBuGAZi6N1JUQbIrJkiY6bM4EoE1EHvqb+WHsPvG5AJU522JQ/znpY03GzJ3YTovcvcVFcO5WbU8eH/OZ8R91B241c6wEzowJUUZnqlXMiZufrJSs1XUjNBUb6OcvUFF8190fzkGxS2J0ChGPQZDnYAQObJWHbNlCvZIXKxqvHN8KBp22SubByb9EKFGM2hzgyNa47vUzvKvnUToHPOINMFHG6Oo6hb6lhmMump4wROtxSMee8yjC6YI9jOnBYcGn5TZnTdBMB7d0+HB52AeKEb5QL2hQKx8RLk5IkE6eymz9CJFPJIQKxdWZKO5M1u+gw9kPvVJUjqyAt5Z98OMBAI4igO9x97koAAnSY6YHSaAB2nAiyswTbMq+/HAiHv0+4k3Ww1pOvnOvYews1Ow2rGnldEAAAIAAABACAAAAQAgAAAEAAAAgAgPwACAEAAAKiyAfJ7AXALEgAAAuAU5BMgAADki9j/BQCAlkN459OlNu6v0/V43vsAocOvq9kh1n/LX35h+B6EU9DI8fuVh/D48WMRWv742Qgtf/xshBY+fm1cMQgtefwdI5ffA/a9+frC68ox9M3enehIkvJAAC5D9vs/8F+Z/HugkfXJrOfec6QSJBi6O8IO2znX1zdZro39if/K0B8ftp2Hxxfa/vcu6DO8P5x/AaDrvwj4/uDPJDtjP09+ntDze9L+i4DRSEqwtgoQZ9rL3r9Ye/51L+Pw9tF6YuHFPJ/uWBDk2eXZvfb8YyMAwHvg673Z7AvmSF4POeSHmtDnb0xAD3qzN5gLfHsHIOvhktBJ4vOXJqABvJcZnqs5z54R7FF5ODaRiOkIGcXX+OZG7PqJnh6Ev3uOI52Z7tdRUCbdB6AFXHCDcZ3kkf2fGwEN+HGe+3xcE5yBB3umIvk5JnVIggDtnx/1u27XD5CajhBt8tqj9gMahDSan+7C629sxx6DiGmTcxOF304AwOud/SuABnTsZtNABWfaygUynjR3Ld+/GokZp4TO/JsJsEON1uN7OTEPaO9nVFHhHXizTdcN8Fl6BlER5gHk6lghYV8Tgd31DeCPL2icmhISYGsS9P7R9AErAT9JwlWCnuyFsmRuEQurKcBuqyBB72WkXtfmTCD7Au4a4/H7yYAl0N9VY0eERBqRr+Ov51yqCkTEYuuqjL4A+D4p1nvazLzOncHLt1dByhIwqpsHDzcShpIEkM4HZ5+zDEtoRLoKAgrwvwF41/WuAeg+z/1hDzk6VyGPkYW8aLfwarEwr0RJCDr/LUm4+42N8WX6z76Am3R9RoIkGGDvRN7i677TupIhqVZI7vmzPnr+1xLgwT6Bek6QtOE89rMmAGk6d8PhaG9ghSOgeLaAW1FFmYz9viLitcgBCFAgQ2dJ6dcEyLvcKxMuH2za3wW7AeOpqh/k6raz9l49XOIlQozX6pNwNCDnfde6Ckfb2SdeSejLUCXp+L3SPyAlj9FghVVHWV2etlVQ482MNfBHzwe4igSAj7T+4VnmtfdvwBJ5dxoXay/6hrc5gqrnyQCzX5H3fHYVhNd35eOrIWD4zDjZG2ntSmt8CpKTzCAnSEmp6Y7TDthyE9vbjhz7OOYAODg3THqfwEmMIJ29f1TaDwkX+8ckTCf8JAl6EjBviFo70m7v0vtTdD72EqzNgjwIgCJBr+aMRoTzbQMxzBlHIoY5JFCrA9xIZedIZLzZiwScpe1ij/vLyDu8b9p5IH2/V/4hfg+SGIUHr7oSAVhIwgbwIALpgYgLcvokvLU9gfsmgv+37117brJ90PrlHKAtWY24OWLO5/WORGWYAyJeQy8fjceHoOYz5gkTLeAPgL7YU57mHzRBQwA2Cff+5L3s1e9kn8Cuy1hAf9D/EN5YYySVKyQo4tyNSog6XucApWOZeA+Vz6UMNaXotLEiCZsgY4M9KVc/9lmBffwNHSonyQp1H/kpknDEiFeM/U2UybWRmcuEe5IcSPgAqOuQB2b3OiKBMrLumzy33dzy86HG84Z0KCtp/wL4kc7NfFdEDIucK9em8eskRl3q4bUAYc6YXalZJue6/LwkoClD9cYsP5G8d5pkT/U+Cfdd5gpI4jn2EL87eEQiID5tboPq9e+rBLvOA47D/doGj6+lKJpiQC+88WDP33h8JMADL36naIUYJYocsO+NGLOIAJJEjJnWhx7fyM0obAXLta7hmjxfp3dB5IF3AvRJwL3tzG3cjKJ8PkncBPgBocPyNXYEHAkI/md8CFA+eu8/jMiOVc1lpQRBEq38rKTNN/khkJHJXtjE8TW8T50fJO6RxvXaOSBer1j594Rjf5HfNyMSCCFoR43HBtKsirSFSCXILrh/G1p0vRdVSX4vdJvEkZYK+EVu4W0qtluCYtvGHq89MQImAApsLUHniBC0cbjXuclXcvR+o2Dq9ThXzhl3AtCcoabnHPBRdL1vCEwR30hQRAw985hwAZR1IyVcJ3o8p97HqSnE0xz1zpszAfgvSKm634e5tf9HVfaOGNcTJwLiUye2BJrnSk5OEiVZ3unv/7o/zvLT/sGshRy8i4hdyVtvk6mlaNoz4f6/dGvJkRqKgVXuDyuWLLkSZ+CiXIQVZ2CF0h0XbblkRU+hESIjq+yqZ2emJtKbZNK54vlfUBRAgl1A0BUuiyAvmdo/ff/x7QsZF5PsYY2uKw20EKA1NLpuzaNnBmddSCIZqrxIz2ydiEpprucWzrk8WzrZAGQQ5LyL4hJCqhCQ+zOVLFP5Cslzrc88KeGk0LWam1mSprc196WeH8mY/QZcngWxZ3/Y9fhsiiRjcpCzdKjhHSTHqDnCdatee/wFzF40+ph85GP9Ht7969BGjXlj0nBjbkoZJBPAbv+WB2sqWitvZXLrkrGprgluPsf5HvBr+/l1CpD4+8F/4NdnIreI64MMgFf0PUrhDRE3FjLuYLy4y9184Z1eY73w6rr7e2bNu4gvBE9fim7ftEOZkJ5I7TfkY1M+oHyiMF/R9YbcNzW3QfuLk/leIzXWLM/cgcp19FzCemU6cIz/MB9890UWjBGadM7N9QMtlCqqJiFwOjUhdaDQXQCdEwNOpzhYwMpBDrfcFpEXIsjiGJw+9jqidHo7O3+3QVO7+QpIf7ji9cbst7ogrVf8UXTDBslUgkxCCSilwjFdSAkBkSo1EcjSIBXWWvsN9SxF5ebWH3woEIS629sLNhsPabYekYTY/VR0znB/jBdcErKAavL8+A1ICXvgoqroDgAAAABJRU5ErkJggg==)}.negative[_ngcontent-%COMP%]{color:#f08080}.positive[_ngcontent-%COMP%]{color:#6495ed}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child)   td[_ngcontent-%COMP%]{border-bottom:rgba(240,248,255,.08) solid .5px}.result-total-gear[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:aliceblue solid 1px!important}.result-total-all[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .result-total-gear[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-top:aliceblue double}.buttonContainer[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.buttonContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-of-type){margin-right:6px;margin-bottom:3px}.result-total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-right:14px}.statIcon[_ngcontent-%COMP%]{position:absolute;height:14px;margin-left:2px;top:3px}.item-info-menu-btn[_ngcontent-%COMP%]{height:22px!important;width:22px!important;line-height:22px!important;top:-4px;left:-4px}.item-info-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px}.item-moved-icon[_ngcontent-%COMP%]{color:#7fffd4}.report-problem-icon[_ngcontent-%COMP%]{color:#f08080}.invalid-item-box[_ngcontent-%COMP%]{text-align:center;margin-right:auto;margin-left:auto;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:15px;line-height:20px}.text-centered[_ngcontent-%COMP%]{text-align:center!important}.specificStatTable[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 0}.highlight-row[_ngcontent-%COMP%]{background-color:#6e6e6e21}tr.legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:3px}.tier-column[_ngcontent-%COMP%]{min-width:27px}.energy-bar[_ngcontent-%COMP%]{width:25px;height:10px;border:white solid 2px;position:relative}.energy-bar.normal[_ngcontent-%COMP%]{background-color:#fff}.energy-bar.mod[_ngcontent-%COMP%]{background-color:gray;border:white ridge 2px}.energy-bar.config[_ngcontent-%COMP%]{background-color:#a3b1c2;border:white ridge 2px}.energy-bar.over100[_ngcontent-%COMP%]{border-color:#ff5e5e;width:10px}.item-stat-container[_ngcontent-%COMP%]{position:relative}.item-stat-bonus[_ngcontent-%COMP%]{position:absolute;right:20px;font-size:x-small}.item-name-mw[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#ffbc00}.text-mw[_ngcontent-%COMP%], .item-stat-bonus[_ngcontent-%COMP%]{color:#ffd86a}app-armor-perk-icon[_ngcontent-%COMP%]{width:23px;height:23px;position:absolute;top:-14px;left:0}td.sum-tiers[_ngcontent-%COMP%]{text-align:center!important;border-left:#6e6e6e solid 1px}.currency-icon[_ngcontent-%COMP%]{width:16px;position:absolute;left:0}.currency-icon-container[_ngcontent-%COMP%]{position:relative;padding-left:19px;padding-right:10px}.icon-column[_ngcontent-%COMP%]{padding-left:4px}"]}),n})();var le=_(3238),Da=_(8729);function Sa(n,i){1&n&&(t.TgZ(0,"mat-icon",6),t._uU(1,"add_circle_outline "),t.qZA())}function Ia(n,i){1&n&&(t.TgZ(0,"mat-icon",7),t._uU(1,"remove_circle_outline "),t.qZA())}function Oa(n,i){1&n&&(t.TgZ(0,"mat-icon",8),t._uU(1,"change_history "),t.qZA())}function Ma(n,i){if(1&n&&(t.TgZ(0,"mat-list-item"),t.YNc(1,Sa,2,0,"mat-icon",2),t.YNc(2,Ia,2,0,"mat-icon",3),t.YNc(3,Oa,2,0,"mat-icon",4),t.TgZ(4,"div",5)(5,"p"),t._uU(6),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",0===e.type),t.xp6(1),t.Q6J("ngIf",1===e.type),t.xp6(1),t.Q6J("ngIf",2===e.type),t.xp6(3),t.Oqu(e.text)}}function ka(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t.YNc(3,Ma,7,4,"mat-list-item",0),t.TgZ(4,"mat-list-item"),t._UZ(5,"br")(6,"mat-divider"),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.AsE("",e.version,", released on ",e.date,""),t.xp6(1),t.Q6J("ngForOf",e.entries)}}let me=(()=>{class n{constructor(e){this.changelog=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-changelog-list"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-subheader","",1,"title"],["mat-list-icon","","matTooltip","A new function has been added.",4,"ngIf"],["mat-list-icon","","matTooltip","A function has been removed.",4,"ngIf"],["mat-list-icon","","matTooltip","Something has been modified.",4,"ngIf"],["mat-line","",1,"e"],["mat-list-icon","","matTooltip","A new function has been added."],["mat-list-icon","","matTooltip","A function has been removed."],["mat-list-icon","","matTooltip","Something has been modified."]],template:function(e,o){1&e&&(t.TgZ(0,"mat-list"),t.YNc(1,ka,7,3,"ng-container",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.changelog.changelogData))},dependencies:[T.sg,T.O5,N.gM,X.Hw,Et.i$,Et.Tg,le.X2,Et.Nh,Et.gs,Da.d],styles:["[_nghost-%COMP%]     .mat-line{word-wrap:break-word!important;white-space:pre-wrap!important}[_nghost-%COMP%]     .mat-list .mat-list-item{height:initial!important}.title[_ngcontent-%COMP%]{text-decoration:underline;font-size:20px}.e[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-child{padding-top:12px}"]}),n})();function Ba(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}let Ua=(()=>{class n{constructor(){this.knownIssues=["When you click buttons on the page too fast are able to select an invalid state with no results. Just undo your changed settings. And be patient - the calculation is an expensive task.","Sometimes duplicate results are given. This happens when the inventory got updated twice (Race Condition). Only reported once, and not really a problem."],this.changelog=oe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-help-page"]],decls:107,vars:1,consts:[["id","help-container"],["color","primary","fxShow","false","fxShow.lt-md","true","mat-raised-button","","routerLink","/",1,"returnbutton"],["href","https://twitter.com/MijagoCoding/","target","_blank","matTooltip","\u5c0f\u84dd\u9e1f"],["alt","Me on twitter","src","assets/logo-twitter.png",1,"logo-twitter"],["href","https://ko-fi.com/mijago","target","_blank","matTooltip","\u6253\u8d4f"],["alt","Ko-Fi","src","assets/logo-kofi.png",1,"logo-twitter"],["href","http://discord.d2armorpicker.com/","target","_blank","matTooltip","\u52a0\u5165 discord \u9891\u9053"],["alt","Discord","src","assets/logo-discord.png",1,"logo-twitter"],["href","https://github.com/Mijago/D2-Gear-Calculator","target","_blank"],["href","https://mijago.github.io/D2GearCalculator/","target","_blank"],["href","https://twitter.com/MijagoCoding/","target","_blank"],["href","https://ko-fi.com/mijago","target","_blank"],[1,"preview-image-container"],["alt","Preview of the results table","src","assets/resultOverviewWithFlex-cn.png",1,"preview-image"],["fxLayout","row","id","armor-image-container"],["src","assets/armor-images/kabrs_battlecage.png"],["src","assets/armor-images/lightkin_gauntlets.png"],["src","assets/armor-images/phobos_warden_helm.png"],["src","assets/armor-images/wild_hunt_vest.png"],[4,"ngFor","ngForOf"],[1,"changelog-table-container"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2," Return to D2ArmorPicker "),t.qZA(),t.TgZ(3,"mat-card")(4,"mat-card-title")(5,"span"),t._uU(6," \u5173\u4e8e D2AP "),t.TgZ(7,"small"),t._uU(8," \u7531 Mijago \u5f00\u53d1"),t.qZA(),t.TgZ(9,"a",2),t._UZ(10,"img",3),t.qZA(),t.TgZ(11,"a",4),t._UZ(12,"img",5),t.qZA(),t.TgZ(13,"a",6),t._UZ(14,"img",7),t.qZA(),t._uU(15," \uff0c"),t.TgZ(16,"small"),t._uU(17,"\u8428\u52d2\u4f60\u739b\u82ac\u5c3c\u4e00\u534a#9836 \u6c49\u5316"),t.qZA()()(),t.TgZ(18,"mat-card-content"),t._uU(19," D2ArmorPicker\uff08\u7b80\u79f0 D2AP\uff09\u662f\u4e00\u4e2a\u5c0f\u578b web \u5e94\u7528\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5feb\u901f\u627e\u5230\u8fbe\u6210\u76ee\u6807\u5c5e\u6027\u6240\u9700\u7684\u76d4\u7532\u3002 "),t._UZ(20,"br")(21,"br"),t._uU(22," \u7531\u4e8e\u6211\u7ecf\u5e38\u73a9\u7a81\u88ad\uff0c\u56e0\u6b64\u6211\u5e0c\u671b\u53ef\u4ee5\u56f4\u7ed5\u5f02\u57df\u62a4\u7532\u9884\u5148\u6784\u5efa\u51fa\u591a\u4e2a build \u4ee5\u4fbf\u5207\u6362\uff0c\u8fd9\u6837\u5b50\u53ef\u4ee5\u4f7f\u6211\u4e0d\u81f3\u4e8e\u6210\u4e3a\u706b\u529b\u6218\u961f\u7684\u8d1f\u62c5\uff0c\u8fd9\u662f\u6211\u5f00\u53d1\u7684\u521d\u8877\u3002 "),t._UZ(23,"br")(24,"br"),t.TgZ(25,"a",8),t._uU(26,"\u521d\u7248"),t.qZA(),t._uU(27,"\u4f7f\u7528 Python \u6784\u5efa\uff0c\u51e0\u5929\u4e4b\u540e\uff0c\u6211\u4f7f\u7528 web \u6280\u672f\u5c06\u5b83\u53d8\u6210\u4e86 "),t.TgZ(28,"a",9),t._uU(29,"web \u5e94\u7528"),t.qZA(),t._uU(30,"\u3002 \u6211\u7684\u670b\u53cb\u4eec\u89c9\u5f97\u5f88\u597d\u7528\uff0c\u4f46\u662f\u5b83\u6ca1\u6709 Bungie \u7684 API \u6743\u9650\uff0c \u56e0\u6b64\u6211\u5f00\u53d1\u4e86\u7b2c\u4e00\u7248\u7684 D2AP\uff0c\u5728\u5f97\u5230\u4e86\u8d8a\u6765\u8d8a\u591a\u73a9\u5bb6\u7684\u559c\u7231\u4e4b\u540e\uff0c\u6211\u91cd\u5199\u4e86\u5b83\uff0c\u5c31\u662f 2.0 \u7248\u672c\uff01 "),t._UZ(31,"br")(32,"br"),t._uU(33," \u6211\u4e00\u76f4\u5728\u5bf9 D2AP \u66f4\u65b0\u8fed\u4ee3\uff0c\u4f46\u8bf7\u6ce8\u610f\uff0c\u6211\u53ea\u80fd\u7528\u4e1a\u4f59\u65f6\u95f4\u8fdb\u884c\u8fd9\u4e9b\u5de5\u4f5c\u3002\u6b22\u8fce\u5728 Twitter "),t.TgZ(34,"a",10),t._UZ(35,"img",3),t.qZA(),t._uU(36,"\u5173\u6ce8\u6211\uff0c \u6211\u5076\u5c14\u4f1a\u5728\u4e0a\u9762\u53d1\u5e03\u66f4\u65b0\u3002\u5982\u679c D2AP \u5e2e\u5230\u4e86\u4f60\uff0c\u8bf7\u5728 "),t.TgZ(37,"a",11),t._uU(38,"ko-fi.com"),t.qZA(),t._uU(39," \u8bf7\u6211\u559d\u676f\u5496\u5561\u5427\uff01 "),t.qZA()(),t.TgZ(40,"mat-card")(41,"mat-card-title"),t._uU(42," \u6211\u8be5\u600e\u6837\u4f7f\u7528 D2AP\uff1f "),t.qZA(),t.TgZ(43,"mat-card-content"),t._uU(44," \u4ee5\u4e0b\u662f\u4f7f\u7528\u6b65\u9aa4\uff1a "),t.TgZ(45,"ol")(46,"li"),t._uU(47,"\u767b\u5f55\u3002\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86\uff01"),t.qZA(),t.TgZ(48,"li"),t._uU(49," [\u53ef\u9009]\u9009\u4e2d\u4e00\u4ef6\u4f60\u8981\u7528\u7684\u5f02\u57df\u62a4\u7532\uff0cD2AP \u4f1a\u5c55\u793a\u51fa\u4ec5\u5305\u542b\u5b83\u7684\u62a4\u7532\u7ec4\u5408\u7ed3\u679c\uff0c\u4f60\u968f\u65f6\u53ef\u4ee5\u53d6\u6d88\u6b64\u9009\u4e2d "),t.qZA(),t.TgZ(50,"li"),t._uU(51," [\u53ef\u9009]\u9009\u62e9\u989d\u5916\u7684\u6a21\u7ec4\u6216\u8005\u661f\u8c61\u788e\u7247\u6765\u63d0\u4f9b\u5c5e\u6027\u52a0\u6210/\u60e9\u7f5a\uff0c\u8fd9\u5f88\u91cd\u8981 "),t.qZA(),t.TgZ(52,"li"),t._uU(53," \u9009\u62e9\u4f60\u60f3\u8981\u7684\u5c5e\u6027\uff0c\u8fd9\u662f D2AP \u7684\u6838\u5fc3\u529f\u80fd\u3002\u4f60\u53ea\u9700\u8981\u628a\u6062\u590d\u8bbe\u7f6e\u4e3a 100\uff0c\u5b83\u5c31\u4f1a\u4e3a\u4f60\u663e\u793a\u6240\u6709 100 \u6062\u590d\u7684\u62a4\u7532\u7ec4\u5408\u3002"),t.TgZ(54,"i"),t._uU(55,"\u6ce8\u610f\uff1aD2AP \u4f1a\u81ea\u52a8\u6dfb\u52a0\u62a4\u7532\u5c5e\u6027\u6a21\u7ec4\u3002"),t.qZA()(),t.TgZ(56,"li"),t._uU(57," \u73b0\u5728\u67e5\u770b\u7ed3\u679c\u5217\u8868\uff0c\u5728\u5927\u591a\u6570\u8bbe\u5907\u4e0a\u5b83\u5e94\u8be5\u5728\u53f3\u4fa7\uff0c\u5728\u5c0f\u5c4f\u5e55\u8bbe\u5907\u4e0a\uff0c\u5b83\u53ef\u80fd\u4f1a\u5728\u5c5e\u6027\u8bbe\u7f6e\u7684\u4e0b\u65b9\u3002\u8868\u683c\u5217\u51fa\u4e86\u591a\u4e2a\u62a4\u7532\u7ec4\u5408\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u5bf9\u8868\u683c\u8fdb\u884c\u6392\u5e8f\u3002 "),t._UZ(58,"br"),t.TgZ(59,"b"),t._uU(60,"\u70b9\u51fb"),t.qZA(),t._uU(61,"\u67d0\u4e00\u6761\u67e5\u770b\u8be6\u60c5: "),t.TgZ(62,"div",12),t._UZ(63,"img",13),t.qZA(),t._uU(64," \u4e0a\u9762\u4f8b\u5b50\u5c55\u793a\u4e86\u56f4\u7ed5\u708e\u9633\u62a4\u8155\u6784\u5efa\u7684 build\uff0c\u8981\u8fbe\u6210\u8fd9\u4e9b\u5c5e\u6027\uff0c\u6211\u9700\u8981\u628a\u8fd9\u4e9b\u62a4\u7532\u79fb\u52a8\u5230 \u88c5\u5907\u680f\u5e76\u88c5\u5907\u4e0a\u5b83\u4eec\uff0c\u5c06\u5b83\u4eec\u5347\u7ea7\u5230"),t.TgZ(65,"i"),t._uU(66,"\u5927\u5e08\u6770\u4f5c"),t.qZA(),t._uU(67,"\uff0c\u7136\u540e"),t.TgZ(68,"i"),t._uU(69,"\u6dfb\u52a0\u8868\u683c\u4e2d\u663e\u793a\u7684\u6a21\u7ec4"),t.qZA(),t._uU(70,"\u3002 "),t.qZA()()()(),t.TgZ(71,"mat-card")(72,"mat-card-title"),t._uU(73," \u4ece\u54ea\u91cc\u83b7\u53d6\u9ad8\u5c5e\u6027\u62a4\u7532\uff1f "),t.qZA(),t.TgZ(74,"mat-card-content"),t._uU(75," \u5728\u8fd9\u91cc\u6211\u63d0\u4f9b\u4e86\u9ad8\u5c5e\u6027\u62a4\u7532\u6765\u6e90\u7684\u5217\u8868\u3002 \u5b83\u53ef\u80fd\u5e76\u4e0d\u5b8c\u6574\uff0c\u4f46\u5374\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u8d77\u70b9\u3002 "),t._UZ(76,"br"),t.TgZ(77,"i"),t._uU(78,"\u6700\u8fd1\u66f4\u65b0\u4e8e 2022 \u5e74 2 \u6708 8 \u65e5"),t.qZA(),t.TgZ(79,"ul")(80,"li"),t._uU(81,"\u5237\u4f20\u8bf4\u6c38\u6052\u6311\u6218"),t.qZA(),t.TgZ(82,"li"),t._uU(83,"\u5b8c\u6210\u5f02\u7aef\u6df1\u6e0a\u5730\u7262\uff0c\u5c3e\u738b\u4f1a\u6389\u843d\u53cc 16 \u751a\u81f3\u66f4\u9ad8\u7684\u62a4\u7532"),t.qZA(),t.TgZ(84,"li"),t._uU(85,"\u5237\u4e00\u5806\u6218\u5229\u54c1\u4ee3\u5e01\uff0c\u524d\u5f80\u5927\u5e08\u73bb\u7483\u62f1\u9876\u5c3e\u738b\u7bb1\u5b50\u4e70\u62a4\u7532\u3002"),t.qZA(),t.TgZ(86,"li"),t._uU(87,"\u8be5\u5217\u8868\u4f1a\u5728\u300a\u90aa\u59ec\u9b45\u5f71\u300b\u7684\u67d0\u4e2a\u65f6\u5019\u66f4\u65b0\uff01"),t.qZA()(),t._uU(88," \u4e00\u4e9b\u597d\u7684\u62a4\u7532\u957f\u8fd9\u6837\uff1a "),t.TgZ(89,"div",14),t._UZ(90,"img",15)(91,"img",16)(92,"img",17)(93,"img",18),t.qZA()()(),t.TgZ(94,"mat-card")(95,"mat-card-title"),t._uU(96,"\u5df2\u77e5\u95ee\u9898"),t.qZA(),t.TgZ(97,"mat-card-content")(98,"ul"),t.YNc(99,Ba,2,1,"li",19),t.qZA()()(),t.TgZ(100,"mat-card")(101,"mat-card-title"),t._uU(102,"\u66f4\u65b0\u65e5\u5fd7"),t.qZA(),t.TgZ(103,"mat-card-content",20),t._UZ(104,"app-changelog-list"),t.qZA()(),t.TgZ(105,"a",1),t._uU(106," Return to D2ArmorPicker "),t.qZA()()),2&e&&(t.xp6(99),t.Q6J("ngForOf",o.knownIssues))},dependencies:[T.sg,g.xw,j.b8,B.zs,Z.a8,Z.dn,Z.n5,N.gM,I.yS,me],styles:["#help-container[_ngcontent-%COMP%]{max-width:800px;margin-left:auto;margin-right:auto}.changelog-table-container[_ngcontent-%COMP%]{max-height:700px;overflow-y:scroll}mat-card[_ngcontent-%COMP%]{margin-bottom:8px}#armor-image-container[_ngcontent-%COMP%]{overflow:auto}#armor-image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:not(:last-of-type){margin-right:20px}#armor-image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:300px}.preview-image-container[_ngcontent-%COMP%]{max-width:600px}.preview-image[_ngcontent-%COMP%]{max-width:100%}.returnbutton[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;width:100%}.changelog-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type{min-width:80px}.changelog-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(2){min-width:40px}.changelog-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:#6e6e6e solid 1px}a[_ngcontent-%COMP%]{color:#99afe3}a[_ngcontent-%COMP%]:visited{color:#7294dc}"]}),n})();var Zt=_(3217),_t=_(811);const It=[1.44,1.276,1.144,1,.9488,.9024,.8608,.8224,.798,.776,.7664],L=[1.25,1.14,1.04,1,.83,.72,.62,.55,.5,.455,.39],At=[1.427,1.256,1.11,1,.91461,.829,.7683,.72,.622,.561,.5],Y={[u.Titan]:["\u70c8\u7130\u6218\u9524","\u51b0\u5ddd\u9707\u51fb, \u54e8\u5175\u5723\u76fe, \u6d69\u52ab\u4e4b\u62f3","\u71c3\u70e7\u953b\u9524, \u96f7\u9706\u51b2\u51fb","","\u9ece\u660e\u62a4\u7f69"],[u.Hunter]:["\u9b3c\u7075\u5229\u5203","\u7535\u5f27\u6cd5\u6756, \u9ec4\u91d1\u67aa","\u6697\u5f71\u7bad\u77e2\uff1a\u83ab\u6bd4\u4e4c\u65af\u7bad\u888b","\u6697\u5f71\u7bad\u77e2\uff1a\u72e9\u730e\u9677\u9631, \u5229\u5203\u5f39\u5e55, \u6c89\u9ed8\u72c2\u5578",""],[u.Warlock]:["\u9ece\u660e","\u96f7\u9706\u4e07\u94a7, \u6df7\u6c8c\u4e4b\u89e6, \u65b0\u661f\u6298\u8dc3, \u4e25\u51ac\u4e4b\u6012","\u65b0\u661f\u70b8\u5f39","","\u5149\u7130\u4e4b\u4e95"],[u.None]:["","","","","","","","","","",""]},M={[u.Titan]:["\u7c98\u6027\u7535\u6d46\u624b\u96f7","\u51b0\u5ddd\u624b\u96f7, \u91cf\u5b50\u5149\u675f","\u6025\u51bb\u624b\u96f7, \u6da1\u6d41\u624b\u96f7, \u6563\u5c04\u624b\u96f7, \u78c1\u6027\u624b\u96f7, \u6291\u5236\u624b\u96f7, \u71c3\u70e7\u624b\u96f7, \u70c8\u65e5\u624b\u96f7, \u95ea\u7535\u624b\u96f7, \u8109\u51b2\u624b\u96f7, \u5f39\u8df3\u624b\u96f7","\u865a\u7a7a\u5899\u58c1, \u94dd\u70ed\u624b\u96f7, \u7535\u5149\u624b\u96f7, \u98ce\u66b4\u624b\u96f7","\u865a\u7a7a\u5c16\u523a, \u611f\u5e94\u624b\u96f7, \u8702\u7fa4\u624b\u96f7, \u95ea\u5149\u624b\u96f7","\u6cbb\u6108\u624b\u96f7","\u878d\u5408\u624b\u96f7","\u66ae\u57df\u624b\u96f7, \u70c8\u7130\u624b\u96f7"],[u.Hunter]:["\u7c98\u6027\u7535\u6d46\u624b\u96f7","\u51b0\u5ddd\u624b\u96f7, \u91cf\u5b50\u5149\u675f","\u6025\u51bb\u624b\u96f7, \u6da1\u6d41\u624b\u96f7, \u6563\u5c04\u624b\u96f7, \u78c1\u6027\u624b\u96f7, \u6291\u5236\u624b\u96f7, \u71c3\u70e7\u624b\u96f7, \u70c8\u65e5\u624b\u96f7, \u95ea\u7535\u624b\u96f7, \u8109\u51b2\u624b\u96f7, \u5f39\u8df3\u624b\u96f7","\u865a\u7a7a\u5899\u58c1, \u94dd\u70ed\u624b\u96f7, \u7535\u5149\u624b\u96f7, \u98ce\u66b4\u624b\u96f7","\u865a\u7a7a\u5c16\u523a, \u611f\u5e94\u624b\u96f7, \u8702\u7fa4\u624b\u96f7, \u95ea\u5149\u624b\u96f7","\u6cbb\u6108\u624b\u96f7","\u878d\u5408\u624b\u96f7","\u66ae\u57df\u624b\u96f7, \u70c8\u7130\u624b\u96f7"],[u.Warlock]:["\u7c98\u6027\u7535\u6d46\u624b\u96f7","\u51b0\u5ddd\u624b\u96f7, \u91cf\u5b50\u5149\u675f","\u6025\u51bb\u624b\u96f7, \u6da1\u6d41\u624b\u96f7, \u6563\u5c04\u624b\u96f7, \u78c1\u6027\u624b\u96f7, \u6291\u5236\u624b\u96f7, \u71c3\u70e7\u624b\u96f7, \u70c8\u65e5\u624b\u96f7, \u95ea\u7535\u624b\u96f7, \u8109\u51b2\u624b\u96f7, \u5f39\u8df3\u624b\u96f7","\u865a\u7a7a\u5899\u58c1, \u94dd\u70ed\u624b\u96f7, \u7535\u5149\u624b\u96f7, \u98ce\u66b4\u624b\u96f7","\u865a\u7a7a\u5c16\u523a, \u611f\u5e94\u624b\u96f7, \u8702\u7fa4\u624b\u96f7, \u95ea\u5149\u624b\u96f7","\u6cbb\u6108\u624b\u96f7","\u878d\u5408\u624b\u96f7","\u66ae\u57df\u624b\u96f7, \u70c8\u7130\u624b\u96f7"],[u.None]:["","","","","","","","","",""]},U={[u.Titan]:["\u6218\u6817\u6253\u51fb","","","\u5723\u76fe\u6295\u63b7","\u6295\u63b7\u98de\u9524, \u6218\u9524\u6253\u51fb, \u5723\u76fe\u731b\u51fb, \u5730\u9707\u6253\u51fb, \u5f39\u9053\u731b\u51fb, \u96f7\u9706\u4e00\u51fb","",""],[u.Hunter]:["\u67af\u840e\u4e4b\u5203","\u6743\u8861\u98de\u5200","","\u611f\u5e94\u7206\u70b8\u98de\u5200, \u88c2\u7a7a\u6253\u51fb, \u8ff7\u5931\u4e00\u51fb","\u8f7b\u8d28\u98de\u5200, \u9677\u9631\u70b8\u5f39","\u98de\u5200\u620f\u6cd5","\u7ec4\u5408\u6253\u51fb"],[u.Warlock]:["\u534a\u5f71\u51b2\u51fb, \u7403\u5f62\u95ea\u7535","","","\u661f\u754c\u4e4b\u706b","\u711a\u70e7\u54cd\u6307, \u53e3\u888b\u5947\u70b9, \u8fde\u9501\u95ea\u7535","",""],[u.None]:["","","","","","","","","","",""]};function Ra(n,i){if(1&n&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("\u76f8\u8f83\u7b49\u7ea7 ",e.differenceTier,"")}}function Na(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=i.ngVar,o=t.oxw(2).ngVar,a=t.oxw(4).$implicit;t.ekj("good",o*a.benefitDirection>0)("bad",o*a.benefitDirection<0),t.xp6(1),t.AsE(" ",e>0?"+":"","",a.formatting(e)," ")}}function qa(n,i){if(1&n&&(t.TgZ(0,"td"),t.YNc(1,Na,2,6,"span",8),t.qZA()),2&n){const e=t.oxw(2).ngVar,o=t.oxw().ngVar;t.xp6(1),t.Q6J("ngVar",-(e-o))}}function Ja(n,i){if(1&n&&(t.TgZ(0,"td")(1,"span"),t._uU(2),t.ALo(3,"number"),t.qZA()()),2&n){const e=t.oxw().ngVar,o=t.oxw(4).$implicit;t.xp6(1),t.ekj("good",e*o.benefitDirection>0)("bad",e*o.benefitDirection<0),t.xp6(1),t.AsE(" (",e>0?"+":"","",t.xi3(3,6,100*e,"1.0-0"),"%) ")}}function La(n,i){if(1&n&&(t.ynx(0),t.YNc(1,qa,2,1,"td",6),t.YNc(2,Ja,4,9,"td",6),t.BQk()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngIf",e.differenceTier!==e.tier),t.xp6(1),t.Q6J("ngIf",e.differenceTier!==e.tier)}}function Ya(n,i){if(1&n&&(t.ynx(0),t.YNc(1,La,3,2,"ng-container",7),t.BQk()),2&n){const e=i.ngVar,o=t.oxw().ngVar,a=t.oxw(3);t.xp6(1),t.Q6J("ngVar",a.getPercentageDifference(o,e))}}function Qa(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,Ya,2,1,"ng-container",7),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.BQk()),2&n){const e=i.ngVar,o=t.oxw(2).$implicit,a=t.oxw();t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.formatting(e)),t.xp6(1),t.Q6J("ngVar",o.valueFunction(a.differenceTier)),t.xp6(2),t.hij(" ",o.description?o.description[a.characterClass]:""," ")}}function Va(n,i){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,Qa,8,4,"ng-container",7),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngVar",e.valueFunction(o.tier))}}function Ha(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Va,2,1,"tr",6),t.BQk()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.description||!!e.description[o.characterClass])}}var y=(()=>{return(n=y||(y={}))[n.Positive=1]="Positive",n[n.Negative=-1]="Negative",y;var n})();const Kt=n=>(Math.round(100*n)/100).toFixed(2)+"m/s";function O(n){var i=function Pa(n){n=Math.abs(n);var i=Math.floor(n/60),e=Math.floor(n-60*i);return`${i}:${e<10?"0":""}${e}`}(n);return n<0&&(i="-"+i),i}const Wa={[r.WB.Mobility]:[{name:"\u901f\u5ea6\u52a0\u6210",benefitDirection:y.Positive,valueFunction:n=>.04*n,formatting:n=>Math.floor(100*n)+"%"},{name:"\u6b65\u884c\u79fb\u52a8\u901f\u5ea6",benefitDirection:y.Positive,valueFunction:n=>5*(1+.04*n),formatting:Kt},{name:"\u4fa7\u5411\u79fb\u52a8\u901f\u5ea6",benefitDirection:y.Positive,valueFunction:n=>4.25*(1+.04*n),formatting:Kt},{name:"\u8e72\u4f0f\u79fb\u52a8\u901f\u5ea6",benefitDirection:y.Positive,valueFunction:n=>2.75*(1+.04*n),formatting:Kt},{name:"\u5c04\u624b\u95ea\u8eab",benefitDirection:y.Negative,valueFunction:n=>29*At[n],formatting:n=>O(n)},{name:"\u8d4c\u5f92\u95ea\u8eab",benefitDirection:y.Negative,valueFunction:n=>38*At[n],formatting:n=>O(n)},{name:"\u7279\u6280\u95ea\u8eab",benefitDirection:y.Negative,valueFunction:n=>82*At[n],formatting:n=>O(n)}],[r.WB.Resilience]:[{name:"\u603b\u751f\u547d\u503c",benefitDirection:y.Positive,valueFunction:n=>[185,186,187,188,189,190,192,194,196,198,200][n],formatting:n=>n.toString()},{name:"PvE \u4f24\u5bb3\u51cf\u514d",benefitDirection:y.Positive,valueFunction:n=>[0,1,2,3,4,8,14,20,26,32,40][n]/100,formatting:n=>Math.floor(100*n)+"%"},{name:"\u96c6\u7ed3\u5c4f\u969c",benefitDirection:y.Negative,valueFunction:n=>32*At[n],formatting:n=>O(n)},{name:"\u5dcd\u5ce8\u5c4f\u969c",benefitDirection:y.Negative,valueFunction:n=>40*At[n],formatting:n=>O(n)},{name:"\u5821\u5792\u62a4\u76fe",benefitDirection:y.Negative,valueFunction:n=>82*At[n],formatting:n=>O(n)}],[r.WB.Recovery]:[{name:"\u6062\u590d\u6ee1\u751f\u547d\u503c\u8017\u65f6",benefitDirection:y.Negative,valueFunction:n=>[9,8.8,8.6,8.4,8.2,8,7.8,7.4,7,6.6,6][n],formatting:n=>(Math.round(100*n)/100).toFixed(1)+"s"},{name:"\u88c2\u75d5",benefitDirection:y.Negative,valueFunction:n=>82*At[n],formatting:n=>O(n)}],[r.WB.Discipline]:[{name:"1 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(182*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][0],[u.Warlock]:M[u.Warlock][0],[u.Titan]:M[u.Titan][0]}},{name:"2 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(152*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][1],[u.Warlock]:M[u.Warlock][1],[u.Titan]:M[u.Titan][1]}},{name:"3 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(121*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][2],[u.Warlock]:M[u.Warlock][2],[u.Titan]:M[u.Titan][2]}},{name:"4 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(105*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][3],[u.Warlock]:M[u.Warlock][3],[u.Titan]:M[u.Titan][3]}},{name:"5 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(91*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][4],[u.Warlock]:M[u.Warlock][4],[u.Titan]:M[u.Titan][4]}},{name:"6 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(82*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][5],[u.Warlock]:M[u.Warlock][5],[u.Titan]:M[u.Titan][5]}},{name:"7 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(73*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][6],[u.Warlock]:M[u.Warlock][6],[u.Titan]:M[u.Titan][6]}},{name:"8 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(64*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:M[u.Hunter][7],[u.Warlock]:M[u.Warlock][7],[u.Titan]:M[u.Titan][7]}}],[r.WB.Intellect]:[{name:"1 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(625*It[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:Y[u.Hunter][0],[u.Warlock]:Y[u.Warlock][0],[u.Titan]:Y[u.Titan][0]}},{name:"2 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(556*It[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:Y[u.Hunter][1],[u.Warlock]:Y[u.Warlock][1],[u.Titan]:Y[u.Titan][1]}},{name:"3 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(500*It[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:Y[u.Hunter][2],[u.Warlock]:Y[u.Warlock][2],[u.Titan]:Y[u.Titan][2]}},{name:"4 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(455*It[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:Y[u.Hunter][3],[u.Warlock]:Y[u.Warlock][3],[u.Titan]:Y[u.Titan][3]}},{name:"5 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(417*It[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:Y[u.Hunter][4],[u.Warlock]:Y[u.Warlock][4],[u.Titan]:Y[u.Titan][4]}}],[r.WB.Strength]:[{name:"1 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(113*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:U[u.Hunter][0],[u.Warlock]:U[u.Warlock][0],[u.Titan]:U[u.Titan][0]}},{name:"2 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(109*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:U[u.Hunter][1],[u.Warlock]:U[u.Warlock][1],[u.Titan]:U[u.Titan][1]}},{name:"3 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(106*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:U[u.Hunter][2],[u.Warlock]:U[u.Warlock][2],[u.Titan]:U[u.Titan][2]}},{name:"4 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(100*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:U[u.Hunter][3],[u.Warlock]:U[u.Warlock][3],[u.Titan]:U[u.Titan][3]}},{name:"5 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(90*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:U[u.Hunter][4],[u.Warlock]:U[u.Warlock][4],[u.Titan]:U[u.Titan][4]}},{name:"6 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(82*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:U[u.Hunter][5],[u.Warlock]:U[u.Warlock][5],[u.Titan]:U[u.Titan][5]}},{name:"7 \u7ea7",benefitDirection:y.Negative,valueFunction:n=>Math.round(45*L[n]),formatting:n=>O(n),description:{[u.None]:"",[u.Hunter]:U[u.Hunter][6],[u.Warlock]:U[u.Warlock][6],[u.Titan]:U[u.Titan][6]}}]};let ja=(()=>{class n{constructor(e){this.config=e,this.ArmorStatNames=r.Mi,this.tier=0,this.differenceTier=0,this.stat=r.WB.Mobility,this.entries=[]}get characterClass(){return this.config.readonlyConfigurationSnapshot.characterClass}ngOnInit(){this.entries=Wa[this.stat]}getPercentageDifference(e,o){return(e-o)/Math.max(1,o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-stat-cooldown-tooltip"]],inputs:{tier:"tier",differenceTier:"differenceTier",stat:"stat"},decls:13,vars:5,consts:[[1,"tooltip-container"],["colspan","3",1,"exotic-name"],[2,"min-width","50px"],["style","min-width: 50px","colspan","2",4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","2",2,"min-width","50px"],[4,"ngIf"],[4,"ngVar"],[3,"good","bad",4,"ngVar"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t._uU(5),t.qZA()(),t.TgZ(6,"tr")(7,"th",2),t._uU(8,"\u5c5e\u6027"),t.qZA(),t.TgZ(9,"th",2),t._uU(10),t.qZA(),t.YNc(11,Ra,2,1,"th",3),t.qZA(),t.YNc(12,Ha,2,1,"ng-container",4),t.qZA()()()),2&e&&(t.xp6(5),t.AsE("",o.tier," \u7ea7 ",o.ArmorStatNames[o.stat],""),t.xp6(5),t.hij("\u7b49\u7ea7 ",o.tier,""),t.xp6(1),t.Q6J("ngIf",o.differenceTier!==o.tier),t.xp6(1),t.Q6J("ngForOf",o.entries))},dependencies:[T.sg,T.O5,yt,T.JJ],styles:["[_nghost-%COMP%]{max-width:420px}.tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.exotic-name[_ngcontent-%COMP%]{color:#eedb9e}.good[_ngcontent-%COMP%]{color:#58b458}.bad[_ngcontent-%COMP%]{color:#ff6b6b}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:7px 3px}th[_ngcontent-%COMP%]{white-space:nowrap}"]}),n})(),za=(()=>{class n{constructor(e,o,a){this._overlay=e,this._overlayPositionBuilder=o,this._elementRef=a,this.showToolTip=!0,this.tooltipTier=0,this.tooltipStat=r.WB.Mobility,this.tooltipDifferenceTier=0}ngOnInit(){if(!this.showToolTip)return;const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){if(this._overlayRef&&!this._overlayRef.hasAttached()){const e=this._overlayRef.attach(new Qt.C5(ja));e.instance.tier=this.tooltipTier,e.instance.differenceTier=this.tooltipDifferenceTier,e.instance.stat=this.tooltipStat}}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(gt.aV),t.Y36(gt.wJ),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","statCooldownTooltip",""]],hostBindings:function(e,o){1&e&&t.NdJ("mouseenter",function(){return o.show()})("mouseleave",function(){return o.hide()})},inputs:{showToolTip:"showToolTip",tooltipTier:"tooltipTier",tooltipStat:"tooltipStat",tooltipDifferenceTier:"tooltipDifferenceTier",contentTemplate:"contentTemplate"}}),n})();function Ga(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-button-toggle",4),t.NdJ("click",function(){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.setValue(s))}),t.TgZ(1,"div",5),t._uU(2),t.qZA()()}if(2&n){const e=i.index,o=t.oxw();t.ekj("isFromMod",o.isAddedByConfigMods(e))("mat-button-toggle-checked",o.selectedTier>=e)("not-checked",o.selectedTier<e),t.s9C("value",e),t.Q6J("checked",o.selectedTier===e)("disabled",o.maximumAvailableTier<e),t.xp6(1),t.Q6J("tooltipTier",e)("tooltipDifferenceTier",o.selectedTier)("tooltipStat",o.stat),t.xp6(1),t.hij(" ",10*e," ")}}function Ka(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"lock_open"),t.qZA())}function Xa(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"lock"),t.qZA())}let $a=(()=>{class n{constructor(){this.TierRange=new Array(11),this.stat=r.WB.Mobility,this.statsByMods=0,this.maximumAvailableTier=10,this.selectedTier=0,this.locked=!1,this.selectedTierChange=new t.vpe,this.lockedChange=new t.vpe}setValue(e){e<=this.maximumAvailableTier&&(this.selectedTier=e,this.selectedTierChange.emit(e))}isAddedByConfigMods(e){return e>0&&(this.selectedTier-e>=0&&this.selectedTier-e<this.statsByMods||this.selectedTier<this.statsByMods&&e<=this.statsByMods)}toggleLockState(){this.locked=!this.locked,this.lockedChange.emit(this.locked)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-stat-tier-selection"]],inputs:{stat:"stat",statsByMods:"statsByMods",maximumAvailableTier:"maximumAvailableTier",selectedTier:"selectedTier",locked:"locked"},outputs:{selectedTierChange:"selectedTierChange",lockedChange:"lockedChange"},decls:5,vars:3,consts:[["appearance","standard","name","fontStyle"],["class","select-button",3,"checked","isFromMod","mat-button-toggle-checked","not-checked","disabled","value","click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","\u9501\u5b9a\u4ee5\u5f3a\u5236\u8be5\u5c5e\u6027\u62e5\u6709\u56fa\u5b9a\u503c\uff0c\u6bd4\u5982\u7ed9\u6cf0\u5766\u9009\u62e9\u56fa\u5b9a\u7684 3 \u7ea7\u654f\u6377",3,"click"],[4,"ngIf"],[1,"select-button",3,"checked","disabled","value","click"],["statCooldownTooltip","",1,"stat-button-content",3,"tooltipTier","tooltipDifferenceTier","tooltipStat"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-button-toggle-group",0),t.YNc(1,Ga,3,13,"mat-button-toggle",1),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){return o.toggleLockState()}),t.YNc(3,Ka,2,0,"mat-icon",3),t.YNc(4,Xa,2,0,"mat-icon",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.TierRange),t.xp6(2),t.Q6J("ngIf",!o.locked),t.xp6(1),t.Q6J("ngIf",o.locked))},dependencies:[T.sg,T.O5,B.lW,N.gM,X.Hw,_t.A9,_t.Yi,za],styles:[".select-button[_ngcontent-%COMP%]{min-width:38px}[_nghost-%COMP%]     .mat-button-toggle-label-content{padding:0!important;width:100%}.stat-button-content[_ngcontent-%COMP%]{width:100%}.mat-button-toggle-checked.isFromMod[_ngcontent-%COMP%]{background-color:#3f64b5}.not-checked.isFromMod[_ngcontent-%COMP%]{background-color:#3f6eb526}"]}),n})();function ts(n,i){1&n&&t._UZ(0,"img",19)}function es(n,i){1&n&&t._UZ(0,"img",20)}function ns(n,i){1&n&&t._UZ(0,"img",21)}function os(n,i){1&n&&t._UZ(0,"img",22)}function is(n,i){1&n&&t._UZ(0,"img",23)}function as(n,i){1&n&&t._UZ(0,"img",24)}function ss(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",11),t.YNc(4,ts,1,0,"img",12),t.YNc(5,es,1,0,"img",13),t.YNc(6,ns,1,0,"img",14),t.YNc(7,os,1,0,"img",15),t.YNc(8,is,1,0,"img",16),t.YNc(9,as,1,0,"img",17),t.qZA(),t.TgZ(10,"td")(11,"app-stat-tier-selection",18),t.NdJ("selectedTierChange",function(a){const c=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.setSelectedTier(c.value,a))})("lockedChange",function(a){const c=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.setLockState(c.value,a))}),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngIf",0===e.value),t.xp6(1),t.Q6J("ngIf",1===e.value),t.xp6(1),t.Q6J("ngIf",2===e.value),t.xp6(1),t.Q6J("ngIf",3===e.value),t.xp6(1),t.Q6J("ngIf",4===e.value),t.xp6(1),t.Q6J("ngIf",5===e.value),t.xp6(2),t.Q6J("stat",e.value)("statsByMods",o.statsByMods[e.value])("maximumAvailableTier",o.maximumPossibleTiers[e.value])("selectedTier",o.minimumStatTiers[e.value].value)("locked",o.minimumStatTiers[e.value].fixed)}}function rs(n,i){1&n&&t._UZ(0,"img",19)}function us(n,i){1&n&&t._UZ(0,"img",20)}function cs(n,i){1&n&&t._UZ(0,"img",21)}function ls(n,i){1&n&&t._UZ(0,"img",22)}function ms(n,i){1&n&&t._UZ(0,"img",23)}function ps(n,i){1&n&&t._UZ(0,"img",24)}function ds(n,i){if(1&n&&(t.TgZ(0,"span",11),t.YNc(1,rs,1,0,"img",12),t.YNc(2,us,1,0,"img",13),t.YNc(3,cs,1,0,"img",14),t.YNc(4,ls,1,0,"img",15),t.YNc(5,ms,1,0,"img",16),t.YNc(6,ps,1,0,"img",17),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",1===e),t.xp6(1),t.Q6J("ngIf",2===e),t.xp6(1),t.Q6J("ngIf",3===e),t.xp6(1),t.Q6J("ngIf",4===e),t.xp6(1),t.Q6J("ngIf",5===e)}}function gs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.useStatPreset(s))}),t.YNc(1,ds,7,6,"span",26),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function _s(n,i){1&n&&t._UZ(0,"img",19)}function fs(n,i){1&n&&t._UZ(0,"img",20)}function hs(n,i){1&n&&t._UZ(0,"img",21)}function Cs(n,i){1&n&&t._UZ(0,"img",22)}function xs(n,i){1&n&&t._UZ(0,"img",23)}function As(n,i){1&n&&t._UZ(0,"img",24)}function Ts(n,i){if(1&n&&(t.TgZ(0,"span",11),t.YNc(1,_s,1,0,"img",12),t.YNc(2,fs,1,0,"img",13),t.YNc(3,hs,1,0,"img",14),t.YNc(4,Cs,1,0,"img",15),t.YNc(5,xs,1,0,"img",16),t.YNc(6,As,1,0,"img",17),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",1===e),t.xp6(1),t.Q6J("ngIf",2===e),t.xp6(1),t.Q6J("ngIf",3===e),t.xp6(1),t.Q6J("ngIf",4===e),t.xp6(1),t.Q6J("ngIf",5===e)}}function bs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.useStatPreset(s))}),t.YNc(1,Ts,7,6,"span",26),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function pe(n){let i=0;for(let e of n)i+=Math.pow(10,6-e);return i}let vs=(()=>{class n{constructor(e,o){this.config=e,this.inventory=o,this.minimumStatTiers=te(1),this.maximumPossibleTiers=[10,10,10,10,10,10],this.statsByMods=[0,0,0,0,0,0],this._statCombo4x100=[],this._statCombo3x100=[],this.config_zero_waste=!1,this.statMap={Mobility:"\u654f\u6377",Resilience:"\u97e7\u6027",Recovery:"\u6062\u590d",Discipline:"\u7eaa\u5f8b",Intellect:"\u667a\u6167",Strength:"\u529b\u91cf"},this.ngUnsubscribe=new nt.xQ,this.stats=Object.keys(r.WB).filter(a=>!isNaN(Number(a))).map(a=>({name:this.statMap[r.WB[a]],value:+a}))}ngOnInit(){this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(e=>{const o=[0,0,0,0,0,0];for(let a of e.enabledMods)for(let s of dt[a].bonus)o[s.stat]+=s.value/10;this.statsByMods=o,this.minimumStatTiers=e.minimumStatTiers,this.config_zero_waste=e.onlyShowResultsWithNoWastedStats}),this.inventory.armorResults.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(e=>{const o=e.maximumPossibleTiers||[10,10,10,10,10,10];console.log("d.maximumPossibleTiers",o),o.filter(a=>0==a).length<6&&(this.maximumPossibleTiers=o),this._statCombo3x100=(e.statCombo3x100||[]).sort((a,s)=>pe(s)-pe(a)),this._statCombo4x100=e.statCombo4x100||[]})}setSelectedTier(e,o){this.config.modifyConfiguration(a=>{a.minimumStatTiers[e].value=o})}clearStatSelection(){this.config.modifyConfiguration(e=>{for(let o=0;o<6;o++)e.minimumStatTiers[o]={fixed:!1,value:0}})}useStatPreset(e){0!=e.filter(o=>10!=this.config.readonlyConfigurationSnapshot.minimumStatTiers[o].value).length&&this.config.modifyConfiguration(o=>{for(let a of e)o.minimumStatTiers[a].value=10})}setLockState(e,o){this.config.modifyConfiguration(a=>{a.minimumStatTiers[e].fixed=o})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H),t.Y36(et))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-desired-stat-selection"]],decls:34,vars:7,consts:[[4,"ngFor","ngForOf"],["id","tierSelectButtonContainer"],[1,"tierSelectButton"],["mat-stroked-button","","color","warn","id","clearStatButton",3,"click"],["mat-stroked-button","","aria-label","Select builds with three stats at tier 10.",1,"selectStatDistributionButton",3,"matMenuTriggerFor","disabled"],["menu",""],["menu1","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-stroked-button","","aria-label","Select builds with four stats at tier 10.",3,"matMenuTriggerFor","disabled"],["menu2","matMenu"],[1,"warn"],[1,"statContainerWrapper"],["src","https://www.bungie.net/common/destiny2_content/icons/e26e0e93a9daf4fdd21bf64eb9246340.png","alt","Mobility","class","dialogStatIcon",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/202ecc1c6febeb6b97dafc856e863140.png","alt","Resilience","class","dialogStatIcon",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/128eee4ee7fc127851ab32eac6ca91cf.png","alt","Recovery","class","dialogStatIcon",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/79be2d4adef6a19203f7385e5c63b45b.png","alt","Discipline","class","dialogStatIcon",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/d1c154469670e9a592c9d4cbdcae5764.png","alt","Intellect","class","dialogStatIcon",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/ea5af04ccd6a3470a44fd7bb0f66e2f7.png","alt","Strength","class","dialogStatIcon",4,"ngIf"],[3,"stat","statsByMods","maximumAvailableTier","selectedTier","locked","selectedTierChange","lockedChange"],["src","https://www.bungie.net/common/destiny2_content/icons/e26e0e93a9daf4fdd21bf64eb9246340.png","alt","Mobility",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/202ecc1c6febeb6b97dafc856e863140.png","alt","Resilience",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/128eee4ee7fc127851ab32eac6ca91cf.png","alt","Recovery",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/79be2d4adef6a19203f7385e5c63b45b.png","alt","Discipline",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/d1c154469670e9a592c9d4cbdcae5764.png","alt","Intellect",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/ea5af04ccd6a3470a44fd7bb0f66e2f7.png","alt","Strength",1,"dialogStatIcon"],["mat-menu-item","",3,"click"],["class","statContainerWrapper",4,"ngFor","ngForOf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"table"),t.YNc(1,ss,12,12,"tr",0),t.qZA(),t.TgZ(2,"span",1)(3,"span",2)(4,"button",3),t.NdJ("click",function(){return o.clearStatSelection()}),t._uU(5,"\u6e05\u7a7a"),t.qZA()(),t.TgZ(6,"span",2)(7,"button",4)(8,"mat-icon"),t._uU(9,"expand_more"),t.qZA(),t._uU(10," \u9009\u62e9\u53ef\u4e09\u767e\u7684\u7ec4\u5408 "),t.qZA(),t.TgZ(11,"mat-menu",5,6),t.YNc(13,gs,2,1,"button",7),t.qZA()(),t.TgZ(14,"span",2)(15,"button",8)(16,"mat-icon"),t._uU(17,"expand_more"),t.qZA(),t._uU(18," \u9009\u62e9\u53ef\u56db\u767e\u7684\u7ec4\u5408 "),t.qZA(),t.TgZ(19,"mat-menu",null,9),t.YNc(21,bs,2,1,"button",7),t.qZA()()(),t._UZ(22,"br")(23,"br"),t.TgZ(24,"div")(25,"span",10),t._uU(26," \u63d0\u9192: "),t.qZA(),t.TgZ(27,"ul")(28,"li"),t._uU(29,"\u201c\u51cf\u5c11\u5c5e\u6027\u6d6a\u8d39\u201d\u529f\u80fd\u76ee\u524d\u672a\u5b9e\u88c5"),t.qZA(),t.TgZ(30,"li"),t._uU(31,"\u201c\u5c5e\u6027\u6570\u503c\u9501\u5b9a\u201d\u529f\u80fd\u6709\u65f6\u4f1a\u5931\u6548"),t.qZA(),t.TgZ(32,"li"),t._uU(33,"\u201c\u5c5e\u6027\u6570\u503c\u9501\u5b9a\u201d\u529f\u80fd\u6709\u65f6\u4f1a\u5bfc\u81f4\u4e0d\u6b63\u786e\u7684\u5c5e\u6027\u6570\u503c\u9884\u89c8"),t.qZA()()()),2&e){const a=t.MAs(12),s=t.MAs(20);t.xp6(1),t.Q6J("ngForOf",o.stats),t.xp6(6),t.Q6J("matMenuTriggerFor",a)("disabled",0===o._statCombo3x100.length),t.xp6(6),t.Q6J("ngForOf",o._statCombo3x100),t.xp6(2),t.Q6J("matMenuTriggerFor",s)("disabled",0===o._statCombo4x100.length),t.xp6(6),t.Q6J("ngForOf",o._statCombo4x100)}},dependencies:[T.sg,T.O5,B.lW,X.Hw,Zt.VK,Zt.OP,Zt.p6,$a],styles:["#tierSelectButtonContainer[_ngcontent-%COMP%] > .tierSelectButton[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}.dialogStatIcon[_ngcontent-%COMP%]{height:35px}.warn[_ngcontent-%COMP%]{background-color:#8b0000;padding-left:15px;padding-right:15px}"]}),n})();function Es(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",22),t._UZ(2,"img",23)(3,"img",24),t.O4$(),t.TgZ(4,"svg",25)(5,"text",26),t._uU(6,"3"),t.qZA()(),t.TgZ(7,"svg",27)(8,"text",26),t._uU(9,"1"),t.qZA()(),t.kcU(),t._UZ(10,"div",28),t.qZA(),t.TgZ(11,"div",22),t._UZ(12,"img",29)(13,"img",30),t.O4$(),t.TgZ(14,"svg",25)(15,"text",26),t._uU(16,"4"),t.qZA()(),t.TgZ(17,"svg",27)(18,"text",26),t._uU(19,"2"),t.qZA()(),t.kcU(),t._UZ(20,"div",28),t.qZA(),t.TgZ(21,"div",22),t._UZ(22,"img",31)(23,"img",32),t.O4$(),t.TgZ(24,"svg",25)(25,"text",26),t._uU(26,"3"),t.qZA()(),t.TgZ(27,"svg",27)(28,"text",26),t._uU(29,"1"),t.qZA()(),t.kcU(),t._UZ(30,"div",28),t.qZA(),t.TgZ(31,"div",22),t._UZ(32,"img",33)(33,"img",34),t.O4$(),t.TgZ(34,"svg",25)(35,"text",26),t._uU(36,"3"),t.qZA()(),t.TgZ(37,"svg",27)(38,"text",26),t._uU(39,"1"),t.qZA()(),t.kcU(),t._UZ(40,"div",28),t.qZA(),t.TgZ(41,"div",22),t._UZ(42,"img",35)(43,"img",36),t.O4$(),t.TgZ(44,"svg",25)(45,"text",26),t._uU(46,"4"),t.qZA()(),t.TgZ(47,"svg",27)(48,"text",26),t._uU(49,"2"),t.qZA()(),t.kcU(),t._UZ(50,"div",28),t.qZA(),t.TgZ(51,"div",22),t._UZ(52,"img",37)(53,"img",38),t.O4$(),t.TgZ(54,"svg",25)(55,"text",26),t._uU(56,"4"),t.qZA()(),t.TgZ(57,"svg",27)(58,"text",26),t._uU(59,"2"),t.qZA()(),t.kcU(),t._UZ(60,"div",28),t.qZA()()),2&n){const e=i.ngVar;t.xp6(1),t.ekj("major",e>=3)("minor",e>=1&&e<3),t.xp6(10),t.ekj("major",e>=4)("minor",e>=2&&e<4),t.xp6(10),t.ekj("major",e>=3)("minor",e>=1&&e<3),t.xp6(10),t.ekj("major",e>=3)("minor",e>=1&&e<3),t.xp6(10),t.ekj("major",e>=4)("minor",e>=2&&e<4),t.xp6(10),t.ekj("major",e>=4)("minor",e>=2&&e<4)}}function ys(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-button-toggle",39),t.NdJ("click",function(){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.setValue(s))}),t._uU(1),t.qZA()}if(2&n){const e=i.index,o=t.oxw();t.Gre("select-button ",o.selection>=e?"mat-button-toggle-checked":"",""),t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Zs(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"lock_open"),t.qZA())}function Fs(n,i){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"lock"),t.qZA())}function ws(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",40),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.setArmorPerk(s))}),t._UZ(2,"app-armor-perk-icon",41),t.TgZ(3,"span",42),t._uU(4),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.ekj("selected-menu",e===o.armorPerk),t.xp6(1),t.Q6J("perk",e),t.xp6(2),t.Oqu(o.ArmorPerkOrSlotNames[e])}}function Ds(n,i){if(1&n&&t._UZ(0,"img",43,44),2&n){const e=t.oxw();t.MGl("matTooltip","\u542f\u7528\u8be5\u529f\u80fd\u5c06\u5f3a\u5236\u7b5b\u9009",e.slotName,".")}}function Ss(n,i){if(1&n&&t._UZ(0,"img",45,44),2&n){const e=t.oxw();t.MGl("matTooltip","\u542f\u7528\u8be5\u529f\u80fd\u5c06\u5f3a\u5236\u7b5b\u9009",e.slotName,".")}}function Is(n,i){if(1&n&&t._UZ(0,"img",46,44),2&n){const e=t.oxw();t.MGl("matTooltip","\u542f\u7528\u8be5\u529f\u80fd\u5c06\u5f3a\u5236\u7b5b\u9009",e.slotName,".")}}function Os(n,i){if(1&n&&t._UZ(0,"img",47,44),2&n){const e=t.oxw();t.MGl("matTooltip","\u542f\u7528\u8be5\u529f\u80fd\u5c06\u5f3a\u5236\u7b5b\u9009",e.slotName,".")}}function Ms(n,i){if(1&n&&t._UZ(0,"img",48,44),2&n){const e=t.oxw();t.MGl("matTooltip","\u542f\u7528\u8be5\u529f\u80fd\u5c06\u5f3a\u5236\u7b5b\u9009",e.slotName,".")}}let ks=(()=>{class n{constructor(e,o,a){this.config=e,this.inventory=o,this.db=a,this.featureDisabled=!D_featureFlags_enableModslotLimitation,this.ArmorSlot=b.y,this.ArmorPerkOrSlotNames=r.cM,this.ArmorPerkOrSlot=r.Pn,this.ModRange=new Array(6),this.selection=5,this.slot=b.y.ArmorSlotHelmet,this.possible=new t.vpe,this.isPossible=!0,this.configSelectedClass=0,this.armorPerk=r.Pn.None,this.armorPerkLock=!1,this.maximumModSlots=5,this.hoveredSlot=-1,this.disabled=!1,this.availableArmorPerks=[r.Pn.None,r.Pn.PerkQueensFavor,r.Pn.SonarAmplifier,r.Pn.SlotRootOfNightmares,r.Pn.SlotKingsFall,r.Pn.SlotVowOfTheDisciple,r.Pn.SlotVaultOfGlass,r.Pn.SlotDeepStoneCrypt,r.Pn.SlotGardenOfSalvation,r.Pn.SlotLastWish,r.Pn.SlotNightmare,r.Pn.SlotArtifice,r.Pn.PerkIronBanner,r.Pn.PerkUniformedOfficer,r.Pn.PerkPlunderersTrappings,r.Pn.SeraphSensorArray],this.ngUnsubscribe=new nt.xQ}runPossibilityCheck(){var e=this;return(0,m.Z)(function*(){if(e.armorPerkLock&&e.armorPerk!=r.Pn.None){var a=yield e.db.inventoryArmor.where("clazz").equals(e.configSelectedClass).and(s=>s.slot==e.slot).and(s=>s.perk==e.armorPerk).count();e.isPossible=a>0}else e.isPossible=!0;e.possible.next(e.isPossible)})()}get slotName(){switch(this.slot){case b.y.ArmorSlotHelmet:return"\u5934\u76d4";case b.y.ArmorSlotGauntlet:return"\u81c2\u94e0";case b.y.ArmorSlotChest:return"\u80f8\u90e8\u62a4\u7532";case b.y.ArmorSlotLegs:return"\u817f\u90e8\u62a4\u7532";case b.y.ArmorSlotClass:return"\u804c\u4e1a\u7269\u54c1";default:return""}}ngOnInit(){var e=this;this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(function(){var o=(0,m.Z)(function*(a){var s=e.configSelectedClass!=a.characterClass||e.selection!=a.maximumModSlots[e.slot].value||e.armorPerk!=a.armorPerks[e.slot].value||e.armorPerkLock!=a.armorPerks[e.slot].fixed||e.maximumModSlots!=a.maximumModSlots[e.slot].value;e.configSelectedClass=a.characterClass,e.selection=a.maximumModSlots[e.slot].value,e.armorPerk=a.armorPerks[e.slot].value,e.armorPerkLock=a.armorPerks[e.slot].fixed,e.maximumModSlots=a.maximumModSlots[e.slot].value,e.disabled=(yield e.inventory.getExoticsForClass(a.characterClass)).filter(c=>a.selectedExotics.indexOf(c.item.hash)>-1).map(c=>c.item.slot).indexOf(e.slot)>-1,s&&(yield e.runPossibilityCheck())});return function(a){return o.apply(this,arguments)}}())}ngAfterViewInit(){D_featureFlags_enableGuardianGamesFeatures&&this.slot===b.y.ArmorSlotClass&&this.availableArmorPerks.splice(1,0,r.Pn.GuardianGamesClassItem)}toggleArmorPerkLock(){this.config.modifyConfiguration(e=>{e.armorPerks[this.slot].fixed=!e.armorPerks[this.slot].fixed})}setArmorPerk(e){this.armorPerk!=e&&this.config.modifyConfiguration(o=>{o.armorPerks[this.slot].value=e})}setValue(e){this.featureDisabled||this.maximumModSlots!=e&&(this.maximumModSlots=e,this.config.modifyConfiguration(o=>o.maximumModSlots[this.slot].value=e))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H),t.Y36(et),t.Y36(rt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-slot-limitation-selection"]],inputs:{slot:"slot"},outputs:{possible:"possible"},decls:35,vars:58,consts:[[1,"container"],[1,"energy"],[1,"energy-container",3,"mouseout"],[1,"energy-bar","blocked",3,"click","mouseover"],[1,"energy-bar",3,"click","mouseover"],[4,"ngVar"],["appearance","standard","name","fontStyle",2,"display","none"],[3,"value","class","click",4,"ngFor","ngForOf"],[1,"selector-slots"],["value","bold",3,"matMenuTriggerFor"],[3,"perk"],["disabled","",3,"disabled","matTooltip","click"],[4,"ngIf"],[1,"modslot-select-scroll-menu"],["dropdownArmorModslot","matMenu"],[4,"ngFor","ngForOf"],[1,"slot-icon-container"],["class","slot-icon","src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M24.77 7.03c-8.15.38-14.42 7.41-14.42 15.57v16.06c0 .23.13.44.34.53l10.33 4.68c.78.35 1.66-.22 1.66-1.07V31.9c0-.39-.19-.75-.52-.97l-5.39-3.64c-.87-.52-1.43-1.5-1.34-2.61.13-1.46 1.46-2.52 2.93-2.52h4.36c.65 0 1.17.53 1.17 1.17v6.71s0 .61 1.61.61 1.61-.61 1.61-.61v-6.71c0-.65.52-1.17 1.17-1.17h4.36c1.47 0 2.8 1.06 2.93 2.52.1 1.11-.47 2.09-1.34 2.61l-5.39 3.64c-.32.22-.52.58-.52.97v10.91c0 .85.88 1.42 1.66 1.07l10.33-4.68c.21-.1.34-.3.34-.53v-16.5c.01-8.61-7.18-15.55-15.88-15.14z'/%3e%3c/svg%3e",3,"matTooltip",4,"ngIf"],["class","slot-icon","src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M40.1 30.03c.39-.47.59-1.11.42-1.8-.18-.76-.81-1.39-1.58-1.55-.81-.17-1.54.14-2.01.68 0 0-.03.04-.05.07l-.12.15c-.47.61-1.95 2.37-3.29 2.45-1.62.1 2.51-16.14 2.51-16.14h-.01c.04-.15.07-.31.07-.48 0-.98-.79-1.77-1.77-1.77-.81 0-1.49.55-1.69 1.29h-.01s-.01.03-.01.05l-.03.15c-.24 1.21-1.68 8.2-2.81 8.89-1.24.75-1.22-13.23-1.22-13.23 0-.98-.79-1.77-1.77-1.77s-1.77.79-1.77 1.77c0 0-.35 12.85-1.73 12.73-1.37-.12-2.47-10.67-2.47-10.67 0-.98-.79-1.77-1.77-1.77s-1.77.79-1.77 1.77c0 .15.02.28.06.42.27 2.06 1.36 11.12-.06 11.12-1.6 0-3.68-6.35-3.68-6.35a1.62 1.62 0 0 0-3.14.56c0 .09.01.17.03.25l-.03.01s.02.07.07.19c.02.09.05.17.09.25.99 2.71 6.28 17.46 7.26 26.23.03.25.24.44.49.44H30.5a.5.5 0 0 0 .5-.45c.1-1.04.52-3.68 2.09-5.54 1.8-2.14 6.06-6.89 6.86-7.79.02-.02.03-.04.05-.06.07-.06.11-.1.1-.1z'/%3e%3c/svg%3e",3,"matTooltip",4,"ngIf"],["class","slot-icon","src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M42.49 13.55c-1.06-1.51-4.05-5.05-9.52-6.49a.635.635 0 0 0-.78.5c-.35 2.04-1.78 8.08-6.69 8.08s-6.34-6.04-6.69-8.08a.635.635 0 0 0-.78-.5c-5.47 1.44-8.46 4.98-9.52 6.49-.24.34-.09.8.3.94 2.01.7 7.34 2.94 7.34 7.01 0 4.24-4.47 6.89-5.87 7.61-.25.13-.38.4-.33.67 1.44 7.62 7.55 13.09 8.67 14.04.11.1.25.15.4.15h12.94c.15 0 .29-.05.4-.15 1.12-.95 7.23-6.42 8.67-14.04a.624.624 0 0 0-.33-.67c-1.4-.72-5.87-3.37-5.87-7.61 0-4.08 5.33-6.32 7.34-7.01.41-.14.56-.61.32-.94z'/%3e%3c/svg%3e",3,"matTooltip",4,"ngIf"],["class","slot-icon","src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M13 7.6h13.96c1.73 0 2.99 1.64 2.54 3.32l-5.44 20.46c-.07.28.03.57.28.72.99.62 4.64 2.57 8.15 5.78.12.11 2.92-.03 3.09-.01 2.31.2 3.97-.08 5.05 4.7.09.42-.21.82-.64.82H11.82c-.34 0-.63-.26-.66-.61-.15-1.82-.4-7.23 1.74-9.32a.62.62 0 0 0 .2-.6c-.39-1.74-2.09-9.83-2.74-22.48-.07-1.5 1.12-2.78 2.64-2.78z'/%3e%3c/svg%3e",3,"matTooltip",4,"ngIf"],["class","slot-icon","src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M43.12 7.12c-4.13 2.33-17.62 1.9-17.62 1.9s-13.49.43-17.62-1.9c-.37-.21-.85-.03-.94.39-.36 1.49-.87 4.42.09 5.86.09.13.22.21.38.25 1.23.3 7.36 1.65 18.09 1.65s16.86-1.35 18.09-1.65c.15-.04.29-.12.38-.25.96-1.44.45-4.37.1-5.86-.1-.42-.58-.6-.95-.39zM9.27 28.34s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.73c-1.93-.22-3.45-.45-4.55-.65v13.26zM16.3 34.8s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V16.24c-1.66-.06-3.18-.16-4.55-.27V34.8zM37.18 28.34s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.08c-1.09.2-2.61.44-4.55.65v12.61zM30.15 34.8s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.97c-1.36.11-2.88.21-4.55.27V34.8zM23.23 16.31v25.31s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V16.31c-.74.01-1.49.02-2.27.02-.78.01-1.54 0-2.27-.02z'/%3e%3c/svg%3e",3,"matTooltip",4,"ngIf"],[1,"mod-info"],["src","https://www.bungie.net/common/destiny2_content/icons/8861e73c6701b8347cef025d400cd3dc.png",1,"mod-icon","mod-major"],["src","https://www.bungie.net/common/destiny2_content/icons/a6694a4ff65d371d19330fb10415b315.png",1,"mod-icon","mod-minor"],["viewBox","0 0 100 100",1,"mod-number","mod-major"],["font-size","25px","text-anchor","end","x","87","y","30"],["viewBox","0 0 100 100",1,"mod-number","mod-minor"],[1,"overlay"],["src","https://www.bungie.net/common/destiny2_content/icons/b2228e67e72fad2eb37735a33e0d0116.png",1,"mod-icon","mod-major"],["src","https://www.bungie.net/common/destiny2_content/icons/ab1ffe5128806c3639e531f89a2d72d1.png",1,"mod-icon","mod-minor"],["src","https://www.bungie.net/common/destiny2_content/icons/3a5a2d6ee50b2611ebc4d4806d29301a.png",1,"mod-icon","mod-major"],["src","https://www.bungie.net/common/destiny2_content/icons/f841f379751b7672fca0e5f231e92638.png",1,"mod-icon","mod-minor"],["src","https://www.bungie.net/common/destiny2_content/icons/7b64c0b8014a57c6c297babb18c2239e.png",1,"mod-icon","mod-major"],["src","https://www.bungie.net/common/destiny2_content/icons/dbd1615501778b66bca2764b9a561044.png",1,"mod-icon","mod-minor"],["src","https://www.bungie.net/common/destiny2_content/icons/4251f77e3b24900e262f16d5587980ef.png",1,"mod-icon","mod-major"],["src","https://www.bungie.net/common/destiny2_content/icons/e0fc8c022c2ab49ef92caff5843db7da.png",1,"mod-icon","mod-minor"],["src","https://www.bungie.net/common/destiny2_content/icons/98408051297c26cb033cb761ab955fac.png",1,"mod-icon","mod-major"],["src","https://www.bungie.net/common/destiny2_content/icons/f26479a3462676d613f135657ecad45a.png",1,"mod-icon","mod-minor"],[3,"value","click"],["mat-menu-item","",3,"click"],[1,"menuArmorIcon",3,"perk"],[1,"menuArmorText"],["src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M24.77 7.03c-8.15.38-14.42 7.41-14.42 15.57v16.06c0 .23.13.44.34.53l10.33 4.68c.78.35 1.66-.22 1.66-1.07V31.9c0-.39-.19-.75-.52-.97l-5.39-3.64c-.87-.52-1.43-1.5-1.34-2.61.13-1.46 1.46-2.52 2.93-2.52h4.36c.65 0 1.17.53 1.17 1.17v6.71s0 .61 1.61.61 1.61-.61 1.61-.61v-6.71c0-.65.52-1.17 1.17-1.17h4.36c1.47 0 2.8 1.06 2.93 2.52.1 1.11-.47 2.09-1.34 2.61l-5.39 3.64c-.32.22-.52.58-.52.97v10.91c0 .85.88 1.42 1.66 1.07l10.33-4.68c.21-.1.34-.3.34-.53v-16.5c.01-8.61-7.18-15.55-15.88-15.14z'/%3e%3c/svg%3e",1,"slot-icon",3,"matTooltip"],["tooltip","matTooltip"],["src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M40.1 30.03c.39-.47.59-1.11.42-1.8-.18-.76-.81-1.39-1.58-1.55-.81-.17-1.54.14-2.01.68 0 0-.03.04-.05.07l-.12.15c-.47.61-1.95 2.37-3.29 2.45-1.62.1 2.51-16.14 2.51-16.14h-.01c.04-.15.07-.31.07-.48 0-.98-.79-1.77-1.77-1.77-.81 0-1.49.55-1.69 1.29h-.01s-.01.03-.01.05l-.03.15c-.24 1.21-1.68 8.2-2.81 8.89-1.24.75-1.22-13.23-1.22-13.23 0-.98-.79-1.77-1.77-1.77s-1.77.79-1.77 1.77c0 0-.35 12.85-1.73 12.73-1.37-.12-2.47-10.67-2.47-10.67 0-.98-.79-1.77-1.77-1.77s-1.77.79-1.77 1.77c0 .15.02.28.06.42.27 2.06 1.36 11.12-.06 11.12-1.6 0-3.68-6.35-3.68-6.35a1.62 1.62 0 0 0-3.14.56c0 .09.01.17.03.25l-.03.01s.02.07.07.19c.02.09.05.17.09.25.99 2.71 6.28 17.46 7.26 26.23.03.25.24.44.49.44H30.5a.5.5 0 0 0 .5-.45c.1-1.04.52-3.68 2.09-5.54 1.8-2.14 6.06-6.89 6.86-7.79.02-.02.03-.04.05-.06.07-.06.11-.1.1-.1z'/%3e%3c/svg%3e",1,"slot-icon",3,"matTooltip"],["src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M42.49 13.55c-1.06-1.51-4.05-5.05-9.52-6.49a.635.635 0 0 0-.78.5c-.35 2.04-1.78 8.08-6.69 8.08s-6.34-6.04-6.69-8.08a.635.635 0 0 0-.78-.5c-5.47 1.44-8.46 4.98-9.52 6.49-.24.34-.09.8.3.94 2.01.7 7.34 2.94 7.34 7.01 0 4.24-4.47 6.89-5.87 7.61-.25.13-.38.4-.33.67 1.44 7.62 7.55 13.09 8.67 14.04.11.1.25.15.4.15h12.94c.15 0 .29-.05.4-.15 1.12-.95 7.23-6.42 8.67-14.04a.624.624 0 0 0-.33-.67c-1.4-.72-5.87-3.37-5.87-7.61 0-4.08 5.33-6.32 7.34-7.01.41-.14.56-.61.32-.94z'/%3e%3c/svg%3e",1,"slot-icon",3,"matTooltip"],["src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M13 7.6h13.96c1.73 0 2.99 1.64 2.54 3.32l-5.44 20.46c-.07.28.03.57.28.72.99.62 4.64 2.57 8.15 5.78.12.11 2.92-.03 3.09-.01 2.31.2 3.97-.08 5.05 4.7.09.42-.21.82-.64.82H11.82c-.34 0-.63-.26-.66-.61-.15-1.82-.4-7.23 1.74-9.32a.62.62 0 0 0 .2-.6c-.39-1.74-2.09-9.83-2.74-22.48-.07-1.5 1.12-2.78 2.64-2.78z'/%3e%3c/svg%3e",1,"slot-icon",3,"matTooltip"],["src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M43.12 7.12c-4.13 2.33-17.62 1.9-17.62 1.9s-13.49.43-17.62-1.9c-.37-.21-.85-.03-.94.39-.36 1.49-.87 4.42.09 5.86.09.13.22.21.38.25 1.23.3 7.36 1.65 18.09 1.65s16.86-1.35 18.09-1.65c.15-.04.29-.12.38-.25.96-1.44.45-4.37.1-5.86-.1-.42-.58-.6-.95-.39zM9.27 28.34s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.73c-1.93-.22-3.45-.45-4.55-.65v13.26zM16.3 34.8s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V16.24c-1.66-.06-3.18-.16-4.55-.27V34.8zM37.18 28.34s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.08c-1.09.2-2.61.44-4.55.65v12.61zM30.15 34.8s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V15.97c-1.36.11-2.88.21-4.55.27V34.8zM23.23 16.31v25.31s0 2.34 2.27 2.34 2.27-2.34 2.27-2.34V16.31c-.74.01-1.49.02-2.27.02-.78.01-1.54 0-2.27-.02z'/%3e%3c/svg%3e",1,"slot-icon",3,"matTooltip"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.NdJ("mouseout",function(){return o.hoveredSlot=-1}),t.TgZ(3,"div",3),t.NdJ("click",function(){return o.setValue(5)})("mouseover",function(){return o.hoveredSlot=0}),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return o.setValue(5)})("mouseover",function(){return o.hoveredSlot=0}),t.qZA(),t.TgZ(5,"div",3),t.NdJ("click",function(){return o.setValue(5)})("mouseover",function(){return o.hoveredSlot=0}),t.qZA(),t.TgZ(6,"div",3),t.NdJ("click",function(){return o.setValue(5)})("mouseover",function(){return o.hoveredSlot=0}),t.qZA(),t.TgZ(7,"div",3),t.NdJ("click",function(){return o.setValue(5)})("mouseover",function(){return o.hoveredSlot=0}),t.qZA(),t.TgZ(8,"div",4),t.NdJ("click",function(){return o.setValue(4)})("mouseover",function(){return o.hoveredSlot=1}),t.qZA(),t.TgZ(9,"div",4),t.NdJ("click",function(){return o.setValue(3)})("mouseover",function(){return o.hoveredSlot=2}),t.qZA(),t.TgZ(10,"div",4),t.NdJ("click",function(){return o.setValue(2)})("mouseover",function(){return o.hoveredSlot=3}),t.qZA(),t.TgZ(11,"div",4),t.NdJ("click",function(){return o.setValue(1)})("mouseover",function(){return o.hoveredSlot=4}),t.qZA(),t.TgZ(12,"div",4),t.NdJ("click",function(){return o.setValue(0)})("mouseover",function(){return o.hoveredSlot=5}),t.qZA()(),t._UZ(13,"br"),t.YNc(14,Es,61,24,"div",5),t.qZA(),t.TgZ(15,"mat-button-toggle-group",6),t.YNc(16,ys,2,5,"mat-button-toggle",7),t.qZA(),t.TgZ(17,"div",8)(18,"mat-button-toggle-group")(19,"mat-button-toggle",9),t._UZ(20,"app-armor-perk-icon",10),t.TgZ(21,"mat-icon"),t._uU(22,"arrow_drop_down"),t.qZA()(),t.TgZ(23,"mat-button-toggle",11),t.NdJ("click",function(s){return o.toggleArmorPerkLock(),s.stopPropagation()}),t.YNc(24,Zs,2,0,"mat-icon",12),t.YNc(25,Fs,2,0,"mat-icon",12),t.qZA()(),t.TgZ(26,"mat-menu",13,14),t.YNc(28,ws,5,4,"ng-container",15),t.qZA()(),t.TgZ(29,"span",16),t.YNc(30,Ds,2,1,"img",17),t.YNc(31,Ss,2,1,"img",18),t.YNc(32,Is,2,1,"img",19),t.YNc(33,Os,2,1,"img",20),t.YNc(34,Ms,2,1,"img",21),t.qZA()()),2&e){const a=t.MAs(27);t.ekj("disabled",o.disabled),t.xp6(8),t.ekj("active",5-o.maximumModSlots>=1)("hovered-higher",o.hoveredSlot>-1&&o.hoveredSlot<1)("hovered",o.hoveredSlot>=1)("blocked",o.featureDisabled),t.xp6(1),t.ekj("active",5-o.maximumModSlots>=2)("hovered-higher",o.hoveredSlot>-1&&o.hoveredSlot<2)("hovered",o.hoveredSlot>=2)("blocked",o.featureDisabled),t.xp6(1),t.ekj("active",5-o.maximumModSlots>=3)("hovered-higher",o.hoveredSlot>-1&&o.hoveredSlot<3)("hovered",o.hoveredSlot>=3)("blocked",o.featureDisabled),t.xp6(1),t.ekj("active",5-o.maximumModSlots>=4)("hovered-higher",o.hoveredSlot>-1&&o.hoveredSlot<4)("hovered",o.hoveredSlot>=4)("blocked",o.featureDisabled),t.xp6(1),t.ekj("active",5-o.maximumModSlots==5)("hovered-higher",o.hoveredSlot>-1&&o.hoveredSlot<5)("hovered",5===o.hoveredSlot)("blocked",o.featureDisabled),t.xp6(2),t.Q6J("ngVar",o.hoveredSlot>-1?5-o.hoveredSlot:o.maximumModSlots),t.xp6(2),t.Q6J("ngForOf",o.ModRange),t.xp6(2),t.ekj("impossible",!o.isPossible),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(1),t.Q6J("perk",o.armorPerk),t.xp6(3),t.MGl("matTooltip","\u7b5b\u9009\u62e5\u6709\u9009\u4e2d\u63d2\u69fd\u6216 perk \u7684",o.slotName,"."),t.Q6J("disabled",o.disabled),t.xp6(1),t.Q6J("ngIf",!o.armorPerkLock),t.xp6(1),t.Q6J("ngIf",o.armorPerkLock),t.xp6(3),t.Q6J("ngForOf",o.availableArmorPerks),t.xp6(2),t.Q6J("ngIf",o.slot===o.ArmorSlot.ArmorSlotHelmet),t.xp6(1),t.Q6J("ngIf",o.slot===o.ArmorSlot.ArmorSlotGauntlet),t.xp6(1),t.Q6J("ngIf",o.slot===o.ArmorSlot.ArmorSlotChest),t.xp6(1),t.Q6J("ngIf",o.slot===o.ArmorSlot.ArmorSlotLegs),t.xp6(1),t.Q6J("ngIf",o.slot===o.ArmorSlot.ArmorSlotClass)}},dependencies:[T.sg,T.O5,N.gM,X.Hw,Zt.VK,Zt.OP,Zt.p6,_t.A9,_t.Yi,yt,Gt],styles:[".slot-icon-container[_ngcontent-%COMP%]{float:right;position:relative}.slot-icon-container[_ngcontent-%COMP%]   .slot-icon[_ngcontent-%COMP%]{height:30px;position:absolute;left:-30px;filter:invert(1) drop-shadow(1px 1px 3px rgba(0,0,0,.25))!important}.container[_ngcontent-%COMP%]{height:60px}.select-button[_ngcontent-%COMP%]{min-width:40px}.selector-element[_ngcontent-%COMP%]{position:relative;float:right;width:90px;height:70px;top:-21px}.selector-element[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{position:absolute;bottom:2px;left:60px}.selector-element[_ngcontent-%COMP%]   .element-list[_ngcontent-%COMP%]{float:left;width:70px;padding-left:5px}.selector-element[_ngcontent-%COMP%]   .element-list[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{border:rgba(0,0,0,0) solid 2px;height:26px;width:26px;margin-right:1px;margin-bottom:1px;margin-top:1px;cursor:pointer;filter:grayscale(.4)}.selector-element[_ngcontent-%COMP%]   .element-list[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]:hover{filter:grayscale(.2)}.selector-element[_ngcontent-%COMP%]   .element-list[_ngcontent-%COMP%]   .element-icon.selected[_ngcontent-%COMP%]{filter:grayscale(0)}[_nghost-%COMP%]     .selector-slots .mat-button-toggle{background-color:inherit}.modslot-selection[_ngcontent-%COMP%]{width:180px}.selector-slots[_ngcontent-%COMP%]{position:relative;float:right;top:-10px}.selector-slots[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{position:absolute;bottom:2px;left:140px}.selector-slots[_ngcontent-%COMP%]   .element-list[_ngcontent-%COMP%]{float:left;height:70px;width:175px;padding-left:5px}.selector-slots[_ngcontent-%COMP%]   .element-list[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{height:30px;width:30px;border:rgba(0,0,0,0) solid 2px;margin-right:1px;margin-top:-2px;cursor:pointer}.selector-slots[_ngcontent-%COMP%]   .element-list[_ngcontent-%COMP%]   .element-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;border:rgba(0,0,0,0) solid 2px!important}.impossible[_ngcontent-%COMP%]{background-color:#ff00004d;cursor:help}.left_line[_ngcontent-%COMP%]{pointer-events:none;height:15px;width:100%;border-left:1px solid white;border-bottom:1px solid white;position:absolute;bottom:0;left:0}.overlay-icon-container[_ngcontent-%COMP%]{position:relative}.overlay-icon-container[_ngcontent-%COMP%]   .overlay-icon[_ngcontent-%COMP%]{width:20px;position:absolute;left:7px;bottom:11px;pointer-events:none}.element-icon[_ngcontent-%COMP%]:hover{border:cornflowerblue solid 2px!important}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]:hover{background-color:#89b2ff3d;border:#0059ff solid 2px!important}.energy-container[_ngcontent-%COMP%]   .energy-bar[_ngcontent-%COMP%]{float:left;margin-right:3px;width:20px;height:10px;border:white solid 2px;cursor:pointer}.energy-container[_ngcontent-%COMP%]   .energy-bar.none[_ngcontent-%COMP%]{border:indianred solid 2px}.energy-container[_ngcontent-%COMP%]   .energy-bar[_ngcontent-%COMP%]:hover, .energy-container[_ngcontent-%COMP%]   .hovered[_ngcontent-%COMP%]{background-color:#6e6e6e}.energy-container[_ngcontent-%COMP%]   .hovered-higher[_ngcontent-%COMP%]{background-color:#0000!important}.energy-container[_ngcontent-%COMP%]   .energy-bar.active[_ngcontent-%COMP%]{background-color:#fff}.energy-container[_ngcontent-%COMP%]   .energy-bar.blocked[_ngcontent-%COMP%]{border:#606060 solid 2px;background-color:#6e6e6e}.mod-info[_ngcontent-%COMP%]{position:relative;float:left;height:40px;width:40px;margin-right:5px}.mod-info[_ngcontent-%COMP%]   .mod-number[_ngcontent-%COMP%]{position:absolute;inset:1px;pointer-events:none;fill:#e0e0e0}.mod-info[_ngcontent-%COMP%]   .mod-minor[_ngcontent-%COMP%]{display:none}.mod-info[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;background:linear-gradient(to top left,rgba(0,0,0,0) 0%,rgba(0,0,0,0) calc(50% - .8px),rgb(0,0,0) 50%,rgba(0,0,0,0) calc(50% + .8px),rgba(0,0,0,0) 100%),linear-gradient(to top right,rgba(0,0,0,0) 0%,rgba(0,0,0,0) calc(50% - .8px),rgb(0,0,0) 50%,rgba(0,0,0,0) calc(50% + .8px),rgba(0,0,0,0) 100%)}.mod-info[_ngcontent-%COMP%]   .mod-icon[_ngcontent-%COMP%]{width:40px;height:40px}.mod-info[_ngcontent-%COMP%]   .mod-minor[_ngcontent-%COMP%]{border:rgba(0,0,0,0) solid 3px;width:34px;height:34px}.mod-info.major[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], .mod-info.minor[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{display:none}.mod-info.minor[_ngcontent-%COMP%]   .mod-minor[_ngcontent-%COMP%]{display:block}.mod-info.minor[_ngcontent-%COMP%]   .mod-major[_ngcontent-%COMP%]{display:none}.menuArmorIcon[_ngcontent-%COMP%]{position:absolute;top:8px}.menuArmorText[_ngcontent-%COMP%]{padding-left:35px}.selected-menu[_ngcontent-%COMP%]{background-color:#89b2ff3d}.selected-menu[_ngcontent-%COMP%]:hover{background-color:#89b2ff4d}  .modslot-select-scroll-menu{overflow-y:auto;max-height:250px!important}"]}),n})(),Bs=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-slot-limitation-title"]],decls:5,vars:0,consts:[[1,"energy"],[1,"selector-slots"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0),t._uU(2," \u80fd\u91cf "),t.qZA(),t.TgZ(3,"span",1),t._uU(4," \u7279\u6b8a\u62a4\u7532 "),t.qZA()())},styles:[".energy[_ngcontent-%COMP%]{border-bottom:#a1a1a1 1px solid;margin-bottom:6px}.selector-element[_ngcontent-%COMP%]{position:relative;float:right;width:90px;top:-26px}.selector-slots[_ngcontent-%COMP%]{position:relative;float:right;width:155px;top:-26px;text-align:center}"]}),n})();function Us(n,i){1&n&&(t.TgZ(0,"mat-toolbar",13),t._uU(1," \u5f53\u524d\u62a4\u7532\u9650\u5236\u4e0d\u5305\u542b\u4efb\u4f55\u7ed3\u679c\n"),t.qZA())}function Ps(n,i){1&n&&(t.TgZ(0,"mat-toolbar",13),t._uU(1," \u6a21\u7ec4\u8d39\u7528\u9650\u5236\u76ee\u524d\u5df2\u7981\u7528\uff0c\u62a4\u7532\u63d2\u69fd\u8fc7\u6ee4\u4ecd\u7136\u6709\u6548\u3002 "),t.qZA())}let Rs=(()=>{class n{constructor(e){this.config=e,this.ArmorSlot=b.y,this.ArmorPerkOrSlot=r.Pn,this.possibilityList=[!0,!0,!0,!0,!0],this.allPossible=!0,this.disabledSlotLimitation=!D_featureFlags_enableModslotLimitation}updatePossibility(e,o){this.possibilityList[e]=o,this.allPossible=5==this.possibilityList.filter(a=>!!a).length}clear(){this.config.modifyConfiguration(e=>{for(let o=0;o<5;o++)e.armorPerks[o+1]={fixed:!0,value:0},e.maximumModSlots[o+1]={fixed:!0,value:5}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-desired-mod-selection"]],decls:129,vars:16,consts:[["color","warn","class","mat-elevation-z4 impossible-container",4,"ngIf"],[1,"container"],[3,"slot","possible"],["id","clear-container"],["color","warn","mat-stroked-button","",3,"click"],[1,"minispace"],[1,"mat-elevation-z6"],["aria-hidden","false","inline",""],["id","explanation-description"],[1,"text-highlight"],[1,"example-usecase"],[1,"modslot-legend"],[3,"perk"],["color","warn",1,"mat-elevation-z4","impossible-container"]],template:function(e,o){1&e&&(t.YNc(0,Us,2,0,"mat-toolbar",0),t.TgZ(1,"div",1),t._UZ(2,"app-slot-limitation-title"),t.TgZ(3,"app-slot-limitation-selection",2),t.NdJ("possible",function(s){return o.updatePossibility(0,s)}),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"app-slot-limitation-selection",2),t.NdJ("possible",function(s){return o.updatePossibility(1,s)}),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"app-slot-limitation-selection",2),t.NdJ("possible",function(s){return o.updatePossibility(2,s)}),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"app-slot-limitation-selection",2),t.NdJ("possible",function(s){return o.updatePossibility(3,s)}),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"app-slot-limitation-selection",2),t.NdJ("possible",function(s){return o.updatePossibility(4,s)}),t.qZA()(),t.TgZ(12,"div",3)(13,"button",4),t.NdJ("click",function(){return o.clear()}),t._uU(14,"\u6e05\u7a7a"),t.qZA()(),t._UZ(15,"div",5),t.YNc(16,Ps,2,0,"mat-toolbar",0),t._UZ(17,"div",5),t.TgZ(18,"mat-accordion")(19,"mat-expansion-panel",6)(20,"mat-expansion-panel-header")(21,"mat-panel-title")(22,"mat-icon",7),t._uU(23,"info"),t.qZA(),t._uU(24," \u8bf4\u660e "),t.qZA(),t.TgZ(25,"mat-panel-description"),t._uU(26," \u62a4\u7532\u9650\u5236\u529f\u80fd\u8be6\u7ec6\u8bf4\u660e "),t.qZA()(),t.TgZ(27,"div",8),t._uU(28," This section allows you to further finetune the results to your requirements."),t._UZ(29,"br")(30,"div",5),t.TgZ(31,"u"),t._uU(32,"Limitation of available stat mod types"),t.qZA(),t._UZ(33,"br"),t._uU(34," First off, you are able to "),t.TgZ(35,"span",9),t._uU(36,"select the kind and amount of stat mods"),t.qZA(),t._uU(37," you want. By filling the bars you "),t.TgZ(38,"span",9),t._uU(39,"specify how many modslots are already occupied"),t.qZA(),t._uU(40," and thus the tool knows how much space it is able to use for your builds. Hover over the bars, it will show you which mods are available after you changed your selection. "),t._UZ(41,"div",5),t.TgZ(42,"div",10),t._uU(43,' Example Use Case: "On one item I can only use up to four recovery mods, no major intellect mod. One item can not hold any mods". In this scenario you would set one slot to 10 used slots, and the rest to 6. '),t.qZA(),t._UZ(44,"br"),t.TgZ(45,"u"),t._uU(46,"Filter for Elemental Affinity and Armor Perk/Slot"),t.qZA(),t._UZ(47,"br"),t._uU(48," This allows you to super-finetune your elemental and armor-perk requirements. You can change the settings for "),t.TgZ(49,"span",9),t._uU(50,"each armor slot"),t.qZA(),t._uU(51,". There are two modes per armor slot: "),t.TgZ(52,"span",9),t._uU(53,"Locked"),t.qZA(),t._uU(54," and "),t.TgZ(55,"span",9),t._uU(56,"Unlocked"),t.qZA(),t._uU(57,". Per default each entry is in the "),t.TgZ(58,"span",9),t._uU(59,"Locked"),t.qZA(),t._uU(60," mode. "),t._UZ(61,"div",5),t.TgZ(62,"span",9),t._uU(63,"Locked"),t.qZA(),t._uU(64," means that "),t.TgZ(65,"span",9),t._uU(66,"this armor slot must have"),t.qZA(),t._uU(67," the selected element or perk. "),t._UZ(68,"div",5),t.TgZ(69,"span",9),t._uU(70,"Unlocked"),t.qZA(),t._uU(71," means that the perk must exist, but "),t.TgZ(72,"span",9),t._uU(73,"the exact armor slot is irrelevant"),t.qZA(),t._uU(74,". That means that the tool can decide where it puts the desired element or perk. "),t._UZ(75,"div",5),t.TgZ(76,"div",10),t._uU(77,' Example Use Case: "The Class Item and Gauntlet '),t.TgZ(78,"span",9),t._uU(79,"must be stasis"),t.qZA(),t._uU(80,'. Oh, and I need two solar and one arc modslots, but the position does not matter". In this scenario, Class Item and Gauntlet would be '),t.TgZ(81,"span",9),t._uU(82,"Locked"),t.qZA(),t._uU(83," and the rest would be "),t.TgZ(84,"span",9),t._uU(85,"Unlocked"),t.qZA(),t._uU(86,". "),t.qZA(),t._UZ(87,"br"),t._uU(88," Legend: "),t.TgZ(89,"table",11)(90,"tr")(91,"td"),t._UZ(92,"app-armor-perk-icon",12),t.qZA(),t.TgZ(93,"td"),t._uU(94,"Vault of Glass"),t.qZA(),t.TgZ(95,"td"),t._UZ(96,"app-armor-perk-icon",12),t.qZA(),t.TgZ(97,"td"),t._uU(98,"Deep Stone Crypt"),t.qZA(),t.TgZ(99,"td"),t._UZ(100,"app-armor-perk-icon",12),t.qZA(),t.TgZ(101,"td"),t._uU(102,"Garden of Salvation"),t.qZA()(),t.TgZ(103,"tr")(104,"td"),t._UZ(105,"app-armor-perk-icon",12),t.qZA(),t.TgZ(106,"td"),t._uU(107,"Last Wish"),t.qZA(),t.TgZ(108,"td"),t._UZ(109,"app-armor-perk-icon",12),t.qZA(),t.TgZ(110,"td"),t._uU(111,"Vow of the Disciple"),t.qZA(),t.TgZ(112,"td"),t._UZ(113,"app-armor-perk-icon",12),t.qZA(),t.TgZ(114,"td"),t._uU(115,"Nightmare Modslot"),t.qZA()(),t.TgZ(116,"tr")(117,"td"),t._UZ(118,"app-armor-perk-icon",12),t.qZA(),t.TgZ(119,"td"),t._uU(120,"\u8be1\u8ba1\u62a4\u7532\u6a21\u7ec4"),t.qZA(),t.TgZ(121,"td"),t._UZ(122,"app-armor-perk-icon",12),t.qZA(),t.TgZ(123,"td"),t._uU(124,"Iron Banner Perk"),t.qZA(),t.TgZ(125,"td"),t._UZ(126,"app-armor-perk-icon",12),t.qZA(),t.TgZ(127,"td"),t._uU(128,"Uniformed Officer Perk"),t.qZA()()()()()()),2&e&&(t.Q6J("ngIf",!o.allPossible),t.xp6(3),t.Q6J("slot",o.ArmorSlot.ArmorSlotHelmet),t.xp6(2),t.Q6J("slot",o.ArmorSlot.ArmorSlotGauntlet),t.xp6(2),t.Q6J("slot",o.ArmorSlot.ArmorSlotChest),t.xp6(2),t.Q6J("slot",o.ArmorSlot.ArmorSlotLegs),t.xp6(2),t.Q6J("slot",o.ArmorSlot.ArmorSlotClass),t.xp6(5),t.Q6J("ngIf",o.disabledSlotLimitation),t.xp6(76),t.Q6J("perk",o.ArmorPerkOrSlot.SlotVaultOfGlass),t.xp6(4),t.Q6J("perk",o.ArmorPerkOrSlot.SlotDeepStoneCrypt),t.xp6(4),t.Q6J("perk",o.ArmorPerkOrSlot.SlotGardenOfSalvation),t.xp6(5),t.Q6J("perk",o.ArmorPerkOrSlot.SlotLastWish),t.xp6(4),t.Q6J("perk",o.ArmorPerkOrSlot.SlotVowOfTheDisciple),t.xp6(4),t.Q6J("perk",o.ArmorPerkOrSlot.SlotNightmare),t.xp6(5),t.Q6J("perk",o.ArmorPerkOrSlot.SlotArtifice),t.xp6(4),t.Q6J("perk",o.ArmorPerkOrSlot.PerkIronBanner),t.xp6(4),t.Q6J("perk",o.ArmorPerkOrSlot.PerkUniformedOfficer))},dependencies:[T.O5,B.lW,X.Hw,z.Ye,R.pp,R.ib,R.yz,R.yK,R.u4,ks,Gt,Bs],styles:[".container[_ngcontent-%COMP%]{margin-bottom:10px}.impossible-container[_ngcontent-%COMP%]{text-align:center;margin-right:auto;margin-left:auto;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;font-size:15px;line-height:20px;margin-bottom:10px}.element-icon[_ngcontent-%COMP%]{height:30px;width:30px}.element-icon.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.overlay-icon-container[_ngcontent-%COMP%]{position:relative}.overlay-icon-container[_ngcontent-%COMP%]   .overlay-icon[_ngcontent-%COMP%]{width:20px;position:absolute;left:5px;bottom:9px;pointer-events:none}.modslot-legend[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 0;width:100%}.modslot-legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}#explanation-description[_ngcontent-%COMP%]{width:520px}.minispace[_ngcontent-%COMP%]{height:7px}.text-highlight[_ngcontent-%COMP%]{color:#cddcef}.example-usecase[_ngcontent-%COMP%]{font-size:small;line-height:normal}"]}),n})();function Ns(n,i){if(1&n&&t._UZ(0,"img",5),2&n){const e=t.oxw();t.s9C("alt",e.exoticPerk.name),t.MGl("src","https://bungie.net/",e.exoticPerk.icon,"",t.LSH)}}function qs(n,i){1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"\u6b63\u5728\u52a0\u8f7d\u5f02\u57df\u62a4\u7532 perk"),t.qZA()())}function Js(n,i){1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2,"No (fixed) exotic perk available."),t.qZA()())}function Ls(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"span"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.exoticPerk.name)}}function Ys(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",6),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.exoticPerk.description," ")}}let Qs=(()=>{class n{constructor(e,o){this.inv=e,this.iconService=o,this.exoticPerkNotThere=!1}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.exoticPerk=yield e.iconService.getItemCached(e.armor?.exoticPerkHash??0),e.exoticPerkNotThere=null==e.exoticPerk})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et),t.Y36(ue))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-exotic-perk-tooltip"]],inputs:{armor:"armor"},decls:12,vars:6,consts:[[1,"tooltip-container"],["rowspan","2",1,"perk-icon-col"],["class","perk-icon",3,"alt","src",4,"ngIf"],[1,"exotic-name"],[4,"ngIf"],[1,"perk-icon",3,"alt","src"],["colspan","2"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t.YNc(5,Ns,1,2,"img",2),t.qZA(),t.TgZ(6,"td",3),t._uU(7),t.qZA()(),t.YNc(8,qs,3,0,"tr",4),t.YNc(9,Js,3,0,"tr",4),t.YNc(10,Ls,4,1,"tr",4),t.YNc(11,Ys,3,1,"tr",4),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngIf",o.exoticPerk),t.xp6(2),t.Oqu(null==o.armor?null:o.armor.name),t.xp6(1),t.Q6J("ngIf",!o.exoticPerk&&!o.exoticPerkNotThere),t.xp6(1),t.Q6J("ngIf",!o.exoticPerk&&o.exoticPerkNotThere),t.xp6(1),t.Q6J("ngIf",o.exoticPerk),t.xp6(1),t.Q6J("ngIf",o.exoticPerk))},dependencies:[T.O5],styles:["[_nghost-%COMP%]{width:350px}.tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.perk-icon[_ngcontent-%COMP%]{width:50px;height:50px}.perk-icon-col[_ngcontent-%COMP%]{width:55px}.exotic-name[_ngcontent-%COMP%]{color:#eedb9e}"]}),n})(),Vs=(()=>{class n{constructor(e,o,a){this._overlay=e,this._overlayPositionBuilder=o,this._elementRef=a,this.showToolTip=!0}ngOnInit(){if(!this.showToolTip)return;const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(new Qt.C5(Qs)).instance.armor=this.exoticTooltip)}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(gt.aV),t.Y36(gt.wJ),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","exoticTooltip",""]],hostBindings:function(e,o){1&e&&t.NdJ("mouseenter",function(){return o.show()})("mouseleave",function(){return o.hide()})},inputs:{showToolTip:"showToolTip",exoticTooltip:"exoticTooltip",contentTemplate:"contentTemplate"}}),n})();function Hs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",4,5),t.NdJ("click",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.selectExotic(-2,a))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Gre("exoticIcon ",e.selectedExotics.indexOf(-2)>-1?"selected":"","")}}function Ws(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"img",6,5),t.NdJ("click",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.selectExotic(-1,a))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Gre("exoticIcon ",e.selectedExotics.indexOf(-1)>-1?"selected":"","")}}function js(n,i){if(1&n&&t._UZ(0,"img",10),2&n){const e=t.oxw().$implicit;t.MGl("src","https://www.bungie.net/",e.item.watermarkIcon,"",t.LSH)}}function zs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",7)(1,"img",8),t.NdJ("click",function(a){const c=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(c.inInventory&&p.selectExotic(c.item.hash,a))}),t.qZA(),t.YNc(2,js,1,1,"img",9),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Gre("exoticIcon ",o.selectedExotics.indexOf(e.item.hash)>-1?"selected":"",""),t.ekj("disabled",!e.inInventory),t.MGl("src","https://www.bungie.net/",e.item.icon,"",t.LSH),t.Q6J("exoticTooltip",e.item),t.xp6(1),t.Q6J("ngIf",e.item.watermarkIcon)}}function Gs(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Hs,2,3,"img",1),t.YNc(2,Ws,2,3,"img",2),t.YNc(3,zs,3,8,"span",3),t.qZA()),2&n){const e=i.$implicit,o=i.index;t.Q6J("@listAnimation",e.length),t.xp6(1),t.Q6J("ngIf",0===o),t.xp6(1),t.Q6J("ngIf",0===o),t.xp6(1),t.Q6J("ngForOf",e)}}const Ks=(0,q.X$)("listAnimation",[(0,q.eR)("* <=> *",[(0,q.IO)(":enter",[(0,q.oB)({opacity:0}),(0,q.EY)("30ms",(0,q.jt)("350ms ease-out",(0,q.oB)({opacity:1})))],{optional:!0})])]);let Xs=(()=>{class n{constructor(e,o){this.inventory=e,this.config=o,this.selectedExotics=[],this.currentClass=u.Titan,this.exotics=[],this.ngUnsubscribe=new nt.xQ}ngOnInit(){var e=this;this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(function(){var o=(0,m.Z)(function*(a){(a.characterClass!=e.currentClass||0==e.exotics.length)&&(e.currentClass=a.characterClass,yield e.updateExoticsForClass()),e.selectedExotics=a.selectedExotics});return function(a){return o.apply(this,arguments)}}()),this.inventory.manifest.pipe((0,st.b)(10),(0,J.R)(this.ngUnsubscribe)).subscribe((0,m.Z)(function*(){yield e.updateExoticsForClass()})),this.inventory.inventory.pipe((0,st.b)(10),(0,J.R)(this.ngUnsubscribe)).subscribe((0,m.Z)(function*(){yield e.updateExoticsForClass()}))}updateExoticsForClass(){var e=this;return(0,m.Z)(function*(){const o=yield e.inventory.getExoticsForClass(e.currentClass);function a(s){var c={};return s.filter(function(p){var d=p.item.hash;return!c.hasOwnProperty(d)&&(c[d]=!0)})}e.exotics=[a(o.filter(s=>s.item.slot==b.y.ArmorSlotHelmet)),a(o.filter(s=>s.item.slot==b.y.ArmorSlotGauntlet)),a(o.filter(s=>s.item.slot==b.y.ArmorSlotChest)),a(o.filter(s=>s.item.slot==b.y.ArmorSlotLegs))]})()}selectExotic(e,o){const a=this.selectedExotics.indexOf(e);a>-1?this.selectedExotics.splice(a,1):-1==e?this.selectedExotics=[-1]:(0==this.selectedExotics.length||!o.shiftKey)&&(this.selectedExotics=[e]),this.config.modifyConfiguration(s=>{s.selectedExotics=this.selectedExotics})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et),t.Y36(H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-desired-exotic-selection"]],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],["src","https://www.bungie.net/common/destiny2_content/icons/763634b78eb22168ac707500588b7333.jpg","matTooltip","\u4f7f\u7528\u4efb\u610f\u5f02\u57df\u62a4\u7532",3,"class","click",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png","matTooltip","\u5ffd\u7565\u5f02\u57df\u62a4\u7532",3,"class","click",4,"ngIf"],["class","container",4,"ngFor","ngForOf"],["src","https://www.bungie.net/common/destiny2_content/icons/763634b78eb22168ac707500588b7333.jpg","matTooltip","\u4f7f\u7528\u4efb\u610f\u5f02\u57df\u62a4\u7532",3,"click"],["tooltip","matTooltip"],["src","https://www.bungie.net/common/destiny2_content/icons/b4d05ef69d0c3227a7d4f7f35bbc2848.png","matTooltip","\u5ffd\u7565\u5f02\u57df\u62a4\u7532",3,"click"],[1,"container"],[3,"src","exoticTooltip","click"],["class","watermarkIcon",3,"src",4,"ngIf"],[1,"watermarkIcon",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"\u5173\u4e8e\u82f1\u7075\u65e5\u9762\u5177\uff0c\u8bf7\u4e0b\u62c9\u5230\u201c\u9ad8\u7ea7\u8bbe\u7f6e\u201d"),t.qZA()(),t.YNc(3,Gs,4,4,"div",0)),2&e&&(t.xp6(3),t.Q6J("ngForOf",o.exotics))},dependencies:[T.sg,T.O5,N.gM,Vs],styles:[".exoticIcon[_ngcontent-%COMP%]{width:36px;height:36px;margin-right:3px;border:rgba(0,0,0,0) solid 2px;cursor:pointer}.watermarkIcon[_ngcontent-%COMP%]{width:36px;height:36px;margin-left:-41px;margin-top:2px;position:absolute;pointer-events:none}.exoticIcon[_ngcontent-%COMP%]:hover{border:cornflowerblue solid 2px}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]:hover{border:#0059ff solid 2px}[_nghost-%COMP%]{position:relative}.exoticText[_ngcontent-%COMP%]{position:absolute;text-shadow:0 0 6px #000000;background:rgba(33,33,33,.51);color:#f5f5f5;bottom:4px;right:5px}.disabled[_ngcontent-%COMP%]{filter:grayscale(1) contrast(.6)}.disabled[_ngcontent-%COMP%]:hover{cursor:default}"],data:{animation:[Ks]}}),n})(),$s=(()=>{class n{constructor(e,o,a){var s=this;this.auth=e,this.api=o,this.inventory=a,this.characters=[],this.loadCachedData(),e.logoutEvent.subscribe(c=>this.clearCachedData()),this.inventory.inventory.subscribe((0,m.Z)(function*(){yield s.updateCharacterData()}))}clearCachedData(){this.characters=[],localStorage.removeItem("cachedCharacters")}loadCachedData(){let e=localStorage.getItem("cachedCharacters")||"[]";this.characters=JSON.parse(e)}updateCharacterData(){var e=this;return(0,m.Z)(function*(){e.characters=yield e.api.getCharacters(),localStorage.setItem("cachedCharacters",JSON.stringify(e.characters))})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V),t.LFG(Lt),t.LFG(et))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tr(n,i){1&n&&(t.TgZ(0,"div",11),t._uU(1," \u6b63\u5728\u52a0\u8f7d.. "),t.qZA())}function er(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u6cf0\u5766"),t.qZA())}function nr(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u730e\u4eba"),t.qZA())}function or(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u672f\u58eb"),t.qZA())}function ir(n,i){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",14),t.TgZ(2,"span",15),t._uU(3),t.qZA()()),2&n){const e=t.oxw().$implicit,o=t.oxw();t.xp6(3),t.hij("\xd7",o.itemCounts[e.clazz],"")}}function ar(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selectClass(s.clazz))}),t.TgZ(1,"div",13),t.YNc(2,er,2,0,"span",3),t.YNc(3,nr,2,0,"span",3),t.YNc(4,or,2,0,"span",3),t.qZA(),t.YNc(5,ir,4,1,"div",3),t.qZA()}if(2&n){const e=i.$implicit,o=i.index,a=t.oxw();t.Udp("background-image","url(https://bungie.net/"+e.emblemUrl+")"),t.ekj("selected",a.selectedClass===e.clazz),t.xp6(2),t.Q6J("ngIf",0===e.clazz),t.xp6(1),t.Q6J("ngIf",1===e.clazz),t.xp6(1),t.Q6J("ngIf",2===e.clazz),t.xp6(1),t.Q6J("ngIf",!!a.itemCounts[o])}}function sr(n,i){if(1&n&&(t.TgZ(0,"div")(1,"span",16),t._UZ(2,"img",17),t._uU(3),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"span",16),t._UZ(6,"img",18),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"span",16),t._UZ(10,"img",19),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"span",16),t._UZ(14,"img",20),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"span",16),t._UZ(18,"img",21),t._uU(19),t.ALo(20,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.MGl("matTooltip","\u4e0a\u7ef4\u788e\u7247: ",e.storedMaterials[4257549985],""),t.xp6(2),t.hij(" ",t.xi3(4,10,e.storedMaterials[4257549985],"1.0-0")," "),t.xp6(2),t.MGl("matTooltip","\u589e\u5f3a\u68f1\u955c: ",e.storedMaterials[4257549984],""),t.xp6(2),t.hij(" ",t.xi3(8,13,e.storedMaterials[4257549984],"1.0-0")," "),t.xp6(2),t.MGl("matTooltip","\u5f3a\u5316\u6838\u5fc3: ",e.storedMaterials[3853748946],""),t.xp6(2),t.hij(" ",t.xi3(12,16,e.storedMaterials[3853748946],"1.0-0")," "),t.xp6(2),t.MGl("matTooltip","\u4f20\u8bf4\u788e\u7247: ",e.storedMaterials[1022552290],""),t.xp6(2),t.hij(" ",t.xi3(16,19,e.storedMaterials[1022552290],"1.0-0")," "),t.xp6(2),t.MGl("matTooltip","\u5fae\u5149: ",e.storedMaterials[3159615086],""),t.xp6(2),t.hij(" ",t.xi3(20,22,e.storedMaterials[3159615086],"1.0-0")," ")}}let rr=(()=>{class n{constructor(e,o,a){this.config=e,this.userdata=o,this.inv=a,this.itemCounts=[null,null,null],this.selectedClass=-1,this.storedMaterials=null,this.ngUnsubscribe=new nt.xQ}ngOnInit(){var e=this;this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(o=>{this.selectedClass=o.characterClass;const a=-1!=this.userdata.characters.findIndex(s=>s.clazz==o.characterClass);this.userdata.characters.length>0&&!a&&this.config.modifyConfiguration(s=>{s.characterClass=this.userdata.characters[0].clazz,s.selectedExotics=[]})}),this.inv.inventory.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(function(){var o=(0,m.Z)(function*(a){yield e.loadStoredMaterials(),yield e.updateItemCount()});return function(a){return o.apply(this,arguments)}}())}selectClass(e){this.config.readonlyConfigurationSnapshot.characterClass!=e&&this.config.modifyConfiguration(o=>{o.characterClass=e,o.selectedExotics=[]})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}updateItemCount(){var e=this;return(0,m.Z)(function*(){for(let o=0;o<3;o++)e.itemCounts[o]=yield e.inv.getItemCountForClass(o)})()}loadStoredMaterials(){var e=this;return(0,m.Z)(function*(){var o=JSON.parse(localStorage.getItem("stored-materials")||"{}");"3853748946"in o||(o[3853748946]=0),"4257549984"in o||(o[4257549984]=0),"4257549985"in o||(o[4257549985]=0),"3159615086"in o||(o[3159615086]=0),"1022552290"in o||(o[1022552290]=0),e.storedMaterials=o})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H),t.Y36($s),t.Y36(et))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-desired-class-selection"]],decls:25,vars:3,consts:[[1,"character-container"],["class","character-entry",4,"ngIf"],["class","character-entry","style","float: left",3,"selected","background-image","click",4,"ngFor","ngForOf"],[4,"ngIf"],["color","primary","fxShow","false","fxShow.lt-md","true","mat-flat-button","","routerLink","/help",2,"margin-left","15px"],["inline",""],["color","accent","href","https://ko-fi.com/mijago","matTooltip","You like my work? This leads you to ko-fi.com, where you can easily support me!","target","_blank"],["color","accent","href","http://discord.d2armorpicker.com","target","_blank"],[1,"crayon_logo_container"],["alt","","src","https://cdn.discordapp.com/emojis/917423317139480586.webp?size=96&quality=lossless",1,"crayon_logo"],["href","https://mijago.github.io/Crayon","target","_blank"],[1,"character-entry"],[1,"character-entry",2,"float","left",3,"click"],[1,"class-text"],["matTooltip","\u8be5\u804c\u4e1a\u62a4\u7532\u6570\u91cf","src","data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 51 51'%3e%3cpath d='M24.77 7.03c-8.15.38-14.42 7.41-14.42 15.57v16.06c0 .23.13.44.34.53l10.33 4.68c.78.35 1.66-.22 1.66-1.07V31.9c0-.39-.19-.75-.52-.97l-5.39-3.64c-.87-.52-1.43-1.5-1.34-2.61.13-1.46 1.46-2.52 2.93-2.52h4.36c.65 0 1.17.53 1.17 1.17v6.71s0 .61 1.61.61 1.61-.61 1.61-.61v-6.71c0-.65.52-1.17 1.17-1.17h4.36c1.47 0 2.8 1.06 2.93 2.52.1 1.11-.47 2.09-1.34 2.61l-5.39 3.64c-.32.22-.52.58-.52.97v10.91c0 .85.88 1.42 1.66 1.07l10.33-4.68c.21-.1.34-.3.34-.53v-16.5c.01-8.61-7.18-15.55-15.88-15.14z'/%3e%3c/svg%3e",1,"head-icon"],["matTooltip","\u8be5\u804c\u4e1a\u62a4\u7532\u6570\u91cf",1,"armor-text"],[1,"material-listing",3,"matTooltip"],["src","https://www.bungie.net/common/destiny2_content/icons/0271d214fc3ec91b3def799a4b286b46.jpg","alt","Ascendant Shard"],["src","https://www.bungie.net/common/destiny2_content/icons/dea2a35badf7466d4c2c2697ce6e8d87.jpg","alt","Enhancement Prism"],["src","https://www.bungie.net/common/destiny2_content/icons/0a4eb695ed55b4e720ddc401460cc0f9.jpg","alt","Enhancement Core"],["src","https://www.bungie.net/common/destiny2_content/icons/18ddd0bdac721b8eb8e6f8ec2b3e813c.png","alt","Legendary Shard"],["src","https://www.bungie.net/common/destiny2_content/icons/88993eaeedad32f42072df6f77f47311.png","alt","Glimmer"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,tr,2,0,"div",1),t.YNc(2,ar,6,8,"div",2),t.qZA(),t.YNc(3,sr,21,25,"div",3),t.TgZ(4,"a",4)(5,"mat-icon",5),t._uU(6,"help"),t.qZA(),t._uU(7," Help and Information about D2ArmorPicker\n"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"div"),t._uU(10," \u597d\u7528\u7684\u8bdd\uff0c\u8bf7 "),t.TgZ(11,"a",6),t._uU(12," \u652f\u6301 "),t.qZA(),t._uU(13,"Mijago "),t._UZ(14,"br"),t._uU(15," \u4f60\u4e5f\u53ef\u4ee5\u52a0\u5165 "),t.TgZ(16,"a",7),t._uU(17," Discord \u9891\u9053 "),t.qZA(),t._uU(18," \u6216\u8005\u6765 "),t.TgZ(19,"span")(20,"div",8),t._UZ(21,"img",9),t.qZA(),t.TgZ(22,"a",10),t._uU(23," Crayon "),t.qZA(),t._uU(24,"\u770b\u770b\uff0c\u603b\u6709\u4f60\u9700\u8981\u7684\uff01 "),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",0===o.userdata.characters.length),t.xp6(1),t.Q6J("ngForOf",o.userdata.characters),t.xp6(1),t.Q6J("ngIf",null!==o.storedMaterials))},dependencies:[T.sg,T.O5,j.b8,B.zs,N.gM,X.Hw,I.yS,T.JJ],styles:[".discord-btn[_ngcontent-%COMP%]{margin-left:15px}.material-listing[_ngcontent-%COMP%]{position:relative;padding-left:22px;padding-right:10px}.material-listing[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;position:absolute;top:-2px;left:0}.crayon_logo_container[_ngcontent-%COMP%]{position:relative;width:22px;display:inline-block;margin-right:3px}.crayon_logo_container[_ngcontent-%COMP%]   .crayon_logo[_ngcontent-%COMP%]{position:absolute;width:22px;top:-14px}  .mat-option-text{color:#fff}.character-container[_ngcontent-%COMP%]{height:50px}.character-entry[_ngcontent-%COMP%]{color:#fff;background-size:cover;background-position:left center;background-repeat:no-repeat;width:180px;height:36px;position:relative;margin-right:7px;margin-bottom:7px;border:rgba(255,255,255,0) solid 2px;opacity:.75;cursor:pointer}.character-entry[_ngcontent-%COMP%]:hover{border:rgba(255,255,255,.41) solid 2px;opacity:.98}.character-entry.selected[_ngcontent-%COMP%]{cursor:default;opacity:1;border:white solid 2px}.class-text[_ngcontent-%COMP%]{position:absolute;left:35px;top:8px;font-size:x-large;text-shadow:0 0 6px #000000}.head-icon[_ngcontent-%COMP%]{height:25px;top:6px;right:30px;position:absolute;filter:invert(1) drop-shadow(1px 1px 3px rgba(0,0,0,.25))!important}.armor-text[_ngcontent-%COMP%]{position:absolute;right:4px;top:9px;text-shadow:0 0 6px #000000;font-size:small}a[_ngcontent-%COMP%]{color:#99afe3}a[_ngcontent-%COMP%]:visited{color:#7294dc}"]}),n})();var Xt=_(455);function ur(n,i){1&n&&t._UZ(0,"img",7)}function cr(n,i){1&n&&t._UZ(0,"img",8)}function lr(n,i){1&n&&t._UZ(0,"img",9)}function mr(n,i){1&n&&t._UZ(0,"img",10)}function pr(n,i){1&n&&t._UZ(0,"img",11)}function dr(n,i){1&n&&t._UZ(0,"img",12)}let de=(()=>{class n{constructor(){this.stat=r.WB.Mobility}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-stat-icon"]],inputs:{stat:"stat"},decls:7,vars:6,consts:[[1,"statContainerWrapper"],["src","https://www.bungie.net/common/destiny2_content/icons/e26e0e93a9daf4fdd21bf64eb9246340.png","class","dialogStatIcon","alt","Mobility",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/202ecc1c6febeb6b97dafc856e863140.png","class","dialogStatIcon","alt","Resilience",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/128eee4ee7fc127851ab32eac6ca91cf.png","class","dialogStatIcon","alt","Recovery",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/79be2d4adef6a19203f7385e5c63b45b.png","class","dialogStatIcon","alt","Discipline",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/d1c154469670e9a592c9d4cbdcae5764.png","class","dialogStatIcon","alt","Intellect",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/ea5af04ccd6a3470a44fd7bb0f66e2f7.png","class","dialogStatIcon","alt","Strength",4,"ngIf"],["src","https://www.bungie.net/common/destiny2_content/icons/e26e0e93a9daf4fdd21bf64eb9246340.png","alt","Mobility",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/202ecc1c6febeb6b97dafc856e863140.png","alt","Resilience",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/128eee4ee7fc127851ab32eac6ca91cf.png","alt","Recovery",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/79be2d4adef6a19203f7385e5c63b45b.png","alt","Discipline",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/d1c154469670e9a592c9d4cbdcae5764.png","alt","Intellect",1,"dialogStatIcon"],["src","https://www.bungie.net/common/destiny2_content/icons/ea5af04ccd6a3470a44fd7bb0f66e2f7.png","alt","Strength",1,"dialogStatIcon"]],template:function(e,o){1&e&&(t.TgZ(0,"span",0),t.YNc(1,ur,1,0,"img",1),t.YNc(2,cr,1,0,"img",2),t.YNc(3,lr,1,0,"img",3),t.YNc(4,mr,1,0,"img",4),t.YNc(5,pr,1,0,"img",5),t.YNc(6,dr,1,0,"img",6),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",0===o.stat),t.xp6(1),t.Q6J("ngIf",1===o.stat),t.xp6(1),t.Q6J("ngIf",2===o.stat),t.xp6(1),t.Q6J("ngIf",3===o.stat),t.xp6(1),t.Q6J("ngIf",4===o.stat),t.xp6(1),t.Q6J("ngIf",5===o.stat))},dependencies:[T.O5],styles:[".dialogStatIcon[_ngcontent-%COMP%]{position:relative;width:25px;margin-right:3px;top:4px}"]}),n})(),gr=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mod-description-tooltip"]],inputs:{mod:"mod"},decls:9,vars:2,consts:[[1,"tooltip-container"],[1,"exotic-name"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"table")(3,"tr")(4,"td",1),t._uU(5),t.qZA()(),t.TgZ(6,"tr")(7,"td"),t._uU(8),t.qZA()()()()()),2&e&&(t.xp6(5),t.Oqu(null==o.mod?null:o.mod.name),t.xp6(3),t.Oqu(null==o.mod?null:o.mod.description))},styles:["[_nghost-%COMP%]{width:350px}.tooltip-container[_ngcontent-%COMP%]{border:1px solid gray;padding:1px 5px 4px;background:linear-gradient(#484848 0px,#2c2c2c 100%)}.exotic-name[_ngcontent-%COMP%]{color:#eedb9e}"]}),n})(),_r=(()=>{class n{constructor(e,o,a){this._overlay=e,this._overlayPositionBuilder=o,this._elementRef=a}ngOnInit(){const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:5},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-5}]);this._overlayRef=this._overlay.create({positionStrategy:e}),this._overlayRef.addPanelClass("overlay-no-pointer-event")}show(){this._overlayRef&&!this._overlayRef.hasAttached()&&(this._overlayRef.attach(new Qt.C5(gr)).instance.mod=this.mod)}hide(){this.closeToolTip()}ngOnDestroy(){this.closeToolTip()}closeToolTip(){this._overlayRef&&this._overlayRef.detach()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(gt.aV),t.Y36(gt.wJ),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","modTooltip",""]],hostBindings:function(e,o){1&e&&t.NdJ("mouseenter",function(){return o.show()})("mouseleave",function(){return o.hide()})},inputs:{mod:["modTooltip","mod"]}}),n})();function fr(n,i){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"mat-button-toggle-group",4)(3,"mat-button-toggle",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setElement(a.ModifierType.Arc))}),t._uU(4," \u7535\u5f27 "),t.qZA(),t.TgZ(5,"mat-button-toggle",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setElement(a.ModifierType.Solar))}),t._uU(6," \u70c8\u65e5 "),t.qZA(),t.TgZ(7,"mat-button-toggle",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setElement(a.ModifierType.Void))}),t._uU(8," \u865a\u7a7a "),t.qZA(),t.TgZ(9,"mat-button-toggle",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setElement(a.ModifierType.Stasis))}),t._uU(10," \u51b0\u5f71 "),t.qZA(),t.TgZ(11,"mat-button-toggle",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setElement(a.ModifierType.Strand))}),t._uU(12," \u7f1a\u4e1d "),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("value",e.selectedElement),t.xp6(1),t.Q6J("value",e.ModifierType.Arc),t.xp6(2),t.Q6J("value",e.ModifierType.Solar),t.xp6(2),t.Q6J("value",e.ModifierType.Void),t.xp6(2),t.Q6J("value",e.ModifierType.Stasis),t.xp6(2),t.Q6J("value",e.ModifierType.Strand)}}function hr(n,i){if(1&n&&(t.TgZ(0,"h3",8),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.name)}}function Cr(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"There are no fragments configured yet. Please be patient."),t.qZA())}function xr(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"\u788e\u7247\u540d\u79f0"),t.qZA())}function Ar(n,i){if(1&n&&(t.TgZ(0,"td",23)(1,"mat-slide-toggle",24),t._uU(2),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(4);t.Q6J("modTooltip",e),t.xp6(1),t.Q6J("checked",o.selectedMods.indexOf(e.id)>-1),t.xp6(1),t.hij(" ",e.name," ")}}function Tr(n,i){1&n&&(t.TgZ(0,"th",22),t._UZ(1,"app-stat-icon",25),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",0))}function br(n,i){if(1&n&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("+",e,"")}}function vr(n,i){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.Oqu(e)}}function Er(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,br,2,1,"span",28),t.YNc(2,vr,2,1,"span",29),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",e<0)}}function yr(n,i){if(1&n&&(t.TgZ(0,"td",26),t.YNc(1,Er,3,2,"span",27),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngVar",o.getModifierTextForValue(e.bonus,0))}}function Zr(n,i){1&n&&(t.TgZ(0,"th",22),t._UZ(1,"app-stat-icon",25),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",1))}function Fr(n,i){if(1&n&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("+",e,"")}}function wr(n,i){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.Oqu(e)}}function Dr(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Fr,2,1,"span",28),t.YNc(2,wr,2,1,"span",29),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",e<0)}}function Sr(n,i){if(1&n&&(t.TgZ(0,"td",26),t.YNc(1,Dr,3,2,"span",27),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngVar",o.getModifierTextForValue(e.bonus,1))}}function Ir(n,i){1&n&&(t.TgZ(0,"th",22),t._UZ(1,"app-stat-icon",25),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",2))}function Or(n,i){if(1&n&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("+",e,"")}}function Mr(n,i){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.Oqu(e)}}function kr(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Or,2,1,"span",28),t.YNc(2,Mr,2,1,"span",29),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",e<0)}}function Br(n,i){if(1&n&&(t.TgZ(0,"td",26),t.YNc(1,kr,3,2,"span",27),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngVar",o.getModifierTextForValue(e.bonus,2))}}function Ur(n,i){1&n&&(t.TgZ(0,"th",22),t._UZ(1,"app-stat-icon",25),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",3))}function Pr(n,i){if(1&n&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("+",e,"")}}function Rr(n,i){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.Oqu(e)}}function Nr(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Pr,2,1,"span",28),t.YNc(2,Rr,2,1,"span",29),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",e<0)}}function qr(n,i){if(1&n&&(t.TgZ(0,"td",26),t.YNc(1,Nr,3,2,"span",27),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngVar",o.getModifierTextForValue(e.bonus,3))}}function Jr(n,i){1&n&&(t.TgZ(0,"th",22),t._UZ(1,"app-stat-icon",25),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",4))}function Lr(n,i){if(1&n&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("+",e,"")}}function Yr(n,i){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.Oqu(e)}}function Qr(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Lr,2,1,"span",28),t.YNc(2,Yr,2,1,"span",29),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",e<0)}}function Vr(n,i){if(1&n&&(t.TgZ(0,"td",26),t.YNc(1,Qr,3,2,"span",27),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngVar",o.getModifierTextForValue(e.bonus,4))}}function Hr(n,i){1&n&&(t.TgZ(0,"th",22),t._UZ(1,"app-stat-icon",25),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",5))}function Wr(n,i){if(1&n&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.hij("+",e,"")}}function jr(n,i){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngVar;t.xp6(1),t.Oqu(e)}}function zr(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Wr,2,1,"span",28),t.YNc(2,jr,2,1,"span",29),t.qZA()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",e<0)}}function Gr(n,i){if(1&n&&(t.TgZ(0,"td",26),t.YNc(1,zr,3,2,"span",27),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("ngVar",o.getModifierTextForValue(e.bonus,5))}}function Kr(n,i){1&n&&t._UZ(0,"tr",32)}function Xr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.handleRowClick(s))}),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.ekj("selected",o.selectedMods.indexOf(e.id)>-1)}}function $r(n,i){if(1&n&&(t.TgZ(0,"table",9),t.ynx(1,10),t.YNc(2,xr,2,0,"th",11),t.YNc(3,Ar,3,3,"td",12),t.BQk(),t.ynx(4,13),t.YNc(5,Tr,2,1,"th",11),t.YNc(6,yr,2,1,"td",14),t.BQk(),t.ynx(7,15),t.YNc(8,Zr,2,1,"th",11),t.YNc(9,Sr,2,1,"td",14),t.BQk(),t.ynx(10,16),t.YNc(11,Ir,2,1,"th",11),t.YNc(12,Br,2,1,"td",14),t.BQk(),t.ynx(13,17),t.YNc(14,Ur,2,1,"th",11),t.YNc(15,qr,2,1,"td",14),t.BQk(),t.ynx(16,18),t.YNc(17,Jr,2,1,"th",11),t.YNc(18,Vr,2,1,"td",14),t.BQk(),t.ynx(19,19),t.YNc(20,Hr,2,1,"th",11),t.YNc(21,Gr,2,1,"td",14),t.BQk(),t.YNc(22,Kr,1,0,"tr",20),t.YNc(23,Xr,1,2,"tr",21),t.qZA()),2&n){const e=t.oxw(2).$implicit,o=t.oxw();t.Q6J("dataSource",e.data),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}function tu(n,i){if(1&n&&(t.ynx(0),t.YNc(1,hr,2,1,"h3",6),t.YNc(2,Cr,2,0,"span",3),t.YNc(3,$r,24,3,"table",7),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.group),t.xp6(1),t.Q6J("ngIf",0===e.data.length),t.xp6(1),t.Q6J("ngIf",e.data.length>0)}}function eu(n,i){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,fr,13,6,"ng-container",3),t.YNc(2,tu,4,3,"ng-container",3),t.qZA()),2&n){const e=i.$implicit,o=i.index,a=t.oxw();t.xp6(1),t.Q6J("ngIf",0===o),t.xp6(1),t.Q6J("ngIf",!e.group||e.type===a.selectedElement)}}let nu=(()=>{class n{constructor(e){this.config=e,this.ModifierType=h.O,this.ModOrAbility=f,this.displayedColumns=["name","mobility","resilience","recovery","discipline","intellect","strength"],this.selectedClass=u.None,this.selectedMods=[],this.selectedElement=h.O.Solar,this.ngUnsubscribe=new nt.xQ;const o=Object.values(dt).sort((C,E)=>C.name.toLowerCase()<E.name.toLowerCase()?-1:C.name.toLowerCase()>E.name.toLowerCase()?1:0);o.filter(C=>C.type==h.O.CombatStyleMod);let s=o.filter(C=>C.type==h.O.Stasis),c=o.filter(C=>C.type==h.O.Void),p=o.filter(C=>C.type==h.O.Solar),d=o.filter(C=>C.type==h.O.Arc),x=o.filter(C=>C.type==h.O.Strand);this.data=[{name:"Stasis Fragments",data:s,group:!0,type:h.O.Stasis},{name:"Void Fragments",data:c,group:!0,type:h.O.Void},{name:"Solar Fragments",data:p,group:!0,type:h.O.Solar},{name:"Arc Fragments",data:d,group:!0,type:h.O.Arc},{name:"Strand Fragments",data:x,group:!0,type:h.O.Strand}],this.dataSource=o}ngOnInit(){this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(e=>{this.selectedMods=e.enabledMods,this.selectedClass=e.characterClass,this.selectedElement=e.selectedModElement})}getModifierTextForValue(e,o){return e.filter(a=>a.stat==o||a.stat==r.AR.ClassAbilityRegenerationStat&&(this.selectedClass==u.Titan&&o==r.WB.Resilience||this.selectedClass==u.Hunter&&o==r.WB.Mobility||this.selectedClass==u.Warlock&&o==r.WB.Recovery)).reduce((a,s)=>a+s.value,0)}handleRowClick(e){this.config.modifyConfiguration(o=>{const a=o.enabledMods.indexOf(e.id);a>-1?o.enabledMods.splice(a,1):o.enabledMods.push(e.id)})}clear(){this.config.modifyConfiguration(e=>{e.enabledMods=[]})}getAffinityName(e){return r.vr[e]}getAffinityUrl(e){return r.Sy[e]}setElement(e){this.selectedElement!=e&&this.config.modifyConfiguration(o=>{const a=o.enabledMods.filter(s=>dt[s].type!=h.O.CombatStyleMod&&dt[s].type!=e);o.selectedModElement=e;for(let s of a){const c=o.enabledMods.indexOf(s);o.enabledMods.splice(c,1)}})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-desired-mods-selection"]],features:[t._Bn([{provide:Xt.HT,useValue:{disableToggleValue:!1,disableDragValue:!0}}])],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],["id","clear-container"],["color","warn","mat-stroked-button","",3,"click"],[4,"ngIf"],[3,"value"],[3,"value","click"],["class","stat-part-title",4,"ngIf"],["mat-table","",3,"dataSource",4,"ngIf"],[1,"stat-part-title"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"modTooltip",4,"matCellDef"],["matColumnDef","mobility"],["mat-cell","",4,"matCellDef"],["matColumnDef","resilience"],["matColumnDef","recovery"],["matColumnDef","discipline"],["matColumnDef","intellect"],["matColumnDef","strength"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"modTooltip"],["color","primary","disabled","",2,"cursor","pointer !important",3,"checked"],[3,"stat"],["mat-cell",""],[4,"ngVar"],["class","stat-positive",4,"ngIf"],["class","stat-negative",4,"ngIf"],[1,"stat-positive"],[1,"stat-negative"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,eu,3,2,"span",0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.clear()}),t._uU(3,"\u6e05\u7a7a"),t.qZA()()),2&e&&t.Q6J("ngForOf",o.data)},dependencies:[T.sg,T.O5,B.lW,Xt.Rr,F.BZ,F.fO,F.as,F.w1,F.Dz,F.nj,F.ge,F.ev,F.XQ,F.Gk,_t.A9,_t.Yi,de,yt,_r],styles:[".mat-slide-toggle.mat-disabled[_ngcontent-%COMP%]{opacity:1}.stat-part-title[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:5px}.modTable[_ngcontent-%COMP%]{width:100%}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{height:30px}.mat-column-mobility[_ngcontent-%COMP%], .mat-column-resilience[_ngcontent-%COMP%], .mat-column-recovery[_ngcontent-%COMP%], .mat-column-discipline[_ngcontent-%COMP%], .mat-column-intellect[_ngcontent-%COMP%], .mat-column-strength[_ngcontent-%COMP%], .mat-column-cost[_ngcontent-%COMP%]{min-width:40px;text-align:center}.mat-row[_ngcontent-%COMP%]:hover{background-color:#494949}.mat-column-mobility[_ngcontent-%COMP%], .mat-column-recovery[_ngcontent-%COMP%], .mat-column-intellect[_ngcontent-%COMP%]{background-color:#464646}.mat-column-name[_ngcontent-%COMP%]{padding-right:4px;border-right:1px solid currentColor;min-width:150px}.mat-row[_ngcontent-%COMP%]{cursor:pointer}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.mat-cell[_ngcontent-%COMP%]:last-of-type, .mat-header-cell[_ngcontent-%COMP%]:last-of-type, .mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.stat-negative[_ngcontent-%COMP%], .stat-positive[_ngcontent-%COMP%]{margin-right:3px}.stat-negative[_ngcontent-%COMP%]{color:#f08080}.stat-positive[_ngcontent-%COMP%]{color:#b6cbfc}.stat-display[_ngcontent-%COMP%]{width:60px;float:left;align-content:end;text-align:right}.mat-row[_ngcontent-%COMP%]:hover, .mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#494949}.mat-row.selected[_ngcontent-%COMP%]:hover, .mat-row.selected[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#89b2ff30}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-mobility[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-recovery[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-intellect[_ngcontent-%COMP%]{background-color:#89b2ff1c}.mat-column-name[_ngcontent-%COMP%]{min-width:190px}.element-icon[_ngcontent-%COMP%]{width:22px}#clear-container[_ngcontent-%COMP%]{padding-top:10px}#retrofit-table[_ngcontent-%COMP%]   .rft-icon-container[_ngcontent-%COMP%]{width:22px;display:inline-block}#retrofit-table[_ngcontent-%COMP%]   .rft-icon-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative}#retrofit-table[_ngcontent-%COMP%]   .rft-icon-container[_ngcontent-%COMP%]   app-stat-icon[_ngcontent-%COMP%]{position:absolute;top:-22px;left:-10px}"]}),n})();function ou(n,i){if(1&n&&(t.TgZ(0,"mat-icon",8,9),t._uU(2," help "),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("matTooltip",e.help)}}function iu(n,i){1&n&&(t.TgZ(0,"mat-icon",10,9),t._uU(2," report_problem "),t.qZA())}function au(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"mat-slide-toggle",5),t.NdJ("change",function(a){const c=t.CHM(e).$implicit;return t.KtG(c.cp(a.checked))}),t._uU(2),t.qZA(),t.YNc(3,ou,3,1,"mat-icon",6),t.YNc(4,iu,3,0,"mat-icon",7),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("disabled",e.disabled)("checked",e.value),t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",e.help),t.xp6(1),t.Q6J("ngIf",e.impactsResultCount)}}function su(n,i){if(1&n&&(t.TgZ(0,"div")(1,"span",1),t._uU(2),t.qZA(),t.YNc(3,au,5,5,"div",2),t._UZ(4,"div",3),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngForOf",o.fields2[e])}}let ru=(()=>{class n{constructor(e){this.config=e,this.fields2={},this.fieldKeys=[],this.ngUnsubscribe=new nt.xQ}ngOnInit(){this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(e=>{this.fields2={\u4e8b\u4ef6:[{name:"\u5f3a\u5236\u4f7f\u7528\u82f1\u7075\u65e5\u9762\u5177",cp:o=>this.config.modifyConfiguration(a=>a.useFotlArmor=o),value:e.useFotlArmor,disabled:!1,impactsResultCount:!0,help:"\u4ec5\u5bf9\u82f1\u7075\u65e5\u9762\u5177\u6709\u6548\uff0c\u5982\u679c\u4f60\u6ca1\u6709\u82f1\u7075\u65e5\u9762\u5177\uff0c\u90a3\u751f\u6210\u7ed3\u679c\u4e0d\u4f1a\u6709\u4efb\u4f55\u53d8\u5316"}],\u62a4\u7532\u9009\u62e9:[{name:"\u5141\u8bb8\u4f7f\u7528\u9664\u5f02\u57df\u4ee5\u53ca\u4f20\u8bf4\u4ee5\u5916\u7684\u5176\u4ed6\u62a4\u7532",cp:o=>this.config.modifyConfiguration(a=>a.allowBlueArmorPieces=o),value:e.allowBlueArmorPieces,disabled:!1,impactsResultCount:!1,help:"\u6b64\u8bbe\u7f6e\u5141\u8bb8\u4f60\u4f7f\u7528\u84dd\u7eff\u767d\u88c5\u3002"},{name:"\u5ffd\u7565\u65e5\u843d\u62a4\u7532",cp:o=>this.config.modifyConfiguration(a=>a.ignoreSunsetArmor=o),value:e.ignoreSunsetArmor,disabled:!1,impactsResultCount:!1,help:"\u751f\u6210\u7ed3\u679c\u4e2d\u5ffd\u7565\u65e5\u843d\u62a4\u7532"}],\u5927\u5e08\u6770\u4f5c:[{name:"\u5047\u8bbe\u6240\u6709\u7d2b\u88c5\u90fd\u5347\u7ea7\u5230\u4e86\u5927\u5e08",cp:o=>this.config.modifyConfiguration(a=>a.assumeLegendariesMasterworked=o),value:e.assumeLegendariesMasterworked,disabled:!1,impactsResultCount:!1,help:void 0},{name:"\u5047\u8bbe\u6240\u6709\u91d1\u88c5\u90fd\u5347\u7ea7\u5230\u4e86\u5927\u5e08",cp:o=>this.config.modifyConfiguration(a=>a.assumeExoticsMasterworked=o),value:e.assumeExoticsMasterworked,disabled:!1,impactsResultCount:!1,help:"\u5982\u679c\u542f\u7528\u6b64\u8bbe\u7f6e\uff0cD2AP \u4f1a\u5c06\u6240\u6709\u672a\u5347\u7ea7\u5230\u5927\u5e08\u7684\u91d1\u88c5\u89c6\u4e3a\u5df2\u5347\u7ea7\u5230\u5927\u5e08\u3002"},{name:"\u5047\u8bbe\u6240\u6709\u804c\u4e1a\u7269\u54c1\u90fd\u5347\u7ea7\u5230\u4e86\u5927\u5e08",cp:o=>this.config.modifyConfiguration(a=>a.assumeClassItemMasterworked=o),value:e.assumeClassItemMasterworked,disabled:!1,impactsResultCount:!1,help:"\u5982\u679c\u542f\u7528\u6b64\u8bbe\u7f6e\uff0cD2AP \u4f1a\u7ed9\u804c\u4e1a\u7269\u54c1\u7684\u6bcf\u4e2a\u5c5e\u6027\u90fd +2\u3002"},{name:"\u4ec5\u4f7f\u7528\u5df2\u7ecf\u5347\u7ea7\u5230\u5927\u5e08\u7684\u62a4\u7532",cp:o=>this.config.modifyConfiguration(a=>a.onlyUseMasterworkedItems=o),value:e.onlyUseMasterworkedItems,disabled:!1,impactsResultCount:!0,help:void 0}],\u6027\u80fd\u4f18\u5316:[{name:"\u4f7f\u7528\u5b89\u5168\u7b56\u7565\u9632\u6b62\u5e94\u7528\u5d29\u6e83\uff08\u5237\u65b0\u9875\u9762\u65f6\u8bbe\u7f6e\u91cd\u7f6e\uff09\u3002",cp:o=>this.config.modifyConfiguration(a=>a.limitParsedResults=o),value:e.limitParsedResults,disabled:!1,impactsResultCount:!0,help:"\u4ec5\u5c55\u793a\u524d 3000 \u6761\u751f\u6210\u7ed3\u679c\uff0c\u5173\u95ed\u6b64\u8bbe\u7f6e\u4f1a\u5c06\u5c55\u793a\u6761\u76ee\u9650\u5236\u5728 1000000 \u6761\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5e94\u7528\u5d29\u6e83\u3002\u8bf7\u6ce8\u610f\uff0c\u542f\u7528\u6b64\u8bbe\u7f6e\u5e76\u4e0d\u4f1a\u4f7f\u4f60\u9519\u8fc7\u6700\u4f73 bd \u7ec4\u5408\u3002"},{name:"\u6267\u884c\u8fdb\u4e00\u6b65\u7684\u4f18\u5316",cp:o=>this.config.modifyConfiguration(a=>a.executeModOptimization=o),value:e.executeModOptimization,disabled:!1,impactsResultCount:!0,help:"\u9009\u62e9\u6a21\u7ec4\u65f6\u6267\u884c\u8fdb\u4e00\u6b65\u7684\u4f18\u5316\uff0c\u8fd9\u4f1a\u589e\u52a0\u8ba1\u7b97\u6240\u9700\u7684\u65f6\u95f4\u3002"}],"Extra Columns":[{name:"\u5c55\u793a\u53ef\u8fbe\u5230\u7684\u6700\u9ad8\u5c5e\u6027\u800c\u4e0d\u662f\u5b9e\u9645\u5c5e\u6027",cp:o=>this.config.modifyConfiguration(a=>a.showPotentialTierColumn=o),value:e.showPotentialTierColumn,disabled:!1,impactsResultCount:!1,help:"Shows an additional column in the table that shows how many tiers this build would have, if all stat mods were used. This is important when builds do not use all 5 stat mods."},{name:"\u65b0\u589e\u4e00\u5217\u5c55\u793a\u5c5e\u6027\u6d6a\u8d39\u60c5\u51b5",cp:o=>this.config.modifyConfiguration(a=>a.showWastedStatsColumn=o),value:e.showWastedStatsColumn,disabled:!1,impactsResultCount:!1,help:"Shows an additional column in the table that shows how many stats are wasted in a build."}],\u5c5e\u6027\u6d6a\u8d39:[{name:"\u5c1d\u8bd5\u4f18\u5316\u5c5e\u6027\u6d6a\u8d39",cp:o=>this.config.modifyConfiguration(a=>a.tryLimitWastedStats=o),value:e.tryLimitWastedStats,disabled:!1,impactsResultCount:!1,help:"D2AP \u5c06\u5c1d\u8bd5\u4f7f\u7528\u5c0f\u578b\u5c5e\u6027\u6a21\u7ec4\u4ee5\u51cf\u5c11\u5c5e\u6027\u6d6a\u8d39\u3002"},{name:"\u4ec5\u663e\u793a\u96f6\u6d6a\u8d39\u7684 build",cp:o=>this.config.modifyConfiguration(a=>a.onlyShowResultsWithNoWastedStats=o),value:D_featureFlags_enableZeroWaste&&e.tryLimitWastedStats&&e.onlyShowResultsWithNoWastedStats,disabled:!e.tryLimitWastedStats||!D_featureFlags_enableZeroWaste,impactsResultCount:!0,help:"\u8fd9\u610f\u5473\u7740\u5f88\u53ef\u80fd\u6ca1\u6709\u4efb\u4f55\u7ed3\u679c"}],\u6570\u636e\u79d1\u5b66:[{name:"Add a constant +1 resilience to the results with non-exotic chests (resets on reload).",cp:o=>this.config.modifyConfiguration(a=>a.addConstent1Resilience=o),value:e.addConstent1Resilience,disabled:!1,impactsResultCount:!1,help:"\u901a\u5e38\u7528\u4e0d\u4e0a"},{name:"\u5047\u8bbe\u7d2b\u88c5\u90fd\u662f\u8be1\u8ba1\u62a4\u7532",cp:o=>this.config.modifyConfiguration(a=>a.assumeEveryLegendaryIsArtifice=o),value:e.assumeEveryLegendaryIsArtifice,disabled:!1,impactsResultCount:!0,help:"\u8c03\u8bd5\u7528\uff0c\u5237\u65b0\u9875\u9762\u5c06\u91cd\u7f6e\u3002"}]},this.fieldKeys=Object.keys(this.fields2)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-advanced-settings"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"category-header"],["class","adv-settings",4,"ngFor","ngForOf"],[1,"category-spacer"],[1,"adv-settings"],["color","primary",3,"disabled","checked","change"],["inline","","aria-hidden","false","aria-label","Help",3,"matTooltip",4,"ngIf"],["inline","","aria-hidden","false","aria-label","Help","class","report-problem-icon","matTooltip","\u6b64\u8bbe\u7f6e\u53ef\u80fd\u4f1a\u5f71\u54cd\u751f\u6210\u7ed3\u679c\u7684\u6570\u91cf\u3002\u5982\u679c\u66f4\u6539\u6b64\u8bbe\u7f6e\uff0c\u60a8\u53ef\u80fd\u4e0d\u4f1a\u5f97\u5230\u4efb\u4f55\u7ed3\u679c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ea\u9700\u5c06\u5f00\u5173\u5207\u6362\u56de\u9ed8\u8ba4\u72b6\u6001\u5373\u53ef\u3002",4,"ngIf"],["inline","","aria-hidden","false","aria-label","Help",3,"matTooltip"],["tooltip","matTooltip"],["inline","","aria-hidden","false","aria-label","Help","matTooltip","\u6b64\u8bbe\u7f6e\u53ef\u80fd\u4f1a\u5f71\u54cd\u751f\u6210\u7ed3\u679c\u7684\u6570\u91cf\u3002\u5982\u679c\u66f4\u6539\u6b64\u8bbe\u7f6e\uff0c\u60a8\u53ef\u80fd\u4e0d\u4f1a\u5f97\u5230\u4efb\u4f55\u7ed3\u679c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ea\u9700\u5c06\u5f00\u5173\u5207\u6362\u56de\u9ed8\u8ba4\u72b6\u6001\u5373\u53ef\u3002",1,"report-problem-icon"]],template:function(e,o){1&e&&t.YNc(0,su,5,2,"div",0),2&e&&t.Q6J("ngForOf",o.fieldKeys)},dependencies:[T.sg,T.O5,Xt.Rr,N.gM,X.Hw],styles:[".category-spacer[_ngcontent-%COMP%]{height:3px}.category-header[_ngcontent-%COMP%]{font-style:italic}.adv-settings[_ngcontent-%COMP%]{margin-left:20px}.report-problem-icon[_ngcontent-%COMP%]{color:#f08080}"]}),n})(),Vt=(()=>{class n{constructor(e,o){this.dialogRef=e,this.data=o}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(K.so),t.Y36(K.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Confirm"),t.qZA(),t.TgZ(2,"div",1)(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"div",2)(6,"button",3),t.NdJ("click",function(){return o.onNoClick()}),t._uU(7,"No Thanks"),t.qZA(),t.TgZ(8,"button",4),t._uU(9,"Ok"),t.qZA()()),2&e&&(t.xp6(4),t.Oqu(o.data.description),t.xp6(4),t.Q6J("mat-dialog-close",!0))},dependencies:[B.lW,K.ZT,K.uh,K.xY,K.H8]}),n})();var $=_(4006),ct=_(9549),uu=_(4385),Ht=_(4144);function cu(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u6cf0\u5766"),t.qZA())}function lu(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u730e\u4eba"),t.qZA())}function mu(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u672f\u58eb"),t.qZA())}function pu(n,i){if(1&n&&(t.TgZ(0,"mat-option",30)(1,"span"),t._uU(2,"("),t.YNc(3,cu,2,0,"span",26),t.YNc(4,lu,2,0,"span",26),t.YNc(5,mu,2,0,"span",26),t._uU(6,") "),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()()),2&n){const e=i.$implicit;t.Q6J("value",e.name),t.xp6(3),t.Q6J("ngIf",0===e.configuration.characterClass),t.xp6(1),t.Q6J("ngIf",1===e.configuration.characterClass),t.xp6(1),t.Q6J("ngIf",2===e.configuration.characterClass),t.xp6(3),t.hij(" ",e.name,"")}}function du(n,i){1&n&&(t.TgZ(0,"th",31),t._uU(1,"\u914d\u7f6e\u540d\u79f0"),t.qZA())}function gu(n,i){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("",e.name," ")}}function _u(n,i){1&n&&(t.TgZ(0,"th",31),t._uU(1," \u804c\u4e1a "),t.qZA())}function fu(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u6cf0\u5766"),t.qZA())}function hu(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u730e\u4eba"),t.qZA())}function Cu(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"\u672f\u58eb"),t.qZA())}function xu(n,i){if(1&n&&(t.TgZ(0,"td",32),t.YNc(1,fu,2,0,"span",26),t.YNc(2,hu,2,0,"span",26),t.YNc(3,Cu,2,0,"span",26),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",0===e.configuration.characterClass),t.xp6(1),t.Q6J("ngIf",1===e.configuration.characterClass),t.xp6(1),t.Q6J("ngIf",2===e.configuration.characterClass)}}function Au(n,i){1&n&&(t.TgZ(0,"th",31),t._UZ(1,"app-stat-icon",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",0))}function Tu(n,i){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",10*e.configuration.minimumStatTiers[0].value," ")}}function bu(n,i){1&n&&(t.TgZ(0,"th",31),t._UZ(1,"app-stat-icon",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",1))}function vu(n,i){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",10*e.configuration.minimumStatTiers[1].value," ")}}function Eu(n,i){1&n&&(t.TgZ(0,"th",31),t._UZ(1,"app-stat-icon",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",2))}function yu(n,i){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",10*e.configuration.minimumStatTiers[2].value," ")}}function Zu(n,i){1&n&&(t.TgZ(0,"th",31),t._UZ(1,"app-stat-icon",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",3))}function Fu(n,i){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",10*e.configuration.minimumStatTiers[3].value," ")}}function wu(n,i){1&n&&(t.TgZ(0,"th",31),t._UZ(1,"app-stat-icon",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",4))}function Du(n,i){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",10*e.configuration.minimumStatTiers[4].value," ")}}function Su(n,i){1&n&&(t.TgZ(0,"th",31),t._UZ(1,"app-stat-icon",33),t.qZA()),2&n&&(t.xp6(1),t.Q6J("stat",5))}function Iu(n,i){if(1&n&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",10*e.configuration.minimumStatTiers[5].value," ")}}function Ou(n,i){1&n&&t._UZ(0,"th",31)}function Mu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",32)(1,"button",34),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.delete(s.name))}),t.TgZ(2,"mat-icon"),t._uU(3,"delete_forever"),t.qZA()(),t.TgZ(4,"button",35),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.load(s.name))}),t.TgZ(5,"mat-icon"),t._uU(6,"check_circle_outline"),t.qZA()(),t.TgZ(7,"button",36),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.copySingleSettingToClipboard(s))}),t.TgZ(8,"mat-icon"),t._uU(9,"get_app"),t.qZA()()()}}function ku(n,i){1&n&&t._UZ(0,"tr",37)}function Bu(n,i){1&n&&t._UZ(0,"tr",38)}function Uu(n,i){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"button",39),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.copyAllSettingsToClipboard())}),t._uU(3," \u590d\u5236\u6240\u6709\u5df2\u4fdd\u5b58\u7684\u914d\u7f6e\u81f3\u526a\u5207\u677f "),t.qZA(),t.BQk()}}let Pu=(()=>{class n{constructor(e,o,a,s,c){this.config=e,this.formBuilder=o,this.dialog=a,this._snackBar=s,this.clipboard=c,this.selectedEntry="",this.storedConfigs=[],this.displayedColumns=["name","class","mobility","resilience","recovery","discipline","intellect","strength","delete"],this.ngUnsubscribe=new nt.xQ,this.settingsNameForm=this.formBuilder.group({name:[null]}),this.importTextForm=this.formBuilder.group({content:[null]})}ngOnInit(){this.config.storedConfigurations.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(e=>this.storedConfigs=e)}submit(){const e=this.settingsNameForm.get("name")?.value;!e||(this.config.doesSavedConfigurationExist(e)?this.dialog.open(Vt,{width:"300px",data:{description:"Do you want to overwrite this configuration?"}}).afterClosed().subscribe(a=>{a&&(this.config.saveCurrentConfigurationToName(e),this.settingsNameForm.reset(),this.selectedEntry=e)}):(this.config.saveCurrentConfigurationToName(e),this.settingsNameForm.reset(),this.selectedEntry=e))}delete(e){this.dialog.open(Vt,{width:"300px",data:{description:"\u786e\u5b9a\u5220\u9664\u5417\uff1f"}}).afterClosed().subscribe(a=>{a&&this.config.deleteStoredConfiguration(e)})}clearEverything(){this.dialog.open(Vt,{width:"300px",data:{description:"\u786e\u5b9a\u6e05\u7a7a\u5168\u90e8\u914d\u7f6e\u5417\uff1f"}}).afterClosed().subscribe(o=>{o&&this.config.resetCurrentConfiguration()})}load(e){this.dialog.open(Vt,{width:"300px",data:{description:"Do you want to load this preset?"}}).afterClosed().subscribe(a=>{a&&this.config.loadSavedConfiguration(e)})}runImport(){const e=this.importTextForm.get("content")?.value;if(!e)return this.openSnackBar("Invalid input.");try{const o=ut.decompress(e,{inputEncoding:"Base64"}),a="["==o.substr(0,1);let s=JSON.parse(o);a||(s=[s]),console.log("Incoming json:",s);for(let c of s)this.config.checkAndFixOldSavedConfigurations(c),c.hasOwnProperty("name")?a?this.config.saveConfiguration(c.name,c.configuration):this.config.saveCurrentConfiguration(c.configuration):this.config.saveCurrentConfiguration(c);this.openSnackBar("Successfully loaded this configuration"),this.importTextForm.get("content")?.reset()}catch(o){this.openSnackBar("Invalid input."),console.error(o)}}copySingleSettingToClipboard(e){this.clipboard.copy(this.config.getStoredConfigurationBase64Compressed(e.name)),this.openSnackBar("Copied the configuration to your clipboard. You can share it with your friends.")}copyAllSettingsToClipboard(){this.clipboard.copy(this.config.getAllStoredConfigurationsBase64Compressed()),this.openSnackBar("Exported all configurations to the clipboard. You can then save and share them.")}openSnackBar(e){this._snackBar.open(e,"",{duration:2500,politeness:"polite"})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H),t.Y36($.QS),t.Y36(K.uw),t.Y36(zt.ux),t.Y36(St.TU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-load-and-save-settings"]],decls:78,vars:13,consts:[[3,"formGroup","submit"],["id","settings"],["appearance","outline"],["formControlName","name","matInput","","maxlength","30","minlength","4","placeholder","\u5b8c\u7f8e\u7684\u7eaa\u5f8b Build 4"],["color","primary","mat-raised-button","","type","submit",3,"disabled"],["color","warn","mat-raised-button","","matTooltip","\u6e05\u7a7a\u5168\u90e8\u914d\u7f6e\u5e76\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\uff0c\u614e\u7528\uff01",3,"click"],["color","primary","mat-raised-button","","matTooltip","\u4f60\u53ef\u4ee5\u590d\u5236\u5f53\u524d\u914d\u7f6e\u4e0e\u4ed6\u4eba\u5206\u4eab",3,"cdkCopyToClipboard","click"],[2,"display","none"],[3,"value","disabled","valueChange"],[3,"value",4,"ngFor","ngForOf"],["color","primary","mat-raised-button","","matTooltip","Load the currently selected configuration.",3,"disabled","click"],["color","warn","mat-stroked-button","","matTooltip","Delete the currently selected configuration. Can not be undone.",3,"disabled","click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","class"],["matColumnDef","mobility"],["matColumnDef","resilience"],["matColumnDef","recovery"],["matColumnDef","discipline"],["matColumnDef","intellect"],["matColumnDef","strength"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"formGroup"],["formControlName","content","matInput",""],["color","primary","mat-raised-button","","matTooltip","\u5bfc\u5165",3,"click"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[3,"stat"],["color","warn","mat-icon-button","","matTooltip","\u5220\u9664\u6b64\u914d\u7f6e",3,"click"],["color","primary","mat-icon-button","","matTooltip","\u52a0\u8f7d\u6b64\u914d\u7f6e\uff0c\u4f60\u7684\u5f53\u524d\u914d\u7f6e\u5c06\u88ab\u8986\u76d6",3,"click"],["color","primary","mat-icon-button","","matTooltip","\u590d\u5236\u6b64\u914d\u7f6e\u81f3\u526a\u5207\u677f",3,"click"],["mat-header-row",""],["mat-row",""],["color","primary","mat-raised-button","","matTooltip","\u5bfc\u51fa\u6240\u6709\u914d\u7f6e",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return o.submit()}),t.TgZ(1,"table",1)(2,"tr")(3,"td")(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"\u7ed9\u914d\u7f6e\u8d77\u4e2a\u540d"),t.qZA(),t._UZ(7,"input",3),t.qZA()(),t.TgZ(8,"td")(9,"button",4),t._uU(10," \u4fdd\u5b58\u5f53\u524d\u914d\u7f6e "),t.qZA()(),t.TgZ(11,"td")(12,"button",5),t.NdJ("click",function(){return o.clearEverything()}),t._uU(13,"\u6e05\u7a7a "),t.qZA()(),t.TgZ(14,"td")(15,"button",6),t.NdJ("click",function(){return o.openSnackBar("Copied the configuration to your clipboard. You can share it with your friends.")}),t._uU(16," \u590d\u5236 "),t.qZA()()(),t.TgZ(17,"tr",7)(18,"td")(19,"mat-form-field",2)(20,"mat-label"),t._uU(21,"\u52a0\u8f7d\u5df2\u4fdd\u5b58\u7684\u914d\u7f6e"),t.qZA(),t.TgZ(22,"mat-select",8),t.NdJ("valueChange",function(s){return o.selectedEntry=s}),t.YNc(23,pu,9,5,"mat-option",9),t.qZA()()(),t.TgZ(24,"td")(25,"button",10),t.NdJ("click",function(){return o.load(o.selectedEntry)}),t._uU(26,"Load "),t.qZA()(),t.TgZ(27,"td")(28,"button",11),t.NdJ("click",function(){return o.delete(o.selectedEntry)}),t._uU(29,"Delete "),t.qZA()()()()(),t._UZ(30,"br"),t.TgZ(31,"table",12),t.ynx(32,13),t.YNc(33,du,2,0,"th",14),t.YNc(34,gu,2,1,"td",15),t.BQk(),t.ynx(35,16),t.YNc(36,_u,2,0,"th",14),t.YNc(37,xu,4,3,"td",15),t.BQk(),t.ynx(38,17),t.YNc(39,Au,2,1,"th",14),t.YNc(40,Tu,2,1,"td",15),t.BQk(),t.ynx(41,18),t.YNc(42,bu,2,1,"th",14),t.YNc(43,vu,2,1,"td",15),t.BQk(),t.ynx(44,19),t.YNc(45,Eu,2,1,"th",14),t.YNc(46,yu,2,1,"td",15),t.BQk(),t.ynx(47,20),t.YNc(48,Zu,2,1,"th",14),t.YNc(49,Fu,2,1,"td",15),t.BQk(),t.ynx(50,21),t.YNc(51,wu,2,1,"th",14),t.YNc(52,Du,2,1,"td",15),t.BQk(),t.ynx(53,22),t.YNc(54,Su,2,1,"th",14),t.YNc(55,Iu,2,1,"td",15),t.BQk(),t.ynx(56,23),t.YNc(57,Ou,1,0,"th",14),t.YNc(58,Mu,10,0,"td",15),t.BQk(),t.YNc(59,ku,1,0,"tr",24),t.YNc(60,Bu,1,0,"tr",25),t.qZA(),t.YNc(61,Uu,4,0,"ng-container",26),t._UZ(62,"br"),t.TgZ(63,"div"),t._UZ(64,"hr"),t.TgZ(65,"h2"),t._uU(66,"\u5bfc\u5165\u914d\u7f6e"),t.qZA(),t.TgZ(67,"form",27)(68,"table")(69,"tr")(70,"td")(71,"mat-form-field",2)(72,"mat-label"),t._uU(73,"\u5df2\u590d\u5236\u7684\u914d\u7f6e"),t.qZA(),t._UZ(74,"input",28),t.qZA()(),t.TgZ(75,"td")(76,"button",29),t.NdJ("click",function(){return o.runImport()}),t._uU(77," \u5f00\u59cb\u5bfc\u5165 "),t.qZA()()()()()()),2&e){let a;t.Q6J("formGroup",o.settingsNameForm),t.xp6(9),t.Q6J("disabled",!(null!=(a=o.settingsNameForm.get("name"))&&a.value)||(null==(a=o.settingsNameForm.get("name"))?null:a.value.length)<4||(null==(a=o.settingsNameForm.get("name"))?null:a.value.length)>30),t.xp6(6),t.Q6J("cdkCopyToClipboard",o.config.getCurrentConfigBase64Compressed()),t.xp6(7),t.Q6J("value",o.selectedEntry)("disabled",0===o.storedConfigs.length),t.xp6(1),t.Q6J("ngForOf",o.storedConfigs),t.xp6(2),t.Q6J("disabled",!o.selectedEntry||0===o.storedConfigs.length),t.xp6(3),t.Q6J("disabled",!o.selectedEntry||0===o.storedConfigs.length),t.xp6(3),t.Q6J("dataSource",o.storedConfigs),t.xp6(28),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",o.storedConfigs.length>0),t.xp6(6),t.Q6J("formGroup",o.importTextForm)}},dependencies:[T.sg,T.O5,$._Y,$.Fj,$.JJ,$.JL,$.wO,$.nD,$.sg,$.u,B.lW,ct.KE,ct.hX,uu.gD,le.ey,Ht.Nt,F.BZ,F.fO,F.as,F.w1,F.Dz,F.nj,F.ge,F.ev,F.XQ,F.Gk,N.gM,X.Hw,St.i3,de],styles:[".modTable[_ngcontent-%COMP%]{width:100%}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{height:30px}.mat-column-class[_ngcontent-%COMP%]{min-width:55px;padding-right:2px;padding-left:2px;text-align:center;border-right:1px solid currentColor}.mat-column-mobility[_ngcontent-%COMP%], .mat-column-resilience[_ngcontent-%COMP%], .mat-column-recovery[_ngcontent-%COMP%], .mat-column-discipline[_ngcontent-%COMP%], .mat-column-intellect[_ngcontent-%COMP%], .mat-column-strength[_ngcontent-%COMP%]{min-width:40px;text-align:center}.mat-row[_ngcontent-%COMP%]:hover{background-color:#494949}.mat-column-mobility[_ngcontent-%COMP%], .mat-column-recovery[_ngcontent-%COMP%], .mat-column-intellect[_ngcontent-%COMP%]{background-color:#464646}.mat-column-name[_ngcontent-%COMP%]{padding-right:4px;border-right:1px solid currentColor;min-width:150px}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.mat-cell[_ngcontent-%COMP%]:last-of-type, .mat-header-cell[_ngcontent-%COMP%]:last-of-type, .mat-footer-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.stat-negative[_ngcontent-%COMP%], .stat-positive[_ngcontent-%COMP%]{margin-right:3px}.stat-negative[_ngcontent-%COMP%]{color:#f08080}.stat-positive[_ngcontent-%COMP%]{color:#6495ed}.stat-display[_ngcontent-%COMP%]{width:60px;float:left;align-content:end;text-align:right}.mat-row[_ngcontent-%COMP%]:hover, .mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#494949}.mat-row.selected[_ngcontent-%COMP%]:hover, .mat-row.selected[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#89b2ff30}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-mobility[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-recovery[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mat-column-intellect[_ngcontent-%COMP%]{background-color:#89b2ff1c}.mat-column-load[_ngcontent-%COMP%], .mat-column-delete[_ngcontent-%COMP%]{padding-left:3px;padding-right:3px}[_nghost-%COMP%]     .mat-form-field-wrapper{margin:0!important;padding:0}"]}),n})();function Ru(n,i){1&n&&t._UZ(0,"br")}function Nu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",2)(1,"img",3),t.NdJ("click",function(){const s=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.enableItem(s.itemInstanceId))}),t.qZA(),t.YNc(2,Ru,1,0,"br",4),t.qZA()}if(2&n){const e=i.$implicit,o=i.index,a=t.oxw();t.xp6(1),t.MGl("src","https://bungie.net/",e.icon,"",t.LSH),t.Q6J("matTooltip",a.generateTooltip(e)),t.xp6(1),t.Q6J("ngIf",(o+1)%10==0)}}let qu=(()=>{class n{constructor(e,o){this.config=e,this.db=o,this.disabledItems=[],this.ngUnsubscribe=new nt.xQ}enableItem(e){this.config.modifyConfiguration(o=>{o.disabledItems.splice(o.disabledItems.indexOf(e),1)})}generateTooltip(e){return"Click this icon to activate this item again.\r\n"+e.name+"  "+(e.mobility+(e.masterworked?2:0))+"/"+(e.resilience+(e.masterworked?2:0))+"/"+(e.recovery+(e.masterworked?2:0))+"/"+(e.discipline+(e.masterworked?2:0))+"/"+(e.intellect+(e.masterworked?2:0))+"/"+(e.strength+(e.masterworked?2:0))}ngOnInit(){var e=this;this.config.configuration.pipe((0,J.R)(this.ngUnsubscribe)).subscribe(function(){var o=(0,m.Z)(function*(a){let s=[];for(let c of a.disabledItems){let p=yield e.db.inventoryArmor.where("itemInstanceId").equals(c).first();p&&s.push(p)}e.disabledItems=s});return function(a){return o.apply(this,arguments)}}())}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H),t.Y36(rt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ignored-items-list"]],decls:2,vars:1,consts:[[1,"item-icon-container"],["class","item-sub",4,"ngFor","ngForOf"],[1,"item-sub"],["matTooltipClass","allow-cr",1,"item-icon",3,"src","matTooltip","click"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Nu,3,3,"span",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.disabledItems))},dependencies:[T.sg,T.O5,N.gM],styles:[".item-icon[_ngcontent-%COMP%]{width:40px}.item-icon[_ngcontent-%COMP%]:hover{filter:brightness(.8) hue-rotate(350deg) saturate(3) blur(2px) contrast(.6);cursor:not-allowed}.item-sub[_ngcontent-%COMP%]{margin-right:3px}.item-icon-container[_ngcontent-%COMP%]{position:relative;contain:layout paint style;box-sizing:border-box;width:var(--item-size);transition:opacity .2s,transform .2s}"]}),n})(),Ju=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],decls:61,vars:0,consts:[["id","card-config"],["id","content-char-selection"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-title"),t._uU(3,"\u9009\u62e9\u804c\u4e1a"),t.qZA(),t.TgZ(4,"mat-card-content",1),t._UZ(5,"app-desired-class-selection"),t.qZA()(),t.TgZ(6,"mat-card")(7,"mat-card-title"),t._uU(8,"\u9009\u62e9\u5c5e\u6027"),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10,"\u6838\u5fc3\u529f\u80fd\uff0c\u9009\u62e9\u4f60\u60f3\u8981\u8fbe\u6210\u7684\u5c5e\u6027\u503c"),t.qZA(),t.TgZ(11,"mat-card-content"),t._UZ(12,"app-desired-stat-selection"),t.qZA()(),t.TgZ(13,"mat-card")(14,"mat-card-title"),t._uU(15,"\u5f02\u57df\u88c5\u5907"),t.qZA(),t.TgZ(16,"mat-card-subtitle"),t._uU(17," \u9009\u5b9a\u4e00\u4ef6\u5f02\u57df\u88c5\u5907\u5e76\u56f4\u7ed5\u8be5\u88c5\u5907\u6253\u9020\u4e00\u5957 Build"),t._UZ(18,"br"),t._uU(19," \u88c5\u5907\u680f\u4ee5\u53ca\u4fdd\u9669\u5e93\u4e2d\u6ca1\u6709\u6216\u8005\u672a\u89e3\u9501\u7684\u88c5\u5907\u4e0d\u53ef\u9009 "),t.qZA(),t.TgZ(20,"mat-card-content"),t._UZ(21,"app-desired-exotic-selection"),t.qZA()(),t.TgZ(22,"mat-card")(23,"mat-card-title"),t._uU(24,"\u62a4\u7532\u9650\u5236"),t.qZA(),t.TgZ(25,"mat-card-subtitle"),t._uU(26," \u4f60\u53ef\u4ee5\u8fdb\u4e00\u6b65\u6307\u5b9a\u8981\u4f7f\u7528\u54ea\u79cd\u62a4\u7532\u548c\u6a21\u7ec4\u3002 "),t.qZA(),t.TgZ(27,"mat-card-content"),t._UZ(28,"app-desired-mod-selection"),t.qZA()(),t.TgZ(29,"mat-card")(30,"mat-card-title"),t._uU(31,"\u661f\u8c61\u788e\u7247"),t.qZA(),t.TgZ(32,"mat-card-subtitle"),t._uU(33,"\u9009\u62e9\u5f71\u54cd\u5c5e\u6027\u7684\u661f\u8c61\u788e\u7247"),t._UZ(34,"br"),t.qZA(),t.TgZ(35,"mat-card-content"),t._UZ(36,"app-desired-mods-selection"),t.qZA()(),t.TgZ(37,"mat-card")(38,"mat-card-title"),t._uU(39,"\u9ad8\u7ea7\u8bbe\u7f6e"),t.qZA(),t.TgZ(40,"mat-card-subtitle"),t._uU(41,"\u8fd9\u4e9b\u8bbe\u7f6e\u53ef\u4ee5\u5e2e\u52a9\u4f60\u8fdb\u884c\u5fae\u8c03"),t.qZA(),t.TgZ(42,"mat-card-content"),t._UZ(43,"app-advanced-settings"),t.qZA()(),t.TgZ(44,"mat-card")(45,"mat-card-title"),t._uU(46,"\u5df2\u7981\u7528\u7684\u62a4\u7532"),t.qZA(),t.TgZ(47,"mat-card-subtitle"),t._uU(48," \u8fd9\u4e9b\u62a4\u7532\u5df2\u88ab\u7981\u7528\uff0c\u70b9\u51fb\u5df2\u91cd\u65b0\u542f\u7528\u3002"),t._UZ(49,"br"),t._uU(50," \u4ed6\u4eec\u4e0d\u4f1a\u51fa\u73b0\u5728\u4efb\u4f55\u7ed3\u679c\u4e2d\u3002"),t._UZ(51,"br"),t.qZA(),t.TgZ(52,"mat-card-content"),t._UZ(53,"app-ignored-items-list"),t.qZA()(),t.TgZ(54,"mat-card")(55,"mat-card-title"),t._uU(56,"\u914d\u7f6e\u7ba1\u7406"),t.qZA(),t.TgZ(57,"mat-card-subtitle"),t._uU(58,"\u4fdd\u5b58\u4f60\u7684\u8bbe\u7f6e\u4ee5\u4f9b\u65e5\u540e\u4f7f\u7528"),t.qZA(),t.TgZ(59,"mat-card-content"),t._UZ(60,"app-load-and-save-settings"),t.qZA()()())},dependencies:[Z.a8,Z.dn,Z.n5,Z.$j,vs,Rs,Xs,rr,nu,ru,Pu,qu],styles:["#card-config[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:inline-block;vertical-align:top;white-space:normal;margin-bottom:20px;margin-left:3px;margin-right:3px}#card-config[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{margin-bottom:4px}#content-char-selection[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})(),Lu=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-armor-picker-page"]],decls:3,vars:0,consts:[["id","container"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-settings")(2,"app-results"),t.qZA())},dependencies:[Ju,re],styles:["#container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin-right:3px;white-space:nowrap}"]}),n})();const Yu=function(){return["","\u654f\u6377","\u97e7\u6027","\u6062\u590d","\u7eaa\u5f8b","\u667a\u6167","\u529b\u91cf"]},Qu=function(){return["","\u654f\u6377 ","\u97e7\u6027 ","\u6062\u590d ","\u7eaa\u5f8b ","\u667a\u6167 ","\u529b\u91cf "]};function Vu(n,i){if(1&n&&(t.TgZ(0,"tr",27)(1,"td",28),t._uU(2),t.qZA(),t.TgZ(3,"td",29)(4,"div",30),t._UZ(5,"div",31),t.TgZ(6,"span",32),t._uU(7),t.ALo(8,"number"),t.qZA()()()()),2&n){const e=t.oxw().index,o=t.oxw(2).index,a=t.oxw();t.Q6J("matTooltip",t.DdM(9,Yu)[e]),t.xp6(2),t.hij(" ",t.DdM(10,Qu)[e]," "),t.xp6(3),t.Jzz("width:",a.clusterInformation[o].mean[e]/32*100,"%"),t.xp6(2),t.hij(" ",t.xi3(8,6,a.clusterInformation[o].mean[e],"1.0-0")," ")}}function Hu(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Vu,9,11,"tr",26),t.BQk()),2&n){const e=i.index;t.xp6(1),t.Q6J("ngIf",e>0)}}function Wu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",21)(1,"mat-card-title"),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-content")(6,"div")(7,"table",22),t.YNc(8,Hu,2,1,"ng-container",18),t.qZA()(),t.TgZ(9,"mat-form-field",23)(10,"mat-label"),t._uU(11,"DIM \u67e5\u8be2\u53c2\u6570"),t.qZA(),t._UZ(12,"input",24),t.qZA(),t.TgZ(13,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSnackBar("Copied the DIM search query to your clipboard."))}),t._uU(14," \u590d\u5236 DIM \u67e5\u8be2\u53c2\u6570\u5230\u526a\u8d34\u677f "),t.qZA()()()}if(2&n){const e=t.oxw(),o=e.index,a=e.$implicit,s=t.oxw();t.xp6(2),t.hij(" \u96c6\u5408 ",o+1," "),t.xp6(2),t.hij(" \u5305\u542b ",a.length," \u4e2a\u62a4\u7532 "),t.xp6(4),t.Q6J("ngForOf",s.clusterInformation[o].mean),t.xp6(4),t.Q6J("value",s.getDIMStringForCluster(a)),t.xp6(1),t.Q6J("cdkCopyToClipboard",s.getDIMStringForCluster(a))}}function ju(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Wu,15,5,"mat-card",20),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.length>0)}}var ge=[{id:0,size:214,centroids:[5.242990654205609,3.4392523364485994,23.074766355140188,4.52336448598131,17.99532710280374,8.074766355140188],std:[3.262185500658884,3.137958193527344,2.0745611905196912,3.223158380401712,2.6478649185881147,3.356022774004607,3.3823650213485315],mean:[62.350467289719624,5.242990654205608,3.439252336448598,23.074766355140188,4.5233644859813085,17.99532710280374,8.074766355140186]},{id:1,size:264,centroids:[13.613636363636365,3.060606060606063,14.431818181818182,6.731060606060606,12.575757575757574,10.575757575757576],std:[4.915624932359143,2.735897756946947,1.897597343200423,3.036390647550984,3.2253188618447473,3.0097969617389406,3.1372197425220545],mean:[60.98863636363637,13.613636363636363,3.0606060606060606,14.431818181818182,6.731060606060606,12.575757575757576,10.575757575757576]},{id:2,size:220,centroids:[5.209090909090909,15.586363636363636,10.936363636363636,13.281818181818181,13.604545454545452,3.8818181818181836],std:[3.3631090204013643,2.931782865076046,2.9200605883727038,3.289049973803757,2.6349662061268395,2.6591750828428204,2.395703224398619],mean:[62.5,5.209090909090909,15.586363636363636,10.936363636363636,13.281818181818181,13.604545454545455,3.881818181818182]},{id:3,size:230,centroids:[8.6,15.330434782608698,6.943478260869563,6.408695652173913,5.578260869565216,18.26086956521739],std:[4.27370926113142,3.855014315301441,3.2487061290912984,3.5081098914433078,3.559587955581114,3.1761194803539676,3.596667444705349],mean:[61.12173913043478,8.6,15.330434782608696,6.943478260869565,6.408695652173913,5.578260869565217,18.26086956521739]},{id:4,size:261,centroids:[11.74712643678161,5.655172413793104,13.873563218390803,11.022988505747126,16.57088122605364,3.0038314176245224],std:[3.5878146263573103,2.8197860971981994,2.9890605143791737,2.9825309245974925,2.7497287061744258,2.8324620286123516,1.8428616632651005],mean:[61.87356321839081,11.74712643678161,5.655172413793103,13.873563218390805,11.022988505747126,16.57088122605364,3.003831417624521]},{id:5,size:249,centroids:[6.598393574297189,7.2289156626506035,7.674698795180722,6.831325301204822,5.995983935742974,7.425702811244981],std:[12.188382924990831,3.7780346472852226,3.7855581933977014,3.9659084518463055,3.2508780840166134,2.4288222155150856,3.23718036285365],mean:[41.75502008032129,6.598393574297189,7.228915662650603,7.674698795180723,6.831325301204819,5.995983935742972,7.42570281124498]},{id:6,size:241,centroids:[4.580912863070541,10.62655601659751,15.72199170124481,20.186721991701248,5.7634854771784205,4.8672199170124495],std:[4.0360666526825675,2.5776864620318327,2.726712032141287,2.7236414380869185,3.4135743182998106,3.164594939982558,2.8952195061747896],mean:[61.74688796680498,4.580912863070539,10.62655601659751,15.721991701244812,20.186721991701244,5.763485477178423,4.867219917012448]},{id:7,size:352,centroids:[4.96875,10.849431818181818,15.676136363636362,5.085227272727275,13.079545454545453,12.113636363636365],std:[3.864447558701623,2.876694966732471,2.825917840642513,2.8500410080793133,2.604753041986593,2.753797030174534,3.084495990290069],mean:[61.77272727272727,4.96875,10.849431818181818,15.676136363636363,5.0852272727272725,13.079545454545455,12.113636363636363]},{id:8,size:219,centroids:[21.401826484018265,4.529680365296804,4.954337899543379,14.022831050228312,7.168949771689496,6.8036529680365305],std:[7.654498360234386,3.856746305047457,3.0774088630224354,3.486239910130717,4.509361233853425,3.691515724130434,3.433882092856456],mean:[58.881278538812786,21.401826484018265,4.529680365296803,4.954337899543379,14.02283105022831,7.168949771689498,6.80365296803653]},{id:9,size:183,centroids:[4.448087431693989,22.114754098360656,4.868852459016392,7.459016393442623,11.240437158469945,9.765027322404372],std:[7.900837110469869,3.265921971202623,3.896032191192026,3.424902708986657,3.3556927380910535,3.7206143627650876,3.9564220813839577],mean:[59.89617486338798,4.448087431693989,22.114754098360656,4.868852459016393,7.459016393442623,11.240437158469945,9.765027322404372]},{id:10,size:197,centroids:[13.563451776649746,10.761421319796954,6.527918781725887,20.654822335025383,4.934010152284262,5.18274111675127],std:[4.239153654030002,3.3077343290831713,2.8924486501981233,2.9338771160608355,3.5098461495889413,3.192898794854312,2.920215710334156],mean:[61.6243654822335,13.563451776649746,10.761421319796954,6.527918781725888,20.65482233502538,4.934010152284264,5.182741116751269]},{id:11,size:176,centroids:[8.255681818181818,16.181818181818183,7.11931818181818,4.619318181818182,21.0625,5.505681818181819],std:[3.349621998445128,3.4620343467651815,3.3296776490755446,2.945693532873097,2.7583580190103967,3.126214049887545,3.078027492852078],mean:[62.74431818181818,8.255681818181818,16.181818181818183,7.119318181818182,4.619318181818182,21.0625,5.505681818181818]},{id:12,size:194,centroids:[3.5670103092783503,14.773195876288659,13.036082474226804,13.185567010309278,4.979381443298967,12.144329896907218],std:[3.89886364980042,2.255251632823776,2.5893570716174388,3.248552824613239,3.1004926799108317,2.8845824993776903,2.8864151735009584],mean:[61.68556701030928,3.5670103092783507,14.77319587628866,13.036082474226804,13.185567010309278,4.979381443298969,12.144329896907216]},{id:13,size:302,centroids:[5.311258278145695,4.4701986754966905,21.897350993377486,10.688741721854305,6.834437086092715,12.605960264900663],std:[5.1142628152416245,2.9920946350614983,2.6882491851253567,3.071581172564087,2.99431450280505,3.116626644660552,2.58548804104293],mean:[61.80794701986755,5.311258278145695,4.470198675496689,21.897350993377483,10.688741721854305,6.8344370860927155,12.605960264900663]},{id:14,size:364,centroids:[12.263736263736265,11.32967032967033,5.936813186813188,8.524725274725274,12.07142857142857,7.782967032967034],std:[6.666392881793753,2.8942239993391565,2.947866371540881,3.041289192757803,3.0876888182534996,2.4540644069260296,2.6803305558675676],mean:[57.90934065934066,12.263736263736265,11.32967032967033,5.936813186813187,8.524725274725276,12.071428571428571,7.782967032967033]},{id:15,size:219,centroids:[6.981735159817351,5.9908675799086755,18.127853881278536,4.97716894977169,5.182648401826483,20.89041095890411],std:[4.3335830659244685,3.5503759593138464,3.5270785628911785,4.123339305032141,2.7998081886699646,3.283747903424203,2.8311584355558064],mean:[62.15068493150685,6.981735159817352,5.9908675799086755,18.12785388127854,4.9771689497716896,5.1826484018264845,20.89041095890411]},{id:16,size:147,centroids:[6.285714285714285,20.836734693877553,4.8639455782312915,17.510204081632654,5.897959183673469,7.394557823129253],std:[3.358145469360083,3.4877476344546254,3.2245649941865486,3.0557367019327,4.0937094190209065,3.1136788219952605,3.842013283457479],mean:[62.7891156462585,6.285714285714286,20.836734693877553,4.863945578231292,17.510204081632654,5.8979591836734695,7.394557823129252]},{id:17,size:202,centroids:[18.425742574257423,6.871287128712871,6.678217821782177,5.06930693069307,20.40594059405941,5.876237623762377],std:[3.0226636827682554,3.292828132097339,3.518715749263091,3.4627255810748356,3.075363266145594,3.5804283293104753,3.315804113390658],mean:[63.32673267326733,18.425742574257427,6.871287128712871,6.678217821782178,5.069306930693069,20.405940594059405,5.876237623762377]},{id:18,size:286,centroids:[11.22027972027972,7.073426573426573,12.65034965034965,12.594405594405593,4.209790209790211,13.220279720279722],std:[4.720510224882134,2.8685361372318168,2.6005789112305338,3.052197922484291,2.451602446915686,2.7244266014541174,2.7638787756329526],mean:[60.96853146853147,11.22027972027972,7.073426573426573,12.65034965034965,12.594405594405595,4.20979020979021,13.22027972027972]},{id:19,size:197,centroids:[6.263959390862944,8.568527918781726,16.80710659898477,4.000000000000003,22.593908629441625,4.883248730964468],std:[2.7333118141791917,3.3626657547151964,3.4540163497542435,2.646397291854302,2.565469285152567,3.018237668617547,2.8287109641017594],mean:[63.11675126903553,6.2639593908629445,8.568527918781726,16.80710659898477,4,22.593908629441625,4.883248730964467]},{id:20,size:279,centroids:[18.025089605734767,6.150537634408602,6.161290322580646,5.767025089605736,7.999999999999998,15.602150537634408],std:[6.590788110639117,3.6436721401086296,3.165505073725202,3.13700467469825,2.7769973891540207,3.4672154149710614,4.017425492621824],mean:[59.70609318996416,18.025089605734767,6.150537634408602,6.161290322580645,5.767025089605735,8,15.602150537634408]},{id:21,size:78,centroids:[15.96153846153846,16.85897435897436,16.807692307692307,3552713678800501e-30,5329070518200751e-30,-5329070518200751e-30],std:[2.095815090231219,7.438828122504502,7.482836393563639,8.12413063050432,0,0,0],mean:[49.62820512820513,15.961538461538462,16.858974358974358,16.807692307692307,0,0,0]},{id:22,size:137,centroids:[4.525547445255475,3.583941605839417,23.532846715328468,19.948905109489054,4.3576642335766405,6.248175182481752],std:[2.9351806639916567,2.7575572416084317,2.2707939003224227,2.908029186302962,3.3306093063017315,2.6644092885703916,3.4848010785869454],mean:[62.197080291970806,4.525547445255475,3.5839416058394162,23.532846715328468,19.94890510948905,4.357664233576642,6.248175182481752]},{id:23,size:194,centroids:[13.242268041237114,3.5103092783505163,14.675257731958762,19.55154639175258,6.139175257731957,5.092783505154641],std:[3.810494814771566,2.886105181640385,2.0818477512276696,2.6197152448917316,3.409818599464837,3.0311357231629183,2.9733966349516936],mean:[62.21134020618557,13.242268041237113,3.5103092783505154,14.675257731958762,19.551546391752577,6.139175257731959,5.092783505154639]},{id:24,size:239,centroids:[5.569037656903766,5.401673640167365,20.92468619246862,13.09205020920502,13.497907949790793,4.096234309623432],std:[3.8502204432228733,3.071015816571908,3.081143061480697,2.79904271710946,2.169280265760518,2.62802363192924,2.3450167178621983],mean:[62.58158995815899,5.569037656903766,5.401673640167364,20.92468619246862,13.092050209205022,13.497907949790795,4.096234309623431]}];let zu=(()=>{class n{constructor(e,o,a){this.db=e,this._snackBar=o,this.inventory=a,this.clusterInformation=ge,this.items=[],this.clusters=[],this.exoticFilter=0,this.masterworkFilter=0,this.classFilter=-1,this.clusterInformation=ge.sort((s,c)=>c.mean[3]-s.mean[3])}ngAfterViewInit(){var e=this;return(0,m.Z)(function*(){e.inventory.inventory.pipe((0,st.b)(200)).subscribe((0,m.Z)(function*(){yield e.Update(),e.openSnackBar("\u96c6\u5408\u66f4\u65b0\u5b8c\u6210")}))})()}Update(){var e=this;return(0,m.Z)(function*(){var o=yield e.db.inventoryArmor.toArray(),a=[];for(let c=0;c<e.clusterInformation.length;c++)a.push([]);for(let c of o)c.slot==b.y.ArmorSlotClass||c.slot==b.y.ArmorSlotNone||-1!=e.classFilter&&c.clazz!=e.classFilter||-1==e.exoticFilter&&c.isExotic||1==e.exoticFilter&&!c.isExotic||-1==e.masterworkFilter&&c.masterworked||1==e.masterworkFilter&&!c.masterworked||a[e.getClusterid(c)].push(c);e.clusters=a})()}openSnackBar(e){this._snackBar.open(e,"",{duration:2500,politeness:"polite"})}getDIMStringForCluster(e){return e.map(o=>`id:'${o.itemInstanceId}'`).join(" or ")}vectorDistance(e,o){return Math.sqrt(e.reduce((a,s,c)=>a+Math.pow(s-o[c],2),0))}getClusterid(e){var o=Number.MAX_VALUE,a=-1;for(let c=0;c<this.clusterInformation.length;c++){var s=this.vectorDistance(this.clusterInformation[c].mean,[e.mobility+e.resilience+e.recovery+e.discipline+e.intellect+e.strength,e.mobility,e.resilience,e.recovery,e.discipline,e.intellect,e.strength]);s<o&&(o=s,a=c)}return a}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(rt),t.Y36(zt.ux),t.Y36(et))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-armor-cluster-page"]],decls:89,vars:5,consts:[["id","cluster-container"],["color","primary","fxShow","false","fxShow.lt-md","true","mat-raised-button","","routerLink","/",1,"returnbutton"],[1,"settings-container"],[3,"value","valueChange"],["matTooltip","\u4ec5\u5bf9\u975e\u5f02\u57df\u62a4\u7532\u8fdb\u884c\u5206\u7c7b","value","-1",1,"red"],["matTooltip","\u4ec5\u5bf9\u5f02\u57df\u62a4\u7532\u8fdb\u884c\u5206\u7c7b","value","1",1,"green"],["checked","","value","0"],["matTooltip","\u4ec5\u5bf9\u975e\u5927\u5e08\u6770\u4f5c\u62a4\u7532\u8fdb\u884c\u5206\u7c7b","value","-1",1,"red"],["matTooltip","\u4ec5\u5bf9\u5927\u5e08\u6770\u4f5c\u62a4\u7532\u8fdb\u884c\u5206\u7c7b","value","1",1,"green"],["matTooltip","\u6cf0\u5766","value","0"],["aria-hidden","true","focusable","false","viewBox","0 0 32 32","xmlns","http://www.w3.org/2000/svg",1,"svgClassIcon"],["d","m14.839 15.979-13.178-7.609v15.218zm2.322 0 13.178 7.609v-15.218zm5.485-12.175-6.589-3.804-13.178 7.609 13.178 7.609 13.179-7.609zm0 16.784-6.589-3.805-13.178 7.609 13.178 7.608 13.179-7.608-6.59-3.805z","fill","currentColor"],["matTooltip","\u730e\u4eba","value","1"],["d","m9.055 10.446 6.945-.023-6.948 10.451 6.948-.024-7.412 11.15h-7.045l7.036-10.428h-7.036l7.032-10.422h-7.032l7.507-11.126 6.95-.024zm13.89 0-6.945-10.446 6.95.024 7.507 11.126h-7.032l7.032 10.422h-7.036l7.036 10.428h-7.045l-7.412-11.15 6.948.024-6.948-10.451z","fill","currentColor"],["matTooltip","\u672f\u58eb","value","2"],["d","m5.442 23.986 7.255-11.65-2.71-4.322-9.987 15.972zm5.986 0 4.28-6.849-2.717-4.333-6.992 11.182zm7.83-11.611 7.316 11.611h5.426l-10.015-15.972zm-7.26 11.611h8.004l-4.008-6.392zm6.991-11.182-2.703 4.324 4.302 6.858h5.413zm-5.707-.459 2.71-4.331 2.71 4.331-2.703 4.326z","fill","currentColor"],["checked","","value","-1"],["fxFlexFill","1","fxLayout","row","fxLayout.xs","column","fxLayoutGap","5px",1,"cluster-container"],[4,"ngFor","ngForOf"],["color","primary","mat-raised-button","","routerLink","/","fxShow","false","fxShow.lt-md","true",1,"returnbutton"],["class","cluster-item",4,"ngIf"],[1,"cluster-item"],["width","100%"],["appearance","fill",1,"searchQueryField"],["matInput","","readonly","","type","text",3,"value"],["color","primary","mat-raised-button","",1,"copyButton",3,"cdkCopyToClipboard","click"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["width","40px"],[2,"width","calc(100% - 40px)"],[1,"stat-range"],[1,"stat-range-bar"],[1,"avg-stat-value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2," Return to D2ArmorPicker "),t.qZA(),t.TgZ(3,"mat-card")(4,"mat-card-title"),t._uU(5," \u5173\u4e8e\u672c\u9875\u9762 "),t.qZA(),t.TgZ(6,"mat-card-content"),t._uU(7),t._UZ(8,"br")(9,"br"),t._uU(10,' \u8bf7\u6ce8\u610f\uff0c\u6b64\u529f\u80fd\u9ed8\u8ba4\u4f1a\u5bf9\u6240\u6709\u804c\u4e1a\u7684\u62a4\u7532\u8fdb\u884c\u5206\u7c7b\uff0c\u786e\u4fdd\u4f60\u4f7f\u7528\u4e86 DIM \u4e2d\u7684 "is:titan"\u3001 "is:warlock"\u3001"is:hunter" \u529f\u80fd\u3002 '),t._UZ(11,"br")(12,"br"),t._uU(13," \u540c\u65f6\u8bf7\u77e5\u6653\uff0c\u6b64\u529f\u80fd\u662f\u65b0\u6dfb\u52a0\u529f\u80fd\uff0c\u67d0\u4e9b\u7ed3\u679c\u53ef\u80fd\u5e76\u4e0d\u51c6\u786e\u3002 "),t.qZA(),t.TgZ(14,"mat-card-title"),t._uU(15," \u6211\u5e94\u8be5\u5982\u4f55\u4f7f\u7528\uff1f "),t.qZA(),t.TgZ(16,"mat-card-content")(17,"ol")(18,"li"),t._uU(19,"\u9009\u62e9\u4e0b\u65b9\u67d0\u4e00\u4e2a\u96c6\u5408"),t.qZA(),t.TgZ(20,"li"),t._uU(21,"\u590d\u5236\u5bf9\u5e94\u7684 DIM \u67e5\u8be2\u53c2\u6570\u5e76\u5c06\u5176\u7c98\u8d34\u5165 DIM \u7684\u641c\u7d22\u680f\u4e2d"),t.qZA(),t.TgZ(22,"li"),t._uU(23,' \u5982\u679c\u9700\u8981\u7b5b\u9009\u7279\u5b9a\u804c\u4e1a\u7684\u62a4\u7532\uff0c\u8bf7\u5c06 "is:titan", "is:warlock", "is:hunter" \uff08\u53ef\u4ee5\u4e0d\u5e26\u5f15\u53f7\uff09\u6dfb\u52a0\u5230 DIM \u641c\u7d22\u680f\u4e2d\uff1b'),t._UZ(24,"br"),t._uU(25,' \u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 "not:masterwork"\u3001"not:exotic" \u6216\u5176\u4ed6\u8fc7\u6ee4\u5668\u3002 '),t.qZA(),t.TgZ(26,"li"),t._uU(27," \u68c0\u89c6 DIM \u4e2d\u9ad8\u4eae\u7684\u62a4\u7532\uff0c\u5982\u679c\u6709\u91cd\u590d\u7684\uff0c\u4f60\u53ef\u4ee5\u67e5\u770b\u5e76\u9009\u62e9\u4fdd\u7559\u54ea\u4e9b\u3002 "),t.qZA()()()(),t.TgZ(28,"mat-card")(29,"mat-card-title"),t._uU(30,"\u9009\u9879"),t.qZA(),t.TgZ(31,"mat-card-subtitle"),t._uU(32," \u989d\u5916\u9009\u9879 "),t.qZA(),t.TgZ(33,"mat-card-content")(34,"div",2)(35,"span")(36,"b"),t._uU(37,"\u5f02\u57df\u62a4\u7532"),t.qZA(),t._UZ(38,"br"),t._uU(39,"\u662f\u5426\u663e\u793a\u5f02\u57df\u62a4\u7532"),t.qZA(),t.TgZ(40,"span")(41,"mat-button-toggle-group",3),t.NdJ("valueChange",function(){return o.Update()})("valueChange",function(s){return o.exoticFilter=s}),t.TgZ(42,"mat-button-toggle",4)(43,"mat-icon"),t._uU(44,"visibility_off"),t.qZA()(),t.TgZ(45,"mat-button-toggle",5)(46,"mat-icon"),t._uU(47,"visibility"),t.qZA()(),t.TgZ(48,"mat-button-toggle",6),t._uU(49,"\u5168\u90e8"),t.qZA()()()(),t.TgZ(50,"div",2)(51,"span")(52,"b"),t._uU(53,"\u5927\u5e08\u6770\u4f5c"),t.qZA(),t._UZ(54,"br"),t._uU(55,"\u662f\u5426\u663e\u793a\u5927\u5e08\u6770\u4f5c\u62a4\u7532 "),t.qZA(),t.TgZ(56,"span")(57,"mat-button-toggle-group",3),t.NdJ("valueChange",function(){return o.Update()})("valueChange",function(s){return o.masterworkFilter=s}),t.TgZ(58,"mat-button-toggle",7)(59,"mat-icon"),t._uU(60,"visibility_off"),t.qZA()(),t.TgZ(61,"mat-button-toggle",8)(62,"mat-icon"),t._uU(63,"visibility"),t.qZA()(),t.TgZ(64,"mat-button-toggle",6),t._uU(65,"\u5168\u90e8"),t.qZA()()()(),t.TgZ(66,"div",2)(67,"span")(68,"b"),t._uU(69,"\u804c\u4e1a"),t.qZA(),t._UZ(70,"br"),t._uU(71,"\u9009\u62e9\u804c\u4e1a"),t.qZA(),t.TgZ(72,"span")(73,"mat-button-toggle-group",3),t.NdJ("valueChange",function(){return o.Update()})("valueChange",function(s){return o.classFilter=s}),t.TgZ(74,"mat-button-toggle",9),t.O4$(),t.TgZ(75,"svg",10),t._UZ(76,"path",11),t.qZA()(),t.kcU(),t.TgZ(77,"mat-button-toggle",12),t.O4$(),t.TgZ(78,"svg",10),t._UZ(79,"path",13),t.qZA()(),t.kcU(),t.TgZ(80,"mat-button-toggle",14),t.O4$(),t.TgZ(81,"svg",10),t._UZ(82,"path",15),t.qZA()(),t.kcU(),t.TgZ(83,"mat-button-toggle",16),t._uU(84,"\u5168\u90e8"),t.qZA()()()()()(),t.TgZ(85,"div",17),t.YNc(86,ju,2,1,"ng-container",18),t.qZA(),t.TgZ(87,"a",19),t._uU(88," Return to D2ArmorPicker "),t.qZA()()),2&e&&(t.xp6(7),t.hij(" \u672c\u9875\u9762\u53ef\u4ee5\u5e2e\u52a9\u4f60\u6e05\u7406\u4f60\u7684\u4fdd\u9669\u5e93\uff0c\u5b83\u4f1a\u83b7\u53d6\u4f60\u6240\u6709\u7684\u62a4\u7532\u5e76\u5c1d\u8bd5\u5c06\u5b83\u4eec\u5206\u6210 ",o.clusterInformation.length," \u4e2a\u96c6\u5408\u540c\u65f6\u4e3a\u4f60\u63d0\u4f9b\u6bcf\u4e2a\u96c6\u5408\u7684 DIM \u67e5\u8be2\u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u67e5\u770b\u5c5e\u6027\u5206\u5e03\u7c7b\u4f3c\u7684\u62a4\u7532\u3002 "),t.xp6(34),t.Q6J("value",o.exoticFilter),t.xp6(16),t.Q6J("value",o.masterworkFilter),t.xp6(16),t.Q6J("value",o.classFilter),t.xp6(13),t.Q6J("ngForOf",o.clusters))},dependencies:[T.sg,T.O5,g.xw,g.SQ,g.s9,j.b8,B.lW,B.zs,ct.KE,ct.hX,Ht.Nt,Z.a8,Z.dn,Z.n5,Z.$j,N.gM,X.Hw,_t.A9,_t.Yi,I.yS,St.i3,T.JJ],styles:["#cluster-container[_ngcontent-%COMP%]{max-width:800px;margin-left:auto;margin-right:auto}mat-card[_ngcontent-%COMP%]{margin-bottom:8px}.searchQueryField[_ngcontent-%COMP%]{width:100%}.returnbutton[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;width:100%}.stat-range[_ngcontent-%COMP%]{height:20px;width:100%;margin-bottom:3px;float:left;background-color:gray}.stat-range-bar[_ngcontent-%COMP%]{height:100%;float:left;background-color:#fff}.settings-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.settings-container[_ngcontent-%COMP%]:not(:last-of-type){padding-bottom:2px;border-bottom:1px whitesmoke solid;margin-bottom:2px}.red[_ngcontent-%COMP%]{color:red}.red.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:red;color:#fff}.green[_ngcontent-%COMP%]{color:green}.green.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:green;color:#fff}.svgClassIcon[_ngcontent-%COMP%]{width:24px}.cluster-container[_ngcontent-%COMP%]{flex-wrap:wrap}.cluster-item[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0}.avg-stat-value[_ngcontent-%COMP%]{margin-left:3px}.copyButton[_ngcontent-%COMP%]{width:100%}"]}),n})();function Gu(n,i){if(1&n&&(t.TgZ(0,"div",4,5),t._UZ(2,"img",6),t.TgZ(3,"span",7),t._uU(4),t.qZA()()),2&n){const e=t.oxw().ngVar,o=t.oxw();t.xp6(2),t.Q6J("src",o.artificeUrl,t.LSH),t.xp6(2),t.hij("\xd7",e,"")}}function Ku(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Gu,5,2,"div",3),t.BQk()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function Xu(n,i){if(1&n&&(t.TgZ(0,"div",9,5),t._UZ(2,"img",10),t.TgZ(3,"span",11),t._uU(4),t.qZA()()),2&n){const e=t.oxw().ngVar,o=t.oxw().$implicit,a=t.oxw().$implicit,s=t.oxw();t.Q6J("matTooltip",s.getStatName(a)),t.xp6(2),t.ekj("minor",1===o),t.Q6J("src",s.ModUrl[o+3*a],t.LSH),t.xp6(1),t.ekj("minor",1===o),t.xp6(1),t.hij("\xd7",e,"")}}function $u(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Xu,5,7,"div",8),t.BQk()),2&n){const e=i.ngVar;t.xp6(1),t.Q6J("ngIf",e>0)}}function tc(n,i){if(1&n&&(t.ynx(0),t.YNc(1,$u,2,1,"ng-container",1),t.ALo(2,"count"),t.BQk()),2&n){const e=i.$implicit,o=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngVar",t.xi3(2,1,a.mods,e+3*o))}}function ec(n,i){if(1&n&&(t.ynx(0),t.YNc(1,tc,3,4,"ng-container",2),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.modTypeIndex)}}const nc={[r.iV.MINOR_MOBILITY]:"https://www.bungie.net/common/destiny2_content/icons/a6694a4ff65d371d19330fb10415b315.png",[r.iV.MAJOR_MOBILITY]:"https://www.bungie.net/common/destiny2_content/icons/8861e73c6701b8347cef025d400cd3dc.png",[r.iV.ARTIFICE_MOBILITY]:"https://www.bungie.net/common/destiny2_content/icons/a6694a4ff65d371d19330fb10415b315.png",[r.iV.MINOR_RESILIENCE]:"https://www.bungie.net/common/destiny2_content/icons/ab1ffe5128806c3639e531f89a2d72d1.png",[r.iV.MAJOR_RESILIENCE]:"https://www.bungie.net/common/destiny2_content/icons/b2228e67e72fad2eb37735a33e0d0116.png",[r.iV.ARTIFICE_RESILIENCE]:"https://www.bungie.net/common/destiny2_content/icons/ab1ffe5128806c3639e531f89a2d72d1.png",[r.iV.MINOR_RECOVERY]:"https://www.bungie.net/common/destiny2_content/icons/e0fc8c022c2ab49ef92caff5843db7da.png",[r.iV.MAJOR_RECOVERY]:"https://www.bungie.net/common/destiny2_content/icons/4251f77e3b24900e262f16d5587980ef.png",[r.iV.ARTIFICE_RECOVERY]:"https://www.bungie.net/common/destiny2_content/icons/e0fc8c022c2ab49ef92caff5843db7da.png",[r.iV.MINOR_DISCIPLINE]:"https://www.bungie.net/common/destiny2_content/icons/f841f379751b7672fca0e5f231e92638.png",[r.iV.MAJOR_DISCIPLINE]:"https://www.bungie.net/common/destiny2_content/icons/3a5a2d6ee50b2611ebc4d4806d29301a.png",[r.iV.ARTIFICE_DISCIPLINE]:"https://www.bungie.net/common/destiny2_content/icons/f841f379751b7672fca0e5f231e92638.png",[r.iV.MINOR_INTELLECT]:"https://www.bungie.net/common/destiny2_content/icons/f26479a3462676d613f135657ecad45a.png",[r.iV.MAJOR_INTELLECT]:"https://www.bungie.net/common/destiny2_content/icons/98408051297c26cb033cb761ab955fac.png",[r.iV.ARTIFICE_INTELLECT]:"https://www.bungie.net/common/destiny2_content/icons/f26479a3462676d613f135657ecad45a.png",[r.iV.MINOR_STRENGTH]:"https://www.bungie.net/common/destiny2_content/icons/dbd1615501778b66bca2764b9a561044.png",[r.iV.MAJOR_STRENGTH]:"https://www.bungie.net/common/destiny2_content/icons/7b64c0b8014a57c6c297babb18c2239e.png",[r.iV.ARTIFICE_STRENGTH]:"https://www.bungie.net/common/destiny2_content/icons/dbd1615501778b66bca2764b9a561044.png"};let oc=(()=>{class n{constructor(){this.artificeUrl=r.X9[r.Pn.SlotArtifice],this.modIndex=[0,1,2,3,4,5],this.modTypeIndex=[1,2],this.ModUrl=nc,this.mods=[],this.artifice=[]}getStatName(e){return r.Mi[e]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table-mod-display"]],inputs:{mods:"mods",artifice:"artifice"},decls:4,vars:4,consts:[[1,"row-mod"],[4,"ngVar"],[4,"ngFor","ngForOf"],["class","container","matTooltip","\u8be1\u8ba1\u62a4\u7532",4,"ngIf"],["matTooltip","\u8be1\u8ba1\u62a4\u7532",1,"container"],["tooltip","matTooltip"],[1,"artificeIcon","artifice",3,"src"],[1,"modText","artifice"],["class","container",3,"matTooltip",4,"ngIf"],[1,"container",3,"matTooltip"],[1,"modIcon",3,"src"],[1,"modText"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ku,2,1,"ng-container",1),t.ALo(2,"count"),t.YNc(3,ec,2,1,"ng-container",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngVar",t.lcZ(2,2,o.artifice)),t.xp6(2),t.Q6J("ngForOf",o.modIndex))},dependencies:[T.sg,T.O5,N.gM,yt,ce],styles:[".container[_ngcontent-%COMP%]{display:inline-block;width:32px;height:30px;position:relative}.modIcon[_ngcontent-%COMP%]{position:absolute;top:-12px;left:-12px;width:50px;height:50px;filter:contrast(2.3);border:#00000000 solid 2px;-webkit-mask-image:url(modmask.f03dde91561a62d6.svg);mask-image:image(url(modmask.f03dde91561a62d6.svg),black)}.modIcon.minor[_ngcontent-%COMP%]{filter:contrast(1.3)}.artificeIcon[_ngcontent-%COMP%]{height:28px;width:28px;filter:saturate(40) hue-rotate(40deg)}.selected[_ngcontent-%COMP%]{border:red solid 2px}[_nghost-%COMP%]{position:relative}.modText[_ngcontent-%COMP%]{position:absolute;text-shadow:0 0 6px #000000;font-size:smaller;color:#f5f5f5;bottom:-6px;right:-1px}"]}),n})();var ic=_(7314);function ac(n,i){if(1&n&&t._UZ(0,"div"),2&n){const e=i.$implicit,o=i.index,a=t.oxw().index;t.Jzz("width:",e/32*100,"%"),t.Gre("stat-range-bar stat-range-bar",o+(a>=3?3:0),"")}}const _e=function(){return["\u654f\u6377","\u97e7\u6027","\u6062\u590d","\u7eaa\u5f8b","\u667a\u6167","\u529b\u91cf"]};function sc(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",16)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td",17)(8,"div",18),t.YNc(9,ac,1,6,"div",19),t.qZA()()(),t.BQk()),2&n){const e=i.$implicit,o=i.index,a=t.oxw().$implicit;t.xp6(1),t.Q6J("matTooltip",t.DdM(7,_e)[o]),t.xp6(2),t.hij(" ",t.DdM(8,_e)[o]," "),t.xp6(2),t.Oqu(t.xi3(6,4,a.totalStats[o],"1.0-0")),t.xp6(4),t.Q6J("ngForOf",e)}}function rc(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"a",20),t._UZ(3,"img",15),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",21),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(2),t.MGl("href","https://data.destinysets.com/i/InventoryItem:",e,"",t.LSH),t.xp6(2),t.hij(" ",e,""),t.xp6(2),t.Oqu(o.getPlugSum(e)),t.xp6(2),t.Oqu(o.getPlugString(e))}}const uc=function(n,i,e,o,a,s){return[n,i,e,o,a,s]};function cc(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-card",12)(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-content")(5,"table")(6,"tr")(7,"td",13),t._uU(8,"Hash:"),t.qZA(),t.TgZ(9,"td")(10,"a",14),t._UZ(11,"img",15),t.qZA(),t._uU(12),t.qZA()(),t.TgZ(13,"tr")(14,"td",13),t._uU(15,"ItemInstanceId:"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA()(),t.TgZ(18,"tr")(19,"td",13),t._uU(20,"\u65e5\u843d?"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()(),t.TgZ(23,"tr")(24,"td"),t._uU(25,"\u5171\u8ba1"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA()(),t.YNc(28,sc,10,9,"ng-container",10),t.qZA()(),t.TgZ(29,"mat-card-content"),t._uU(30," Plugs: "),t.TgZ(31,"table")(32,"tr")(33,"td"),t._uU(34,"Plug"),t.qZA(),t.TgZ(35,"td"),t._uU(36,"\u5171\u8ba1"),t.qZA(),t.TgZ(37,"td"),t._uU(38,"\u6570\u503c"),t.qZA()(),t.YNc(39,rc,9,4,"tr",10),t.qZA()()(),t.BQk()),2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(7),t.MGl("href","https://data.destinysets.com/i/InventoryItem:",e.hash,"",t.LSH),t.xp6(2),t.hij(" ",e.hash,""),t.xp6(5),t.Oqu(e.itemInstanceId),t.xp6(5),t.Oqu(e.isSunset),t.xp6(5),t.Oqu(e.totalSum),t.xp6(1),t.Q6J("ngForOf",t.HTZ(8,uc,e.mobility,e.resilience,e.recovery,e.discipline,e.intellect,e.strength)),t.xp6(11),t.Q6J("ngForOf",e.statPlugHashes)}}function lc(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-toolbar"),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"div",11),t.YNc(5,cc,40,15,"ng-container",10),t.qZA(),t.BQk()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.hij(" ",o.getCategoryName(e.key)," "),t.xp6(3),t.Q6J("ngForOf",e.value)}}let mc=(()=>{class n{constructor(e,o){this.inventory=e,this.db=o,this.minMobility=0,this.minResilience=0,this.minRecovery=0,this.minDiscipline=0,this.minIntellect=0,this.minStrength=0,this.anyPlugWithN=0,this.anyPlugBelowN=17,this.allPlugsWithN=0,this.allPlugsBelowN=17,this.armorName="",this.armorHash="",this.armorId="",this.armorItemsPerSlot=new Map,this.plugData={},this.ngUnsubscribe=new nt.xQ}ngOnInit(){var e=this;this.inventory.inventory.pipe((0,st.b)(10),(0,J.R)(this.ngUnsubscribe)).subscribe((0,m.Z)(function*(){e.updateItems()}))}getPlugString(e){var o=this.plugData[e];let a=[0,0,0,0,0,0];for(let s of o.investmentStats)switch(s.statTypeHash){case 2996146975:a[0]+=s.value;break;case 392767087:a[1]+=s.value;break;case 1943323491:a[2]+=s.value;break;case 1735777505:a[3]+=s.value;break;case 144602215:a[4]+=s.value;break;case 4244567218:a[5]+=s.value}return"["+a.join(" ")+"]"}updateItems(){var e=this;return(0,m.Z)(function*(){const a=(yield e.db.manifestArmor.toArray()).filter(p=>19==p.itemType);let s=Object.fromEntries(a.map(p=>[p.hash,p]));e.plugData=s;let c=(yield e.db.inventoryArmor.toArray()).sort((p,d)=>(""+p.name).localeCompare(d.name)).map(p=>{var d={name:p.name,hash:p.hash,isSunset:p.isSunset,itemInstanceId:p.itemInstanceId,statPlugHashes:p.statPlugHashes,mobility:[],resilience:[],recovery:[],discipline:[],intellect:[],strength:[],totalStats:[0,0,0,0,0,0],totalSum:0,slot:p.slot};if(p.statPlugHashes)for(let C of p.statPlugHashes){var x=s[C];for(let E of x.investmentStats)switch(E.statTypeHash){case 2996146975:d.mobility.push(E.value),d.totalStats[0]+=E.value;break;case 392767087:d.resilience.push(E.value),d.totalStats[1]+=E.value;break;case 1943323491:d.recovery.push(E.value),d.totalStats[2]+=E.value;break;case 1735777505:d.discipline.push(E.value),d.totalStats[3]+=E.value;break;case 144602215:d.intellect.push(E.value),d.totalStats[4]+=E.value;break;case 4244567218:d.strength.push(E.value),d.totalStats[5]+=E.value}}if(p.investmentStats)for(let C of p.investmentStats)switch(C.statTypeHash){case 2996146975:d.mobility.push(C.value),d.totalStats[0]+=C.value;break;case 392767087:d.resilience.push(C.value),d.totalStats[1]+=C.value;break;case 1943323491:d.recovery.push(C.value),d.totalStats[2]+=C.value;break;case 1735777505:d.discipline.push(C.value),d.totalStats[3]+=C.value;break;case 144602215:d.intellect.push(C.value),d.totalStats[4]+=C.value;break;case 4244567218:d.strength.push(C.value),d.totalStats[5]+=C.value}for(let C of d.totalStats)d.totalSum+=C;return d});c=e.filterItems(c),e.armorItemsPerSlot=c.reduce((p,d)=>{const x=d.slot?d.slot:10;return p.has(x)||p.set(x,[]),p.get(x)?.push(d),p},new Map)})()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getCategoryName(e){switch(e){case 1:return"\u5934\u76d4";case 2:return"\u81c2\u94e0";case 3:return"\u80f8\u90e8\u62a4\u7532";case 4:return"\u817f\u90e8\u62a4\u7532";case 5:return"\u804c\u4e1a\u7269\u54c1"}return"\u672a\u77e5"}getPlugSum(e){var o=this.plugData[e],a=0;for(let s of o.investmentStats)switch(s.statTypeHash){case 2996146975:case 392767087:case 1943323491:case 1735777505:case 144602215:case 4244567218:a+=s.value}return a}clear(){this.armorName="",this.armorHash="",this.armorId="",this.minMobility=0,this.minResilience=0,this.minRecovery=0,this.minDiscipline=0,this.minIntellect=0,this.minStrength=0,this.anyPlugWithN=0,this.anyPlugBelowN=17}filterItems(e){return this.armorName&&(e=e.filter(o=>o.name.toLowerCase().indexOf(this.armorName)>-1)),this.armorHash&&(e=e.filter(o=>(o.hash||0).toString().indexOf(this.armorHash)>-1)),this.armorId&&(e=e.filter(o=>(o.itemInstanceId||0).toString().indexOf(this.armorId)>-1)),e=(e=(e=(e=(e=(e=e.filter(o=>o.totalStats[0]>=(this.minMobility||0))).filter(o=>o.totalStats[1]>=(this.minResilience||0))).filter(o=>o.totalStats[2]>=(this.minRecovery||0))).filter(o=>o.totalStats[3]>=(this.minDiscipline||0))).filter(o=>o.totalStats[4]>=(this.minIntellect||0))).filter(o=>o.totalStats[5]>=(this.minStrength||0)),(this.anyPlugWithN??0)>0&&(e=e.filter(o=>(o.statPlugHashes||[]).filter(a=>this.getPlugSum(a)>=(this.anyPlugWithN||0)).length>0)),(this.anyPlugBelowN??0)<17&&(e=e.filter(o=>(o.statPlugHashes||[]).filter(a=>this.getPlugSum(a)<=(this.anyPlugBelowN||0)).length>0)),(this.allPlugsWithN??0)>0&&(e=e.filter(o=>0==(o.statPlugHashes||[]).filter(a=>this.getPlugSum(a)<(this.allPlugsWithN||0)).length)),(this.allPlugsBelowN??0)<17&&(e=e.filter(o=>0==(o.statPlugHashes||[]).filter(a=>this.getPlugSum(a)>(this.allPlugsBelowN||0)).length)),e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et),t.Y36(rt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-armor-investigation-page"]],decls:108,vars:26,consts:[["id","description"],["href","https://www.reddit.com/r/DestinyTheGame/comments/mpaopq/how_armor_stats_roll_an_advanced_insight_into/","target","_blank"],["colspan","3"],["appearance","outline"],["matInput","","placeholder","Stronghold",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],["max","32","min","0","step","1","thumbLabel","","tickInterval","1",3,"value","valueChange"],["max","17","min","0","step","1","thumbLabel","","tickInterval","1",3,"value","valueChange"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","10px",1,"armor-container"],[1,"cluster-item"],["colspan","2"],["alt","This armor on data.destinysets.com","target","_blank",3,"href"],["src","https://data.destinysets.com/static/media/logo.556bd7bd.svg",2,"width","15px"],[3,"matTooltip"],["width","100%"],[1,"stat-range"],[3,"class","style",4,"ngFor","ngForOf"],["alt","This plug on data.destinysets.com","target","_blank",3,"href"],[1,"plug-sum-col"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title"),t._uU(2," \u62a4\u7532\u8c03\u67e5 "),t.qZA(),t.TgZ(3,"mat-card-subtitle"),t._uU(4," \u4e00\u4e2a\u53ef\u89c6\u5316\u7684\u6570\u636e\u5206\u6790\u5de5\u5177 "),t.qZA(),t.TgZ(5,"mat-card-content"),t._uU(6," \u5728\u8fd9\u91cc\u4f1a\u5217\u51fa\u4f60\u6240\u6709\u7684\u62a4\u7532\u5e76\u4e14\u663e\u793a\u6bcf\u4ef6\u62a4\u7532\u7684\u7ec4\u6210\u65b9\u5f0f\uff0c\u5b83\u53ef\u4ee5\u76f4\u89c2\u5730\u5c55\u793a\u51fa\u6bcf\u4ef6\u62a4\u7532\u7684 plug \u4ee5\u53ca\u5f02\u57df\u62a4\u7532\u7684\u5185\u5728\u5c5e\u6027\u3002\u6709\u5173 plug \u7684\u4fe1\u606f\u53ef\u4ee5\u5728"),t.TgZ(7,"a",1),t._uU(8,"\u8fd9\u91cc"),t.qZA(),t._uU(9,"\u67e5\u770b\u3002 "),t._UZ(10,"br"),t._uU(11," \u8bf7\u6ce8\u610f\uff1a\u6b64\u529f\u80fd\u4e3b\u8981\u9488\u5bf9\u7684\u662f\u559c\u6b22\u7814\u7a76\u6570\u636e\u548c\u62a4\u7532\u5c5e\u6027\u7684\u4eba\uff0c\u4ec5\u4ec5\u662f\u4e00\u4e2a\u6570\u636e\u53ef\u89c6\u5316\u3002\u672a\u6765"),t.TgZ(12,"i"),t._uU(13,"\u53ef\u80fd"),t.qZA(),t._uU(14,"\u4f1a\u63a8\u51fa\u641c\u7d22\u529f\u80fd\u548c\u79fb\u52a8\u7aef\u5e03\u5c40\u3002 "),t.qZA(),t.TgZ(15,"mat-card-title"),t._uU(16," \u8fc7\u6ee4\u5668 "),t.qZA(),t.TgZ(17,"mat-card-subtitle"),t._uU(18," \u5e73\u5e73\u65e0\u5947\u7684\u8fc7\u6ee4\u5668 ;) "),t.qZA(),t.TgZ(19,"mat-card-content")(20,"table")(21,"tr")(22,"td",2)(23,"mat-form-field",3)(24,"mat-label"),t._uU(25,"\u7269\u54c1\u540d\u79f0"),t.qZA(),t.TgZ(26,"input",4),t.NdJ("ngModelChange",function(s){return o.armorName=s}),t.qZA()()(),t.TgZ(27,"td",2)(28,"mat-form-field",3)(29,"mat-label"),t._uU(30,"\u7269\u54c1 hash"),t.qZA(),t.TgZ(31,"input",5),t.NdJ("ngModelChange",function(s){return o.armorHash=s}),t.qZA()()(),t.TgZ(32,"td",2)(33,"mat-form-field",3)(34,"mat-label"),t._uU(35,"\u7269\u54c1 ID"),t.qZA(),t.TgZ(36,"input",5),t.NdJ("ngModelChange",function(s){return o.armorId=s}),t.qZA()()()(),t.TgZ(37,"tr")(38,"td"),t._uU(39," \u654f\u6377: "),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td")(43,"mat-slider",6),t.NdJ("valueChange",function(s){return o.minMobility=s}),t.qZA()(),t.TgZ(44,"td"),t._uU(45," \u97e7\u6027: "),t.qZA(),t.TgZ(46,"td"),t._uU(47),t.qZA(),t.TgZ(48,"td")(49,"mat-slider",6),t.NdJ("valueChange",function(s){return o.minResilience=s}),t.qZA()(),t.TgZ(50,"td"),t._uU(51," \u6062\u590d: "),t.qZA(),t.TgZ(52,"td"),t._uU(53),t.qZA(),t.TgZ(54,"td")(55,"mat-slider",6),t.NdJ("valueChange",function(s){return o.minRecovery=s}),t.qZA()()(),t.TgZ(56,"tr")(57,"td"),t._uU(58," \u7eaa\u5f8b: "),t.qZA(),t.TgZ(59,"td"),t._uU(60),t.qZA(),t.TgZ(61,"td")(62,"mat-slider",6),t.NdJ("valueChange",function(s){return o.minDiscipline=s}),t.qZA()(),t.TgZ(63,"td"),t._uU(64," \u667a\u6167: "),t.qZA(),t.TgZ(65,"td"),t._uU(66),t.qZA(),t.TgZ(67,"td")(68,"mat-slider",6),t.NdJ("valueChange",function(s){return o.minIntellect=s}),t.qZA()(),t.TgZ(69,"td"),t._uU(70," \u529b\u91cf: "),t.qZA(),t.TgZ(71,"td"),t._uU(72),t.qZA(),t.TgZ(73,"td")(74,"mat-slider",6),t.NdJ("valueChange",function(s){return o.minStrength=s}),t.qZA()()(),t.TgZ(75,"tr")(76,"td"),t._uU(77," Any plug >=: "),t.qZA(),t.TgZ(78,"td"),t._uU(79),t.qZA(),t.TgZ(80,"td")(81,"mat-slider",7),t.NdJ("valueChange",function(s){return o.anyPlugWithN=s}),t.qZA()(),t.TgZ(82,"td"),t._uU(83," Any Plug <=: "),t.qZA(),t.TgZ(84,"td"),t._uU(85),t.qZA(),t.TgZ(86,"td")(87,"mat-slider",7),t.NdJ("valueChange",function(s){return o.anyPlugBelowN=s}),t.qZA()()(),t.TgZ(88,"tr")(89,"td"),t._uU(90," All plugs >=: "),t.qZA(),t.TgZ(91,"td"),t._uU(92),t.qZA(),t.TgZ(93,"td")(94,"mat-slider",7),t.NdJ("valueChange",function(s){return o.allPlugsWithN=s}),t.qZA()(),t.TgZ(95,"td"),t._uU(96," All Plugs <=: "),t.qZA(),t.TgZ(97,"td"),t._uU(98),t.qZA(),t.TgZ(99,"td")(100,"mat-slider",7),t.NdJ("valueChange",function(s){return o.allPlugsBelowN=s}),t.qZA()()()(),t.TgZ(101,"a",8),t.NdJ("click",function(){return o.updateItems()}),t._uU(102,"\u66f4\u65b0"),t.qZA(),t._uU(103,"\xa0 "),t.TgZ(104,"a",9),t.NdJ("click",function(){return o.clear()}),t._uU(105,"\u6e05\u7a7a"),t.qZA()()(),t.YNc(106,lc,6,2,"ng-container",10),t.ALo(107,"keyvalue")),2&e&&(t.xp6(26),t.Q6J("ngModel",o.armorName),t.xp6(5),t.Q6J("ngModel",o.armorHash),t.xp6(5),t.Q6J("ngModel",o.armorId),t.xp6(5),t.hij(" ",o.minMobility,""),t.xp6(2),t.Q6J("value",o.minMobility),t.xp6(4),t.hij(" ",o.minResilience,""),t.xp6(2),t.Q6J("value",o.minResilience),t.xp6(4),t.hij(" ",o.minRecovery,""),t.xp6(2),t.Q6J("value",o.minRecovery),t.xp6(5),t.hij(" ",o.minDiscipline,""),t.xp6(2),t.Q6J("value",o.minDiscipline),t.xp6(4),t.hij(" ",o.minIntellect,""),t.xp6(2),t.Q6J("value",o.minIntellect),t.xp6(4),t.Oqu(o.minStrength),t.xp6(2),t.Q6J("value",o.minStrength),t.xp6(5),t.Oqu(o.anyPlugWithN),t.xp6(2),t.Q6J("value",o.anyPlugWithN),t.xp6(4),t.Oqu(o.anyPlugBelowN),t.xp6(2),t.Q6J("value",o.anyPlugBelowN),t.xp6(5),t.Oqu(o.allPlugsWithN),t.xp6(2),t.Q6J("value",o.allPlugsWithN),t.xp6(4),t.Oqu(o.allPlugsBelowN),t.xp6(2),t.Q6J("value",o.allPlugsBelowN),t.xp6(6),t.Q6J("ngForOf",t.lcZ(107,24,o.armorItemsPerSlot)))},dependencies:[T.sg,g.xw,g.SQ,$.Fj,$.JJ,$.On,B.zs,ct.KE,ct.hX,ic.pH,Ht.Nt,Z.a8,Z.dn,Z.n5,Z.$j,N.gM,z.Ye,T.JJ,T.Nd],styles:["#description[_ngcontent-%COMP%], #filter[_ngcontent-%COMP%]{max-width:700px;margin-bottom:10px;margin-left:auto;margin-right:auto}.cluster-item[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;min-width:250px;max-width:350px;margin-bottom:10px}.armor-container[_ngcontent-%COMP%], .plug-sum-col[_ngcontent-%COMP%]{padding-left:5px}.armor-container[_ngcontent-%COMP%]{flex-wrap:wrap}.stat-range[_ngcontent-%COMP%]{height:20px;width:100%;margin-bottom:3px;float:left;background-color:gray}.stat-range-bar[_ngcontent-%COMP%]{height:100%;float:left;background-color:#fff}.stat-range-bar0[_ngcontent-%COMP%]{background-color:#acfff1}.stat-range-bar1[_ngcontent-%COMP%]{background-color:#5e9eff}.stat-range-bar3[_ngcontent-%COMP%]{background-color:#ffc2ac}.stat-range-bar4[_ngcontent-%COMP%]{background-color:#ffb45e}.stat-range-bar2[_ngcontent-%COMP%], .stat-range-bar5[_ngcontent-%COMP%]{background-color:#c246ff}a[_ngcontent-%COMP%]{color:#99afe3}a[_ngcontent-%COMP%]:visited{color:#7294dc}"]}),n})(),pc=(()=>{class n{constructor(e,o,a){this.db=e,this.inv=o,this.loginService=a}downloadArmorInformation(){var e=this;return(0,m.Z)(function*(){const o=yield e.db.inventoryArmor.toArray(),a=window.URL.createObjectURL(new Blob([JSON.stringify(o,null,2)])),s=document.createElement("a");s.href=a,s.setAttribute("download","d2ap_armor.json"),document.body.appendChild(s),s.click()})()}downloadManifestInformation(){var e=this;return(0,m.Z)(function*(){const o=yield e.db.manifestArmor.toArray(),a=window.URL.createObjectURL(new Blob([JSON.stringify(o,null,1)])),s=document.createElement("a");s.href=a,s.setAttribute("download","d2ap_manifest.json"),document.body.appendChild(s),s.click()})()}resetDatabase(){var e=this;return(0,m.Z)(function*(){yield e.db.resetDatabase(),yield e.inv.refreshAll(!0,!0)})()}resetEverything(){var e=this;return(0,m.Z)(function*(){localStorage.clear(),yield e.db.resetDatabase(),yield e.loginService.logout()})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(rt),t.Y36(et),t.Y36(V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-account-config-page"]],decls:35,vars:0,consts:[["id","account-config-container"],["color","primary","fxShow","false","fxShow.lt-md","true","mat-raised-button","","routerLink","/",1,"returnbutton"],["color","primary","mat-raised-button","",1,"btn-download",3,"click"],["color","warn","mat-raised-button","",1,"btn-download",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"a",1),t._uU(2," Return to D2ArmorPicker "),t.qZA(),t.TgZ(3,"mat-card")(4,"mat-card-title"),t._uU(5," \u8d26\u53f7\u8bbe\u7f6e "),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7," \u5f53\u4f60\u4fee\u6539 build \u8bbe\u7f6e\u65f6\uff0c\u672c\u9875\u9762\u7684\u914d\u7f6e\u4e0d\u4f1a\u91cd\u7f6e "),t.qZA(),t.TgZ(8,"mat-card-content"),t._uU(9," \u8fd9\u4e9b\u5c06\u5728\u672a\u6765\u7684\u66f4\u65b0\u4e2d\u51fa\u73b0\uff0c\u73b0\u5728\uff0c\u6211\u53ea\u60f3\u5c06\u201c\u8c03\u8bd5\u201d\u90e8\u5206\u63a8\u51fa\u3002 "),t.qZA()(),t.TgZ(10,"mat-card")(11,"mat-card-title"),t._uU(12," \u8c03\u8bd5 "),t.qZA(),t.TgZ(13,"mat-card-subtitle"),t._uU(14," \u4e00\u4e9b\u7528\u4e8e\u8c03\u8bd5\u76ee\u7684\u7684\u529f\u80fd "),t.qZA(),t.TgZ(15,"mat-card-content"),t._uU(16," \u5982\u679c\u4f60\u9700\u8981\u53d1\u9001\u4e00\u4e9b\u7279\u5b9a\u6570\u636e\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\uff1a"),t._UZ(17,"br"),t.TgZ(18,"a",2),t.NdJ("click",function(){return o.downloadArmorInformation()}),t._uU(19," \u4e0b\u8f7d\u62a4\u7532\u4fe1\u606f(d2ap_armor.json) "),t.qZA(),t.TgZ(20,"a",2),t.NdJ("click",function(){return o.downloadManifestInformation()}),t._uU(21," \u4e0b\u8f7d\u8be6\u7ec6\u6e05\u5355(d2ap_manifest.json) "),t.qZA(),t._UZ(22,"br")(23,"br"),t._uU(24," \u5982\u679c\u4f60\u9047\u5230\u672c\u5730\u6570\u636e\u5e93\u95ee\u9898--\u6bd4\u5982\u67d0\u4ef6\u5f02\u57df\u62a4\u7532\u627e\u4e0d\u5230\uff0c\u8bd5\u8bd5\u8fd9\u4e2a\uff1a "),t._UZ(25,"br"),t.TgZ(26,"a",3),t.NdJ("click",function(){return o.resetDatabase()}),t._uU(27," \u5220\u9664\u6570\u636e\u5e93 "),t.qZA(),t._UZ(28,"br"),t._uU(29," \u5982\u679c\u4f60\u8981\u91cd\u7f6e\u6574\u4e2a\u5e94\u7528\uff0c\u7528\u8fd9\u4e2a\uff1a"),t._UZ(30,"br"),t.TgZ(31,"a",3),t.NdJ("click",function(){return o.resetEverything()}),t._uU(32," \u91cd\u7f6e\u5e94\u7528 "),t.qZA()()(),t.TgZ(33,"a",1),t._uU(34," Return to D2ArmorPicker "),t.qZA()())},dependencies:[j.b8,B.zs,Z.a8,Z.dn,Z.n5,Z.$j,I.yS],styles:[".returnbutton[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px;width:100%}#account-config-container[_ngcontent-%COMP%]{max-width:800px;margin-left:auto;margin-right:auto}mat-card[_ngcontent-%COMP%]{margin-bottom:8px}.btn-download[_ngcontent-%COMP%]{margin-right:10px}"]}),n})();var dc=_(4661),fe=_(7331);const gc=[{path:"",component:ke,canActivate:[Ut],children:[{path:"",component:Lu},{path:"help",component:Ua},{path:"cluster",component:zu},{path:"investigate",component:mc},{path:"theory",loadChildren:()=>_.e(442).then(_.bind(_,2442)).then(n=>n.TheorizerPageModule)},{path:"account",component:pc}]},{path:"login",component:kt,canActivate:[Pt]},{path:"login-bungie",component:ft},{path:"**",redirectTo:"/"}];let _c=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n,bootstrap:[bt]}),n.\u0275inj=t.cJS({imports:[T.ez,dc.V,v.b2,Bt.PW,mt.JF,I.Bz.forRoot(gc,{useHash:!0}),St.Iq,pt.xu]}),n})();t.B6R(re,function(){return[T.sg,T.O5,g.xw,g.SQ,g.Wh,g.yH,B.lW,ct.KE,ct.hX,ct.R9,Ht.Nt,F.BZ,F.fO,F.as,F.w1,F.Dz,F.nj,F.ge,F.ev,F.XQ,F.Gk,Z.a8,Z.dn,Z.n5,Z.$j,Z.hq,N.gM,X.Hw,jt.YE,jt.nU,se.NW,fe.qn,fe.HS,wa,oc]},function(){return[T.JJ]}),t.B6R(ie,function(){return[B.lW,K.ZT,K.uh,K.xY,K.H8,me]},[]),(0,t.G48)(),v.q6().bootstrapModule(_c).catch(n=>console.error(n))}},it=>{it.O(0,[736],()=>it(it.s=8298)),it.O()}]);